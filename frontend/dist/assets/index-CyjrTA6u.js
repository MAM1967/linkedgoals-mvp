(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=n(l);fetch(l.href,c)}})();function ZA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ad={exports:{}},hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function WA(){if(my)return hl;my=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,c){var f=null;if(c!==void 0&&(f=""+c),l.key!==void 0&&(f=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:f,ref:l!==void 0?l:null,props:c}}return hl.Fragment=t,hl.jsx=n,hl.jsxs=n,hl}var gy;function JA(){return gy||(gy=1,Ad.exports=WA()),Ad.exports}var rt=JA(),Sd={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function tS(){if(py)return wt;py=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),I=Symbol.iterator;function x(C){return C===null||typeof C!="object"?null:(C=I&&C[I]||C["@@iterator"],typeof C=="function"?C:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,et={};function Z(C,X,it){this.props=C,this.context=X,this.refs=et,this.updater=it||F}Z.prototype.isReactComponent={},Z.prototype.setState=function(C,X){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,X,"setState")},Z.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function lt(){}lt.prototype=Z.prototype;function pt(C,X,it){this.props=C,this.context=X,this.refs=et,this.updater=it||F}var tt=pt.prototype=new lt;tt.constructor=pt,$(tt,Z.prototype),tt.isPureReactComponent=!0;var Et=Array.isArray,ct={H:null,A:null,T:null,S:null,V:null},bt=Object.prototype.hasOwnProperty;function N(C,X,it,W,dt,Ct){return it=Ct.ref,{$$typeof:r,type:C,key:X,ref:it!==void 0?it:null,props:Ct}}function S(C,X){return N(C.type,X,void 0,void 0,void 0,C.props)}function w(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function O(C){var X={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(it){return X[it]})}var V=/\/+/g;function P(C,X){return typeof C=="object"&&C!==null&&C.key!=null?O(""+C.key):X.toString(36)}function R(){}function Me(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(R,R):(C.status="pending",C.then(function(X){C.status==="pending"&&(C.status="fulfilled",C.value=X)},function(X){C.status==="pending"&&(C.status="rejected",C.reason=X)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function se(C,X,it,W,dt){var Ct=typeof C;(Ct==="undefined"||Ct==="boolean")&&(C=null);var Tt=!1;if(C===null)Tt=!0;else switch(Ct){case"bigint":case"string":case"number":Tt=!0;break;case"object":switch(C.$$typeof){case r:case t:Tt=!0;break;case T:return Tt=C._init,se(Tt(C._payload),X,it,W,dt)}}if(Tt)return dt=dt(C),Tt=W===""?"."+P(C,0):W,Et(dt)?(it="",Tt!=null&&(it=Tt.replace(V,"$&/")+"/"),se(dt,X,it,"",function(Bn){return Bn})):dt!=null&&(w(dt)&&(dt=S(dt,it+(dt.key==null||C&&C.key===dt.key?"":(""+dt.key).replace(V,"$&/")+"/")+Tt)),X.push(dt)),1;Tt=0;var Re=W===""?".":W+":";if(Et(C))for(var Zt=0;Zt<C.length;Zt++)W=C[Zt],Ct=Re+P(W,Zt),Tt+=se(W,X,it,Ct,dt);else if(Zt=x(C),typeof Zt=="function")for(C=Zt.call(C),Zt=0;!(W=C.next()).done;)W=W.value,Ct=Re+P(W,Zt++),Tt+=se(W,X,it,Ct,dt);else if(Ct==="object"){if(typeof C.then=="function")return se(Me(C),X,it,W,dt);throw X=String(C),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Tt}function q(C,X,it){if(C==null)return C;var W=[],dt=0;return se(C,W,"","",function(Ct){return X.call(it,Ct,dt++)}),W}function nt(C){if(C._status===-1){var X=C._result;X=X(),X.then(function(it){(C._status===0||C._status===-1)&&(C._status=1,C._result=it)},function(it){(C._status===0||C._status===-1)&&(C._status=2,C._result=it)}),C._status===-1&&(C._status=0,C._result=X)}if(C._status===1)return C._result.default;throw C._result}var ht=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function zt(){}return wt.Children={map:q,forEach:function(C,X,it){q(C,function(){X.apply(this,arguments)},it)},count:function(C){var X=0;return q(C,function(){X++}),X},toArray:function(C){return q(C,function(X){return X})||[]},only:function(C){if(!w(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},wt.Component=Z,wt.Fragment=n,wt.Profiler=l,wt.PureComponent=pt,wt.StrictMode=s,wt.Suspense=p,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ct,wt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return ct.H.useMemoCache(C)}},wt.cache=function(C){return function(){return C.apply(null,arguments)}},wt.cloneElement=function(C,X,it){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var W=$({},C.props),dt=C.key,Ct=void 0;if(X!=null)for(Tt in X.ref!==void 0&&(Ct=void 0),X.key!==void 0&&(dt=""+X.key),X)!bt.call(X,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&X.ref===void 0||(W[Tt]=X[Tt]);var Tt=arguments.length-2;if(Tt===1)W.children=it;else if(1<Tt){for(var Re=Array(Tt),Zt=0;Zt<Tt;Zt++)Re[Zt]=arguments[Zt+2];W.children=Re}return N(C.type,dt,void 0,void 0,Ct,W)},wt.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},wt.createElement=function(C,X,it){var W,dt={},Ct=null;if(X!=null)for(W in X.key!==void 0&&(Ct=""+X.key),X)bt.call(X,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(dt[W]=X[W]);var Tt=arguments.length-2;if(Tt===1)dt.children=it;else if(1<Tt){for(var Re=Array(Tt),Zt=0;Zt<Tt;Zt++)Re[Zt]=arguments[Zt+2];dt.children=Re}if(C&&C.defaultProps)for(W in Tt=C.defaultProps,Tt)dt[W]===void 0&&(dt[W]=Tt[W]);return N(C,Ct,void 0,void 0,null,dt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(C){return{$$typeof:g,render:C}},wt.isValidElement=w,wt.lazy=function(C){return{$$typeof:T,_payload:{_status:-1,_result:C},_init:nt}},wt.memo=function(C,X){return{$$typeof:y,type:C,compare:X===void 0?null:X}},wt.startTransition=function(C){var X=ct.T,it={};ct.T=it;try{var W=C(),dt=ct.S;dt!==null&&dt(it,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(zt,ht)}catch(Ct){ht(Ct)}finally{ct.T=X}},wt.unstable_useCacheRefresh=function(){return ct.H.useCacheRefresh()},wt.use=function(C){return ct.H.use(C)},wt.useActionState=function(C,X,it){return ct.H.useActionState(C,X,it)},wt.useCallback=function(C,X){return ct.H.useCallback(C,X)},wt.useContext=function(C){return ct.H.useContext(C)},wt.useDebugValue=function(){},wt.useDeferredValue=function(C,X){return ct.H.useDeferredValue(C,X)},wt.useEffect=function(C,X,it){var W=ct.H;if(typeof it=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(C,X)},wt.useId=function(){return ct.H.useId()},wt.useImperativeHandle=function(C,X,it){return ct.H.useImperativeHandle(C,X,it)},wt.useInsertionEffect=function(C,X){return ct.H.useInsertionEffect(C,X)},wt.useLayoutEffect=function(C,X){return ct.H.useLayoutEffect(C,X)},wt.useMemo=function(C,X){return ct.H.useMemo(C,X)},wt.useOptimistic=function(C,X){return ct.H.useOptimistic(C,X)},wt.useReducer=function(C,X,it){return ct.H.useReducer(C,X,it)},wt.useRef=function(C){return ct.H.useRef(C)},wt.useState=function(C){return ct.H.useState(C)},wt.useSyncExternalStore=function(C,X,it){return ct.H.useSyncExternalStore(C,X,it)},wt.useTransition=function(){return ct.H.useTransition()},wt.version="19.1.0",wt}var _y;function hm(){return _y||(_y=1,Sd.exports=tS()),Sd.exports}var ie=hm();const Rs=ZA(ie);var bd={exports:{}},fl={},wd={exports:{}},Rd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function eS(){return yy||(yy=1,function(r){function t(q,nt){var ht=q.length;q.push(nt);t:for(;0<ht;){var zt=ht-1>>>1,C=q[zt];if(0<l(C,nt))q[zt]=nt,q[ht]=C,ht=zt;else break t}}function n(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var nt=q[0],ht=q.pop();if(ht!==nt){q[0]=ht;t:for(var zt=0,C=q.length,X=C>>>1;zt<X;){var it=2*(zt+1)-1,W=q[it],dt=it+1,Ct=q[dt];if(0>l(W,ht))dt<C&&0>l(Ct,W)?(q[zt]=Ct,q[dt]=ht,zt=dt):(q[zt]=W,q[it]=ht,zt=it);else if(dt<C&&0>l(Ct,ht))q[zt]=Ct,q[dt]=ht,zt=dt;else break t}}return nt}function l(q,nt){var ht=q.sortIndex-nt.sortIndex;return ht!==0?ht:q.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,g=f.now();r.unstable_now=function(){return f.now()-g}}var p=[],y=[],T=1,I=null,x=3,F=!1,$=!1,et=!1,Z=!1,lt=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,tt=typeof setImmediate<"u"?setImmediate:null;function Et(q){for(var nt=n(y);nt!==null;){if(nt.callback===null)s(y);else if(nt.startTime<=q)s(y),nt.sortIndex=nt.expirationTime,t(p,nt);else break;nt=n(y)}}function ct(q){if(et=!1,Et(q),!$)if(n(p)!==null)$=!0,bt||(bt=!0,P());else{var nt=n(y);nt!==null&&se(ct,nt.startTime-q)}}var bt=!1,N=-1,S=5,w=-1;function O(){return Z?!0:!(r.unstable_now()-w<S)}function V(){if(Z=!1,bt){var q=r.unstable_now();w=q;var nt=!0;try{t:{$=!1,et&&(et=!1,pt(N),N=-1),F=!0;var ht=x;try{e:{for(Et(q),I=n(p);I!==null&&!(I.expirationTime>q&&O());){var zt=I.callback;if(typeof zt=="function"){I.callback=null,x=I.priorityLevel;var C=zt(I.expirationTime<=q);if(q=r.unstable_now(),typeof C=="function"){I.callback=C,Et(q),nt=!0;break e}I===n(p)&&s(p),Et(q)}else s(p);I=n(p)}if(I!==null)nt=!0;else{var X=n(y);X!==null&&se(ct,X.startTime-q),nt=!1}}break t}finally{I=null,x=ht,F=!1}nt=void 0}}finally{nt?P():bt=!1}}}var P;if(typeof tt=="function")P=function(){tt(V)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Me=R.port2;R.port1.onmessage=V,P=function(){Me.postMessage(null)}}else P=function(){lt(V,0)};function se(q,nt){N=lt(function(){q(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(q){switch(x){case 1:case 2:case 3:var nt=3;break;default:nt=x}var ht=x;x=nt;try{return q()}finally{x=ht}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(q,nt){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ht=x;x=q;try{return nt()}finally{x=ht}},r.unstable_scheduleCallback=function(q,nt,ht){var zt=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?zt+ht:zt):ht=zt,q){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=ht+C,q={id:T++,callback:nt,priorityLevel:q,startTime:ht,expirationTime:C,sortIndex:-1},ht>zt?(q.sortIndex=ht,t(y,q),n(p)===null&&q===n(y)&&(et?(pt(N),N=-1):et=!0,se(ct,ht-zt))):(q.sortIndex=C,t(p,q),$||F||($=!0,bt||(bt=!0,P()))),q},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(q){var nt=x;return function(){var ht=x;x=nt;try{return q.apply(this,arguments)}finally{x=ht}}}}(Rd)),Rd}var vy;function nS(){return vy||(vy=1,wd.exports=eS()),wd.exports}var Id={exports:{}},Ge={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey;function iS(){if(Ey)return Ge;Ey=1;var r=hm();function t(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,y,T){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:I==null?null:""+I,children:p,containerInfo:y,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ge.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ge.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(p,y,null,T)},Ge.flushSync=function(p){var y=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=T,s.d.f()}},Ge.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Ge.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Ge.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,I=g(T,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:I,integrity:x,fetchPriority:F}):T==="script"&&s.d.X(p,{crossOrigin:I,integrity:x,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ge.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Ge.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,I=g(T,y.crossOrigin);s.d.L(p,T,{crossOrigin:I,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ge.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Ge.requestFormReset=function(p){s.d.r(p)},Ge.unstable_batchedUpdates=function(p,y){return p(y)},Ge.useFormState=function(p,y,T){return f.H.useFormState(p,y,T)},Ge.useFormStatus=function(){return f.H.useHostTransitionStatus()},Ge.version="19.1.0",Ge}var Ty;function rS(){if(Ty)return Id.exports;Ty=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Id.exports=iS(),Id.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function sS(){if(Ay)return fl;Ay=1;var r=nS(),t=hm(),n=rS();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(s(188))}function p(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),e;if(d===o)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,o=d;break}if(E===o){v=!0,o=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,o=h;break}if(E===o){v=!0,o=d,a=h;break}E=E.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function y(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=y(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,I=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),et=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),lt=Symbol.for("react.provider"),pt=Symbol.for("react.consumer"),tt=Symbol.for("react.context"),Et=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),bt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Me(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case Z:return"Profiler";case et:return"StrictMode";case ct:return"Suspense";case bt:return"SuspenseList";case w:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case F:return"Portal";case tt:return(e.displayName||"Context")+".Provider";case pt:return(e._context.displayName||"Context")+".Consumer";case Et:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return i=e.displayName||null,i!==null?i:Me(e.type)||"Memo";case S:i=e._payload,e=e._init;try{return Me(e(i))}catch{}}return null}var se=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},zt=[],C=-1;function X(e){return{current:e}}function it(e){0>C||(e.current=zt[C],zt[C]=null,C--)}function W(e,i){C++,zt[C]=e.current,e.current=i}var dt=X(null),Ct=X(null),Tt=X(null),Re=X(null);function Zt(e,i){switch(W(Tt,i),W(Ct,e),W(dt,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?q_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=q_(i),e=H_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}it(dt),W(dt,e)}function Bn(){it(dt),it(Ct),it(Tt)}function Fi(e){e.memoizedState!==null&&W(Re,e);var i=dt.current,a=H_(i,e.type);i!==a&&(W(Ct,e),W(dt,a))}function ui(e){Ct.current===e&&(it(dt),it(Ct)),Re.current===e&&(it(Re),al._currentValue=ht)}var jr=Object.prototype.hasOwnProperty,qr=r.unstable_scheduleCallback,Hr=r.unstable_cancelCallback,no=r.unstable_shouldYield,Fl=r.unstable_requestPaint,mn=r.unstable_now,Th=r.unstable_getCurrentPriorityLevel,io=r.unstable_ImmediatePriority,zs=r.unstable_UserBlockingPriority,Gr=r.unstable_NormalPriority,Ah=r.unstable_LowPriority,Bs=r.unstable_IdlePriority,ro=r.log,Kl=r.unstable_setDisableYieldValue,ae=null,Ht=null;function sn(e){if(typeof ro=="function"&&Kl(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(ae,e)}catch{}}var qe=Math.clz32?Math.clz32:Fr,Ql=Math.log,Sh=Math.LN2;function Fr(e){return e>>>=0,e===0?32:31-(Ql(e)/Sh|0)|0}var Kr=256,Qr=4194304;function On(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function js(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,d=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~d,o!==0?h=On(o):(v&=E,v!==0?h=On(v):a||(a=E&~e,a!==0&&(h=On(a))))):(E=o&~d,E!==0?h=On(E):v!==0?h=On(v):a||(a=o&~e,a!==0&&(h=On(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Yr(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function so(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ao(){var e=Kr;return Kr<<=1,(Kr&4194048)===0&&(Kr=256),e}function oo(){var e=Qr;return Qr<<=1,(Qr&62914560)===0&&(Qr=4194304),e}function ci(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function hi(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function lo(e,i,a,o,h,d){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,L=e.hiddenUpdates;for(a=v&~a;0<a;){var H=31-qe(a),K=1<<H;E[H]=0,b[H]=-1;var z=L[H];if(z!==null)for(L[H]=null,H=0;H<z.length;H++){var B=z[H];B!==null&&(B.lane&=-536870913)}a&=~K}o!==0&&jn(e,o,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(v&~i))}function jn(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-qe(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function uo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-qe(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function Ki(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Qi(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:ly(e.type))}function Yl(e,i){var a=nt.p;try{return nt.p=e,i()}finally{nt.p=a}}var te=Math.random().toString(36).slice(2),ve="__reactFiber$"+te,de="__reactProps$"+te,gn="__reactContainer$"+te,co="__reactEvents$"+te,bh="__reactListeners$"+te,Yi="__reactHandles$"+te,Xl="__reactResources$"+te,Xr="__reactMarker$"+te;function Xi(e){delete e[ve],delete e[de],delete e[co],delete e[bh],delete e[Yi]}function fi(e){var i=e[ve];if(i)return i;for(var a=e.parentNode;a;){if(i=a[gn]||a[ve]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Q_(e);e!==null;){if(a=e[ve])return a;e=Q_(e)}return i}e=a,a=e.parentNode}return null}function qn(e){if(e=e[ve]||e[gn]){var i=e.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return e}return null}function Hn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function Xe(e){var i=e[Xl];return i||(i=e[Xl]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ue(e){e[Xr]=!0}var ho=new Set,Hs={};function Nn(e,i){di(e,i),di(e+"Capture",i)}function di(e,i){for(Hs[e]=i,e=0;e<i.length;e++)ho.add(i[e])}var $l=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zl={},$r={};function Wl(e){return jr.call($r,e)?!0:jr.call(Zl,e)?!1:$l.test(e)?$r[e]=!0:(Zl[e]=!0,!1)}function $i(e,i,a){if(Wl(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Gn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Pe(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}var Zr,Jl;function mi(e){if(Zr===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Zr=i&&i[1]||"",Jl=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zr+e+Jl}var Gs=!1;function Fs(e,i){if(!e||Gs)return"";Gs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var z=B}Reflect.construct(e,[],K)}else{try{K.call()}catch(B){z=B}e.call(K.prototype)}}else{try{throw Error()}catch(B){z=B}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var b=v.split(`
`),L=E.split(`
`);for(h=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(o===b.length||h===L.length)for(o=b.length-1,h=L.length-1;1<=o&&0<=h&&b[o]!==L[h];)h--;for(;1<=o&&0<=h;o--,h--)if(b[o]!==L[h]){if(o!==1||h!==1)do if(o--,h--,0>h||b[o]!==L[h]){var H=`
`+b[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=h);break}}}finally{Gs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?mi(a):""}function fo(e){switch(e.tag){case 26:case 27:case 5:return mi(e.type);case 16:return mi("Lazy");case 13:return mi("Suspense");case 19:return mi("SuspenseList");case 0:case 15:return Fs(e.type,!1);case 11:return Fs(e.type.render,!1);case 1:return Fs(e.type,!0);case 31:return mi("Activity");default:return""}}function Ks(e){try{var i="";do i+=fo(e),e=e.return;while(e);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function $e(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mo(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function wh(e){var i=mo(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),o=""+e[i];if(!e.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,d.call(this,v)}}),Object.defineProperty(e,i,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Qs(e){e._valueTracker||(e._valueTracker=wh(e))}function go(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=mo(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function Wr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Rh=/[\n"\\]/g;function me(e){return e.replace(Rh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function an(e,i,a,o,h,d,v,E){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),i!=null?v==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+$e(i)):e.value!==""+$e(i)&&(e.value=""+$e(i)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),i!=null?Zi(e,v,$e(i)):a!=null?Zi(e,v,$e(a)):o!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+$e(E):e.removeAttribute("name")}function Jr(e,i,a,o,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+$e(a):"",i=i!=null?""+$e(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function Zi(e,i,a){i==="number"&&Wr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function gi(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+$e(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function Kt(e,i,a){if(i!=null&&(i=""+$e(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+$e(a):""}function ts(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(se(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=$e(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function pn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var es=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tu(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||es.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function po(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&tu(e,h,o)}else for(var d in i)i.hasOwnProperty(d)&&tu(e,d,i[d])}function _o(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ih=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ch=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ys(e){return Ch.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var pi=null;function _n(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _i=null,yi=null;function yo(e){var i=qn(e);if(i&&(e=i.stateNode)){var a=e[de]||null;t:switch(e=i.stateNode,i.type){case"input":if(an(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+me(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[de]||null;if(!h)throw Error(s(90));an(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&go(o)}break t;case"textarea":Kt(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&gi(e,!!a.multiple,i,!1)}}}var Fn=!1;function eu(e,i,a){if(Fn)return e(i,a);Fn=!0;try{var o=e(i);return o}finally{if(Fn=!1,(_i!==null||yi!==null)&&(Yu(),_i&&(i=_i,e=yi,yi=_i=null,yo(i),e)))for(i=0;i<e.length;i++)yo(e[i])}}function ns(e,i){var a=e.stateNode;if(a===null)return null;var o=a[de]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yn=!1;if(Vn)try{var is={};Object.defineProperty(is,"passive",{get:function(){yn=!0}}),window.addEventListener("test",is,is),window.removeEventListener("test",is,is)}catch{yn=!1}var Kn=null,Wi=null,vi=null;function vo(){if(vi)return vi;var e,i=Wi,a=i.length,o,h="value"in Kn?Kn.value:Kn.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var v=a-e;for(o=1;o<=v&&i[a-o]===h[d-o];o++);return vi=h.slice(e,1<o?1-o:void 0)}function Qn(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Yn(){return!0}function Eo(){return!1}function Ie(e){function i(a,o,h,d,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Yn:Eo,this.isPropagationStopped=Eo,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){},isPersistent:Yn}),i}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xs=Ie(jt),rs=T({},jt,{view:0,detail:0}),nu=Ie(rs),$s,Zs,Xn,ss=T({},rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ls,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xn&&(Xn&&e.type==="mousemove"?($s=e.screenX-Xn.screenX,Zs=e.screenY-Xn.screenY):Zs=$s=0,Xn=e),$s)},movementY:function(e){return"movementY"in e?e.movementY:Zs}}),vn=Ie(ss),iu=T({},ss,{dataTransfer:0}),Dh=Ie(iu),as=T({},rs,{relatedTarget:0}),Ws=Ie(as),To=T({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),Js=Ie(To),ru=T({},jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ta=Ie(ru),Oh=T({},jt,{data:0}),Ao=Ie(Oh),os={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function So(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=au[e])?!!i[e]:!1}function ls(){return So}var ou=T({},rs,{key:function(e){if(e.key){var i=os[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Qn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?su[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ls,charCode:function(e){return e.type==="keypress"?Qn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ea=Ie(ou),lu=T({},ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bo=Ie(lu),Ei=T({},rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ls}),uu=Ie(Ei),cu=T({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),hu=Ie(cu),fu=T({},ss,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),na=Ie(fu),Ze=T({},jt,{newState:0,oldState:0}),du=Ie(Ze),mu=[9,13,27,32],$n=Vn&&"CompositionEvent"in window,u=null;Vn&&"documentMode"in document&&(u=document.documentMode);var m=Vn&&"TextEvent"in window&&!u,_=Vn&&(!$n||u&&8<u&&11>=u),A=" ",U=!1;function j(e,i){switch(e){case"keyup":return mu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pt=!1;function Ee(e,i){switch(e){case"compositionend":return J(i);case"keypress":return i.which!==32?null:(U=!0,A);case"textInput":return e=i.data,e===A&&U?null:e;default:return null}}function Ut(e,i){if(Pt)return e==="compositionend"||!$n&&j(e,i)?(e=vo(),vi=Wi=Kn=null,Pt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Ce={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!Ce[e.type]:i==="textarea"}function Ti(e,i,a,o){_i?yi?yi.push(o):yi=[o]:_i=o,i=tc(i,"onChange"),0<i.length&&(a=new Xs("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var Ue=null,Zn=null;function wo(e){x_(e,0)}function gu(e){var i=Hn(e);if(go(i))return e}function rg(e,i){if(e==="change")return i}var sg=!1;if(Vn){var Nh;if(Vn){var Vh="oninput"in document;if(!Vh){var ag=document.createElement("div");ag.setAttribute("oninput","return;"),Vh=typeof ag.oninput=="function"}Nh=Vh}else Nh=!1;sg=Nh&&(!document.documentMode||9<document.documentMode)}function og(){Ue&&(Ue.detachEvent("onpropertychange",lg),Zn=Ue=null)}function lg(e){if(e.propertyName==="value"&&gu(Zn)){var i=[];Ti(i,Zn,e,_n(e)),eu(wo,i)}}function IT(e,i,a){e==="focusin"?(og(),Ue=i,Zn=a,Ue.attachEvent("onpropertychange",lg)):e==="focusout"&&og()}function CT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return gu(Zn)}function DT(e,i){if(e==="click")return gu(i)}function OT(e,i){if(e==="input"||e==="change")return gu(i)}function NT(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var on=typeof Object.is=="function"?Object.is:NT;function Ro(e,i){if(on(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!jr.call(i,h)||!on(e[h],i[h]))return!1}return!0}function ug(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cg(e,i){var a=ug(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=ug(a)}}function hg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?hg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function fg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Wr(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Wr(e.document)}return i}function Mh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var VT=Vn&&"documentMode"in document&&11>=document.documentMode,ia=null,Ph=null,Io=null,Uh=!1;function dg(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Uh||ia==null||ia!==Wr(o)||(o=ia,"selectionStart"in o&&Mh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Io&&Ro(Io,o)||(Io=o,o=tc(Ph,"onSelect"),0<o.length&&(i=new Xs("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=ia)))}function us(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var ra={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionrun:us("Transition","TransitionRun"),transitionstart:us("Transition","TransitionStart"),transitioncancel:us("Transition","TransitionCancel"),transitionend:us("Transition","TransitionEnd")},kh={},mg={};Vn&&(mg=document.createElement("div").style,"AnimationEvent"in window||(delete ra.animationend.animation,delete ra.animationiteration.animation,delete ra.animationstart.animation),"TransitionEvent"in window||delete ra.transitionend.transition);function cs(e){if(kh[e])return kh[e];if(!ra[e])return e;var i=ra[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in mg)return kh[e]=i[a];return e}var gg=cs("animationend"),pg=cs("animationiteration"),_g=cs("animationstart"),MT=cs("transitionrun"),PT=cs("transitionstart"),UT=cs("transitioncancel"),yg=cs("transitionend"),vg=new Map,xh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xh.push("scrollEnd");function Mn(e,i){vg.set(e,i),Nn(i,[e])}var Eg=new WeakMap;function En(e,i){if(typeof e=="object"&&e!==null){var a=Eg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Ks(i)},Eg.set(e,i),i)}return{value:e,source:i,stack:Ks(i)}}var Tn=[],sa=0,Lh=0;function pu(){for(var e=sa,i=Lh=sa=0;i<e;){var a=Tn[i];Tn[i++]=null;var o=Tn[i];Tn[i++]=null;var h=Tn[i];Tn[i++]=null;var d=Tn[i];if(Tn[i++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}d!==0&&Tg(a,h,d)}}function _u(e,i,a,o){Tn[sa++]=e,Tn[sa++]=i,Tn[sa++]=a,Tn[sa++]=o,Lh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function zh(e,i,a,o){return _u(e,i,a,o),yu(e)}function aa(e,i){return _u(e,null,null,i),yu(e)}function Tg(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-qe(a),e=d.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),d):null}function yu(e){if(50<Wo)throw Wo=0,Kf=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var oa={};function kT(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(e,i,a,o){return new kT(e,i,a,o)}function Bh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ai(e,i){var a=e.alternate;return a===null?(a=ln(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Ag(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function vu(e,i,a,o,h,d){var v=0;if(o=e,typeof e=="function")Bh(e)&&(v=1);else if(typeof e=="string")v=LA(e,a,dt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case w:return e=ln(31,a,i,h),e.elementType=w,e.lanes=d,e;case $:return hs(a.children,h,d,i);case et:v=8,h|=24;break;case Z:return e=ln(12,a,i,h|2),e.elementType=Z,e.lanes=d,e;case ct:return e=ln(13,a,i,h),e.elementType=ct,e.lanes=d,e;case bt:return e=ln(19,a,i,h),e.elementType=bt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lt:case tt:v=10;break t;case pt:v=9;break t;case Et:v=11;break t;case N:v=14;break t;case S:v=16,o=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=ln(v,a,i,h),i.elementType=e,i.type=o,i.lanes=d,i}function hs(e,i,a,o){return e=ln(7,e,o,i),e.lanes=a,e}function jh(e,i,a){return e=ln(6,e,null,i),e.lanes=a,e}function qh(e,i,a){return i=ln(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var la=[],ua=0,Eu=null,Tu=0,An=[],Sn=0,fs=null,Si=1,bi="";function ds(e,i){la[ua++]=Tu,la[ua++]=Eu,Eu=e,Tu=i}function Sg(e,i,a){An[Sn++]=Si,An[Sn++]=bi,An[Sn++]=fs,fs=e;var o=Si;e=bi;var h=32-qe(o)-1;o&=~(1<<h),a+=1;var d=32-qe(i)+h;if(30<d){var v=h-h%5;d=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Si=1<<32-qe(i)+h|a<<h|o,bi=d+e}else Si=1<<d|a<<h|o,bi=e}function Hh(e){e.return!==null&&(ds(e,1),Sg(e,1,0))}function Gh(e){for(;e===Eu;)Eu=la[--ua],la[ua]=null,Tu=la[--ua],la[ua]=null;for(;e===fs;)fs=An[--Sn],An[Sn]=null,bi=An[--Sn],An[Sn]=null,Si=An[--Sn],An[Sn]=null}var We=null,oe=null,Bt=!1,ms=null,Wn=!1,Fh=Error(s(519));function gs(e){var i=Error(s(418,""));throw Oo(En(i,e)),Fh}function bg(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[ve]=e,i[de]=o,a){case"dialog":Nt("cancel",i),Nt("close",i);break;case"iframe":case"object":case"embed":Nt("load",i);break;case"video":case"audio":for(a=0;a<tl.length;a++)Nt(tl[a],i);break;case"source":Nt("error",i);break;case"img":case"image":case"link":Nt("error",i),Nt("load",i);break;case"details":Nt("toggle",i);break;case"input":Nt("invalid",i),Jr(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Qs(i);break;case"select":Nt("invalid",i);break;case"textarea":Nt("invalid",i),ts(i,o.value,o.defaultValue,o.children),Qs(i)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||j_(i.textContent,a)?(o.popover!=null&&(Nt("beforetoggle",i),Nt("toggle",i)),o.onScroll!=null&&Nt("scroll",i),o.onScrollEnd!=null&&Nt("scrollend",i),o.onClick!=null&&(i.onclick=ec),i=!0):i=!1,i||gs(e)}function wg(e){for(We=e.return;We;)switch(We.tag){case 5:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:We=We.return}}function Co(e){if(e!==We)return!1;if(!Bt)return wg(e),Bt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ld(e.type,e.memoizedProps)),a=!a),a&&oe&&gs(e),wg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(i===0){oe=Un(e.nextSibling);break t}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;e=e.nextSibling}oe=null}}else i===27?(i=oe,mr(e.type)?(e=fd,fd=null,oe=e):oe=i):oe=We?Un(e.stateNode.nextSibling):null;return!0}function Do(){oe=We=null,Bt=!1}function Rg(){var e=ms;return e!==null&&(nn===null?nn=e:nn.push.apply(nn,e),ms=null),e}function Oo(e){ms===null?ms=[e]:ms.push(e)}var Kh=X(null),ps=null,wi=null;function Ji(e,i,a){W(Kh,i._currentValue),i._currentValue=a}function Ri(e){e._currentValue=Kh.current,it(Kh)}function Qh(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function Yh(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var b=0;b<i.length;b++)if(E.context===i[b]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),Qh(d.return,a,e),o||(v=null);break t}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Qh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function No(e,i,a,o){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var E=h.type;on(h.pendingProps.value,v.value)||(e!==null?e.push(E):e=[E])}}else if(h===Re.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(al):e=[al])}h=h.return}e!==null&&Yh(i,e,a,o),i.flags|=262144}function Au(e){for(e=e.firstContext;e!==null;){if(!on(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function _s(e){ps=e,wi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return Ig(ps,e)}function Su(e,i){return ps===null&&_s(e),Ig(e,i)}function Ig(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},wi===null){if(e===null)throw Error(s(308));wi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else wi=wi.next=i;return a}var xT=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},LT=r.unstable_scheduleCallback,zT=r.unstable_NormalPriority,Ae={$$typeof:tt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xh(){return{controller:new xT,data:new Map,refCount:0}}function Vo(e){e.refCount--,e.refCount===0&&LT(zT,function(){e.controller.abort()})}var Mo=null,$h=0,ca=0,ha=null;function BT(e,i){if(Mo===null){var a=Mo=[];$h=0,ca=Jf(),ha={status:"pending",value:void 0,then:function(o){a.push(o)}}}return $h++,i.then(Cg,Cg),i}function Cg(){if(--$h===0&&Mo!==null){ha!==null&&(ha.status="fulfilled");var e=Mo;Mo=null,ca=0,ha=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function jT(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Dg=q.S;q.S=function(e,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&BT(e,i),Dg!==null&&Dg(e,i)};var ys=X(null);function Zh(){var e=ys.current;return e!==null?e:Wt.pooledCache}function bu(e,i){i===null?W(ys,ys.current):W(ys,i.pool)}function Og(){var e=Zh();return e===null?null:{parent:Ae._currentValue,pool:e}}var Po=Error(s(460)),Ng=Error(s(474)),wu=Error(s(542)),Wh={then:function(){}};function Vg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ru(){}function Mg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Ru,Ru),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ug(e),e;default:if(typeof i.status=="string")i.then(Ru,Ru);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Ug(e),e}throw Uo=i,Po}}var Uo=null;function Pg(){if(Uo===null)throw Error(s(459));var e=Uo;return Uo=null,e}function Ug(e){if(e===Po||e===wu)throw Error(s(483))}var tr=!1;function Jh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function er(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function nr(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=yu(e),Tg(e,null,a),i}return _u(e,o,i,a),yu(e)}function ko(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,uo(e,a)}}function ef(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var nf=!1;function xo(){if(nf){var e=ha;if(e!==null)throw e}}function Lo(e,i,a,o){nf=!1;var h=e.updateQueue;tr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var b=E,L=b.next;b.next=null,v===null?d=L:v.next=L,v=b;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==v&&(E===null?H.firstBaseUpdate=L:E.next=L,H.lastBaseUpdate=b))}if(d!==null){var K=h.baseState;v=0,H=L=b=null,E=d;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(kt&z)===z:(o&z)===z){z!==0&&z===ca&&(nf=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var yt=e,mt=E;z=i;var Xt=a;switch(mt.tag){case 1:if(yt=mt.payload,typeof yt=="function"){K=yt.call(Xt,K,z);break t}K=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=mt.payload,z=typeof yt=="function"?yt.call(Xt,K,z):yt,z==null)break t;K=T({},K,z);break t;case 2:tr=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(L=H=B,b=K):H=H.next=B,v|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);H===null&&(b=K),h.baseState=b,h.firstBaseUpdate=L,h.lastBaseUpdate=H,d===null&&(h.shared.lanes=0),cr|=v,e.lanes=v,e.memoizedState=K}}function kg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function xg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)kg(a[e],i)}var fa=X(null),Iu=X(0);function Lg(e,i){e=Mi,W(Iu,e),W(fa,i),Mi=e|i.baseLanes}function rf(){W(Iu,Mi),W(fa,fa.current)}function sf(){Mi=Iu.current,it(fa),it(Iu)}var ir=0,Rt=null,Qt=null,ge=null,Cu=!1,da=!1,vs=!1,Du=0,zo=0,ma=null,qT=0;function ce(){throw Error(s(321))}function af(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!on(e[a],i[a]))return!1;return!0}function of(e,i,a,o,h,d){return ir=d,Rt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,q.H=e===null||e.memoizedState===null?Tp:Ap,vs=!1,d=a(o,h),vs=!1,da&&(d=Bg(i,a,o,h)),zg(e),d}function zg(e){q.H=Uu;var i=Qt!==null&&Qt.next!==null;if(ir=0,ge=Qt=Rt=null,Cu=!1,zo=0,ma=null,i)throw Error(s(300));e===null||De||(e=e.dependencies,e!==null&&Au(e)&&(De=!0))}function Bg(e,i,a,o){Rt=e;var h=0;do{if(da&&(ma=null),zo=0,da=!1,25<=h)throw Error(s(301));if(h+=1,ge=Qt=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}q.H=XT,d=i(a,o)}while(da);return d}function HT(){var e=q.H,i=e.useState()[0];return i=typeof i.then=="function"?Bo(i):i,e=e.useState()[0],(Qt!==null?Qt.memoizedState:null)!==e&&(Rt.flags|=1024),i}function lf(){var e=Du!==0;return Du=0,e}function uf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function cf(e){if(Cu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Cu=!1}ir=0,ge=Qt=Rt=null,da=!1,zo=Du=0,ma=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?Rt.memoizedState=ge=e:ge=ge.next=e,ge}function pe(){if(Qt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Qt.next;var i=ge===null?Rt.memoizedState:ge.next;if(i!==null)ge=i,Qt=e;else{if(e===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));Qt=e,e={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},ge===null?Rt.memoizedState=ge=e:ge=ge.next=e}return ge}function hf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bo(e){var i=zo;return zo+=1,ma===null&&(ma=[]),e=Mg(ma,e,i),i=Rt,(ge===null?i.memoizedState:ge.next)===null&&(i=i.alternate,q.H=i===null||i.memoizedState===null?Tp:Ap),e}function Ou(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Bo(e);if(e.$$typeof===tt)return He(e)}throw Error(s(438,String(e)))}function ff(e){var i=null,a=Rt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=hf(),Rt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=O;return i.index++,a}function Ii(e,i){return typeof i=="function"?i(e):i}function Nu(e){var i=pe();return df(i,Qt,e)}function df(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,d=o.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,o.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=v=null,b=null,L=i,H=!1;do{var K=L.lane&-536870913;if(K!==L.lane?(kt&K)===K:(ir&K)===K){var z=L.revertLane;if(z===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),K===ca&&(H=!0);else if((ir&z)===z){L=L.next,z===ca&&(H=!0);continue}else K={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=K,v=d):b=b.next=K,Rt.lanes|=z,cr|=z;K=L.action,vs&&a(d,K),d=L.hasEagerState?L.eagerState:a(d,K)}else z={lane:K,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=z,v=d):b=b.next=z,Rt.lanes|=K,cr|=K;L=L.next}while(L!==null&&L!==i);if(b===null?v=d:b.next=E,!on(d,e.memoizedState)&&(De=!0,H&&(a=ha,a!==null)))throw a;e.memoizedState=d,e.baseState=v,e.baseQueue=b,o.lastRenderedState=d}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function mf(e){var i=pe(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=e(d,v.action),v=v.next;while(v!==h);on(d,i.memoizedState)||(De=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function jg(e,i,a){var o=Rt,h=pe(),d=Bt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!on((Qt||h).memoizedState,a);v&&(h.memoizedState=a,De=!0),h=h.queue;var E=Gg.bind(null,o,h,e);if(jo(2048,8,E,[e]),h.getSnapshot!==i||v||ge!==null&&ge.memoizedState.tag&1){if(o.flags|=2048,ga(9,Vu(),Hg.bind(null,o,h,a,i),null),Wt===null)throw Error(s(349));d||(ir&124)!==0||qg(o,i,a)}return a}function qg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Rt.updateQueue,i===null?(i=hf(),Rt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function Hg(e,i,a,o){i.value=a,i.getSnapshot=o,Fg(i)&&Kg(e)}function Gg(e,i,a){return a(function(){Fg(i)&&Kg(e)})}function Fg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!on(e,a)}catch{return!0}}function Kg(e){var i=aa(e,2);i!==null&&dn(i,e,2)}function gf(e){var i=tn();if(typeof e=="function"){var a=e;if(e=a(),vs){sn(!0);try{a()}finally{sn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:e},i}function Qg(e,i,a,o){return e.baseState=a,df(e,Qt,typeof o=="function"?o:Ii)}function GT(e,i,a,o,h){if(Pu(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};q.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,Yg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Yg(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var d=q.T,v={};q.T=v;try{var E=a(h,o),b=q.S;b!==null&&b(v,E),Xg(e,i,E)}catch(L){pf(e,i,L)}finally{q.T=d}}else try{d=a(h,o),Xg(e,i,d)}catch(L){pf(e,i,L)}}function Xg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){$g(e,i,o)},function(o){return pf(e,i,o)}):$g(e,i,a)}function $g(e,i,a){i.status="fulfilled",i.value=a,Zg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Yg(e,a)))}function pf(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,Zg(i),i=i.next;while(i!==o)}e.action=null}function Zg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Wg(e,i){return i}function Jg(e,i){if(Bt){var a=Wt.formState;if(a!==null){t:{var o=Rt;if(Bt){if(oe){e:{for(var h=oe,d=Wn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Un(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){oe=Un(h.nextSibling),o=h.data==="F!";break t}}gs(o)}o=!1}o&&(i=a[0])}}return a=tn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wg,lastRenderedState:i},a.queue=o,a=yp.bind(null,Rt,o),o.dispatch=a,o=gf(!1),d=Tf.bind(null,Rt,!1,o.queue),o=tn(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=GT.bind(null,Rt,h,d,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function tp(e){var i=pe();return ep(i,Qt,e)}function ep(e,i,a){if(i=df(e,i,Wg)[0],e=Nu(Ii)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Bo(i)}catch(v){throw v===Po?wu:v}else o=i;i=pe();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Rt.flags|=2048,ga(9,Vu(),FT.bind(null,h,a),null)),[o,d,e]}function FT(e,i){e.action=i}function np(e){var i=pe(),a=Qt;if(a!==null)return ep(i,a,e);pe(),i=i.memoizedState,a=pe();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function ga(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=Rt.updateQueue,i===null&&(i=hf(),Rt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Vu(){return{destroy:void 0,resource:void 0}}function ip(){return pe().memoizedState}function Mu(e,i,a,o){var h=tn();o=o===void 0?null:o,Rt.flags|=e,h.memoizedState=ga(1|i,Vu(),a,o)}function jo(e,i,a,o){var h=pe();o=o===void 0?null:o;var d=h.memoizedState.inst;Qt!==null&&o!==null&&af(o,Qt.memoizedState.deps)?h.memoizedState=ga(i,d,a,o):(Rt.flags|=e,h.memoizedState=ga(1|i,d,a,o))}function rp(e,i){Mu(8390656,8,e,i)}function sp(e,i){jo(2048,8,e,i)}function ap(e,i){return jo(4,2,e,i)}function op(e,i){return jo(4,4,e,i)}function lp(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function up(e,i,a){a=a!=null?a.concat([e]):null,jo(4,4,lp.bind(null,i,e),a)}function _f(){}function cp(e,i){var a=pe();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&af(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function hp(e,i){var a=pe();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&af(i,o[1]))return o[0];if(o=e(),vs){sn(!0);try{e()}finally{sn(!1)}}return a.memoizedState=[o,i],o}function yf(e,i,a){return a===void 0||(ir&1073741824)!==0?e.memoizedState=i:(e.memoizedState=a,e=m_(),Rt.lanes|=e,cr|=e,a)}function fp(e,i,a,o){return on(a,i)?a:fa.current!==null?(e=yf(e,a,o),on(e,i)||(De=!0),e):(ir&42)===0?(De=!0,e.memoizedState=a):(e=m_(),Rt.lanes|=e,cr|=e,i)}function dp(e,i,a,o,h){var d=nt.p;nt.p=d!==0&&8>d?d:8;var v=q.T,E={};q.T=E,Tf(e,!1,i,a);try{var b=h(),L=q.S;if(L!==null&&L(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var H=jT(b,o);qo(e,i,H,fn(e))}else qo(e,i,o,fn(e))}catch(K){qo(e,i,{then:function(){},status:"rejected",reason:K},fn())}finally{nt.p=d,q.T=v}}function KT(){}function vf(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=mp(e).queue;dp(e,h,i,ht,a===null?KT:function(){return gp(e),a(o)})}function mp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:ht},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function gp(e){var i=mp(e).next.queue;qo(e,i,{},fn())}function Ef(){return He(al)}function pp(){return pe().memoizedState}function _p(){return pe().memoizedState}function QT(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=fn();e=er(a);var o=nr(i,e,a);o!==null&&(dn(o,i,a),ko(o,i,a)),i={cache:Xh()},e.payload=i;return}i=i.return}}function YT(e,i,a){var o=fn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Pu(e)?vp(i,a):(a=zh(e,i,a,o),a!==null&&(dn(a,e,o),Ep(a,i,o)))}function yp(e,i,a){var o=fn();qo(e,i,a,o)}function qo(e,i,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Pu(e))vp(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,on(E,v))return _u(e,i,h,0),Wt===null&&pu(),!1}catch{}finally{}if(a=zh(e,i,h,o),a!==null)return dn(a,e,o),Ep(a,i,o),!0}return!1}function Tf(e,i,a,o){if(o={lane:2,revertLane:Jf(),action:o,hasEagerState:!1,eagerState:null,next:null},Pu(e)){if(i)throw Error(s(479))}else i=zh(e,a,o,2),i!==null&&dn(i,e,2)}function Pu(e){var i=e.alternate;return e===Rt||i!==null&&i===Rt}function vp(e,i){da=Cu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Ep(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,uo(e,a)}}var Uu={readContext:He,use:Ou,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce},Tp={readContext:He,use:Ou,useCallback:function(e,i){return tn().memoizedState=[e,i===void 0?null:i],e},useContext:He,useEffect:rp,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Mu(4194308,4,lp.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Mu(4194308,4,e,i)},useInsertionEffect:function(e,i){Mu(4,2,e,i)},useMemo:function(e,i){var a=tn();i=i===void 0?null:i;var o=e();if(vs){sn(!0);try{e()}finally{sn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=tn();if(a!==void 0){var h=a(i);if(vs){sn(!0);try{a(i)}finally{sn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=YT.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var i=tn();return e={current:e},i.memoizedState=e},useState:function(e){e=gf(e);var i=e.queue,a=yp.bind(null,Rt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:_f,useDeferredValue:function(e,i){var a=tn();return yf(a,e,i)},useTransition:function(){var e=gf(!1);return e=dp.bind(null,Rt,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=Rt,h=tn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Wt===null)throw Error(s(349));(kt&124)!==0||qg(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,rp(Gg.bind(null,o,d,e),[e]),o.flags|=2048,ga(9,Vu(),Hg.bind(null,o,d,a,i),null),a},useId:function(){var e=tn(),i=Wt.identifierPrefix;if(Bt){var a=bi,o=Si;a=(o&~(1<<32-qe(o)-1)).toString(32)+a,i=""+i+"R"+a,a=Du++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=qT++,i=""+i+"r"+a.toString(32)+"";return e.memoizedState=i},useHostTransitionStatus:Ef,useFormState:Jg,useActionState:Jg,useOptimistic:function(e){var i=tn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Tf.bind(null,Rt,!0,a),a.dispatch=i,[e,i]},useMemoCache:ff,useCacheRefresh:function(){return tn().memoizedState=QT.bind(null,Rt)}},Ap={readContext:He,use:Ou,useCallback:cp,useContext:He,useEffect:sp,useImperativeHandle:up,useInsertionEffect:ap,useLayoutEffect:op,useMemo:hp,useReducer:Nu,useRef:ip,useState:function(){return Nu(Ii)},useDebugValue:_f,useDeferredValue:function(e,i){var a=pe();return fp(a,Qt.memoizedState,e,i)},useTransition:function(){var e=Nu(Ii)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:Bo(e),i]},useSyncExternalStore:jg,useId:pp,useHostTransitionStatus:Ef,useFormState:tp,useActionState:tp,useOptimistic:function(e,i){var a=pe();return Qg(a,Qt,e,i)},useMemoCache:ff,useCacheRefresh:_p},XT={readContext:He,use:Ou,useCallback:cp,useContext:He,useEffect:sp,useImperativeHandle:up,useInsertionEffect:ap,useLayoutEffect:op,useMemo:hp,useReducer:mf,useRef:ip,useState:function(){return mf(Ii)},useDebugValue:_f,useDeferredValue:function(e,i){var a=pe();return Qt===null?yf(a,e,i):fp(a,Qt.memoizedState,e,i)},useTransition:function(){var e=mf(Ii)[0],i=pe().memoizedState;return[typeof e=="boolean"?e:Bo(e),i]},useSyncExternalStore:jg,useId:pp,useHostTransitionStatus:Ef,useFormState:np,useActionState:np,useOptimistic:function(e,i){var a=pe();return Qt!==null?Qg(a,Qt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:ff,useCacheRefresh:_p},pa=null,Ho=0;function ku(e){var i=Ho;return Ho+=1,pa===null&&(pa=[]),Mg(pa,e,i)}function Go(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function xu(e,i){throw i.$$typeof===I?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Sp(e){var i=e._init;return i(e._payload)}function bp(e){function i(M,D){if(e){var k=M.deletions;k===null?(M.deletions=[D],M.flags|=16):k.push(D)}}function a(M,D){if(!e)return null;for(;D!==null;)i(M,D),D=D.sibling;return null}function o(M){for(var D=new Map;M!==null;)M.key!==null?D.set(M.key,M):D.set(M.index,M),M=M.sibling;return D}function h(M,D){return M=Ai(M,D),M.index=0,M.sibling=null,M}function d(M,D,k){return M.index=k,e?(k=M.alternate,k!==null?(k=k.index,k<D?(M.flags|=67108866,D):k):(M.flags|=67108866,D)):(M.flags|=1048576,D)}function v(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function E(M,D,k,G){return D===null||D.tag!==6?(D=jh(k,M.mode,G),D.return=M,D):(D=h(D,k),D.return=M,D)}function b(M,D,k,G){var ot=k.type;return ot===$?H(M,D,k.props.children,G,k.key):D!==null&&(D.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&Sp(ot)===D.type)?(D=h(D,k.props),Go(D,k),D.return=M,D):(D=vu(k.type,k.key,k.props,null,M.mode,G),Go(D,k),D.return=M,D)}function L(M,D,k,G){return D===null||D.tag!==4||D.stateNode.containerInfo!==k.containerInfo||D.stateNode.implementation!==k.implementation?(D=qh(k,M.mode,G),D.return=M,D):(D=h(D,k.children||[]),D.return=M,D)}function H(M,D,k,G,ot){return D===null||D.tag!==7?(D=hs(k,M.mode,G,ot),D.return=M,D):(D=h(D,k),D.return=M,D)}function K(M,D,k){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=jh(""+D,M.mode,k),D.return=M,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case x:return k=vu(D.type,D.key,D.props,null,M.mode,k),Go(k,D),k.return=M,k;case F:return D=qh(D,M.mode,k),D.return=M,D;case S:var G=D._init;return D=G(D._payload),K(M,D,k)}if(se(D)||P(D))return D=hs(D,M.mode,k,null),D.return=M,D;if(typeof D.then=="function")return K(M,ku(D),k);if(D.$$typeof===tt)return K(M,Su(M,D),k);xu(M,D)}return null}function z(M,D,k,G){var ot=D!==null?D.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return ot!==null?null:E(M,D,""+k,G);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case x:return k.key===ot?b(M,D,k,G):null;case F:return k.key===ot?L(M,D,k,G):null;case S:return ot=k._init,k=ot(k._payload),z(M,D,k,G)}if(se(k)||P(k))return ot!==null?null:H(M,D,k,G,null);if(typeof k.then=="function")return z(M,D,ku(k),G);if(k.$$typeof===tt)return z(M,D,Su(M,k),G);xu(M,k)}return null}function B(M,D,k,G,ot){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return M=M.get(k)||null,E(D,M,""+G,ot);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case x:return M=M.get(G.key===null?k:G.key)||null,b(D,M,G,ot);case F:return M=M.get(G.key===null?k:G.key)||null,L(D,M,G,ot);case S:var Dt=G._init;return G=Dt(G._payload),B(M,D,k,G,ot)}if(se(G)||P(G))return M=M.get(k)||null,H(D,M,G,ot,null);if(typeof G.then=="function")return B(M,D,k,ku(G),ot);if(G.$$typeof===tt)return B(M,D,k,Su(D,G),ot);xu(D,G)}return null}function yt(M,D,k,G){for(var ot=null,Dt=null,ut=D,gt=D=0,Ne=null;ut!==null&&gt<k.length;gt++){ut.index>gt?(Ne=ut,ut=null):Ne=ut.sibling;var Lt=z(M,ut,k[gt],G);if(Lt===null){ut===null&&(ut=Ne);break}e&&ut&&Lt.alternate===null&&i(M,ut),D=d(Lt,D,gt),Dt===null?ot=Lt:Dt.sibling=Lt,Dt=Lt,ut=Ne}if(gt===k.length)return a(M,ut),Bt&&ds(M,gt),ot;if(ut===null){for(;gt<k.length;gt++)ut=K(M,k[gt],G),ut!==null&&(D=d(ut,D,gt),Dt===null?ot=ut:Dt.sibling=ut,Dt=ut);return Bt&&ds(M,gt),ot}for(ut=o(ut);gt<k.length;gt++)Ne=B(ut,M,gt,k[gt],G),Ne!==null&&(e&&Ne.alternate!==null&&ut.delete(Ne.key===null?gt:Ne.key),D=d(Ne,D,gt),Dt===null?ot=Ne:Dt.sibling=Ne,Dt=Ne);return e&&ut.forEach(function(vr){return i(M,vr)}),Bt&&ds(M,gt),ot}function mt(M,D,k,G){if(k==null)throw Error(s(151));for(var ot=null,Dt=null,ut=D,gt=D=0,Ne=null,Lt=k.next();ut!==null&&!Lt.done;gt++,Lt=k.next()){ut.index>gt?(Ne=ut,ut=null):Ne=ut.sibling;var vr=z(M,ut,Lt.value,G);if(vr===null){ut===null&&(ut=Ne);break}e&&ut&&vr.alternate===null&&i(M,ut),D=d(vr,D,gt),Dt===null?ot=vr:Dt.sibling=vr,Dt=vr,ut=Ne}if(Lt.done)return a(M,ut),Bt&&ds(M,gt),ot;if(ut===null){for(;!Lt.done;gt++,Lt=k.next())Lt=K(M,Lt.value,G),Lt!==null&&(D=d(Lt,D,gt),Dt===null?ot=Lt:Dt.sibling=Lt,Dt=Lt);return Bt&&ds(M,gt),ot}for(ut=o(ut);!Lt.done;gt++,Lt=k.next())Lt=B(ut,M,gt,Lt.value,G),Lt!==null&&(e&&Lt.alternate!==null&&ut.delete(Lt.key===null?gt:Lt.key),D=d(Lt,D,gt),Dt===null?ot=Lt:Dt.sibling=Lt,Dt=Lt);return e&&ut.forEach(function($A){return i(M,$A)}),Bt&&ds(M,gt),ot}function Xt(M,D,k,G){if(typeof k=="object"&&k!==null&&k.type===$&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case x:t:{for(var ot=k.key;D!==null;){if(D.key===ot){if(ot=k.type,ot===$){if(D.tag===7){a(M,D.sibling),G=h(D,k.props.children),G.return=M,M=G;break t}}else if(D.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===S&&Sp(ot)===D.type){a(M,D.sibling),G=h(D,k.props),Go(G,k),G.return=M,M=G;break t}a(M,D);break}else i(M,D);D=D.sibling}k.type===$?(G=hs(k.props.children,M.mode,G,k.key),G.return=M,M=G):(G=vu(k.type,k.key,k.props,null,M.mode,G),Go(G,k),G.return=M,M=G)}return v(M);case F:t:{for(ot=k.key;D!==null;){if(D.key===ot)if(D.tag===4&&D.stateNode.containerInfo===k.containerInfo&&D.stateNode.implementation===k.implementation){a(M,D.sibling),G=h(D,k.children||[]),G.return=M,M=G;break t}else{a(M,D);break}else i(M,D);D=D.sibling}G=qh(k,M.mode,G),G.return=M,M=G}return v(M);case S:return ot=k._init,k=ot(k._payload),Xt(M,D,k,G)}if(se(k))return yt(M,D,k,G);if(P(k)){if(ot=P(k),typeof ot!="function")throw Error(s(150));return k=ot.call(k),mt(M,D,k,G)}if(typeof k.then=="function")return Xt(M,D,ku(k),G);if(k.$$typeof===tt)return Xt(M,D,Su(M,k),G);xu(M,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,D!==null&&D.tag===6?(a(M,D.sibling),G=h(D,k),G.return=M,M=G):(a(M,D),G=jh(k,M.mode,G),G.return=M,M=G),v(M)):a(M,D)}return function(M,D,k,G){try{Ho=0;var ot=Xt(M,D,k,G);return pa=null,ot}catch(ut){if(ut===Po||ut===wu)throw ut;var Dt=ln(29,ut,null,M.mode);return Dt.lanes=G,Dt.return=M,Dt}finally{}}}var _a=bp(!0),wp=bp(!1),bn=X(null),Jn=null;function rr(e){var i=e.alternate;W(Se,Se.current&1),W(bn,e),Jn===null&&(i===null||fa.current!==null||i.memoizedState!==null)&&(Jn=e)}function Rp(e){if(e.tag===22){if(W(Se,Se.current),W(bn,e),Jn===null){var i=e.alternate;i!==null&&i.memoizedState!==null&&(Jn=e)}}else sr()}function sr(){W(Se,Se.current),W(bn,bn.current)}function Ci(e){it(bn),Jn===e&&(Jn=null),it(Se)}var Se=X(0);function Lu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||hd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Af(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:T({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Sf={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=fn(),h=er(o);h.payload=i,a!=null&&(h.callback=a),i=nr(e,h,o),i!==null&&(dn(i,e,o),ko(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=fn(),h=er(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=nr(e,h,o),i!==null&&(dn(i,e,o),ko(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=fn(),o=er(a);o.tag=2,i!=null&&(o.callback=i),i=nr(e,o,a),i!==null&&(dn(i,e,a),ko(i,e,a))}};function Ip(e,i,a,o,h,d,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,v):i.prototype&&i.prototype.isPureReactComponent?!Ro(a,o)||!Ro(h,d):!0}function Cp(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&Sf.enqueueReplaceState(i,i.state,null)}function Es(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=T({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var zu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Dp(e){zu(e)}function Op(e){console.error(e)}function Np(e){zu(e)}function Bu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function Vp(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function bf(e,i,a){return a=er(a),a.tag=3,a.payload={element:null},a.callback=function(){Bu(e,i)},a}function Mp(e){return e=er(e),e.tag=3,e}function Pp(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;e.payload=function(){return h(d)},e.callback=function(){Vp(i,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Vp(i,a,o),typeof h!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function $T(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&No(i,a,h,!0),a=bn.current,a!==null){switch(a.tag){case 13:return Jn===null?Yf():a.alternate===null&&le===0&&(le=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Wh?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),$f(e,o,h)),!1;case 22:return a.flags|=65536,o===Wh?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),$f(e,o,h)),!1}throw Error(s(435,a.tag))}return $f(e,o,h),Yf(),!1}if(Bt)return i=bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Fh&&(e=Error(s(422),{cause:o}),Oo(En(e,a)))):(o!==Fh&&(i=Error(s(423),{cause:o}),Oo(En(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=En(o,a),h=bf(e.stateNode,o,h),ef(e,h),le!==4&&(le=2)),!1;var d=Error(s(520),{cause:o});if(d=En(d,a),Zo===null?Zo=[d]:Zo.push(d),le!==4&&(le=2),i===null)return!0;o=En(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=bf(a.stateNode,o,e),ef(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(hr===null||!hr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Mp(h),Pp(h,e,a,o),ef(a,h),!1}a=a.return}while(a!==null);return!1}var Up=Error(s(461)),De=!1;function ke(e,i,a,o){i.child=e===null?wp(i,null,a,o):_a(i,e.child,a,o)}function kp(e,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var v={};for(var E in o)E!=="ref"&&(v[E]=o[E])}else v=o;return _s(i),o=of(e,i,a,v,d,h),E=lf(),e!==null&&!De?(uf(e,i,h),Di(e,i,h)):(Bt&&E&&Hh(i),i.flags|=1,ke(e,i,o,h),i.child)}function xp(e,i,a,o,h){if(e===null){var d=a.type;return typeof d=="function"&&!Bh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Lp(e,i,d,o,h)):(e=vu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Vf(e,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ro,a(v,o)&&e.ref===i.ref)return Di(e,i,h)}return i.flags|=1,e=Ai(d,o),e.ref=i.ref,e.return=i,i.child=e}function Lp(e,i,a,o,h){if(e!==null){var d=e.memoizedProps;if(Ro(d,o)&&e.ref===i.ref)if(De=!1,i.pendingProps=o=d,Vf(e,h))(e.flags&131072)!==0&&(De=!0);else return i.lanes=e.lanes,Di(e,i,h)}return wf(e,i,a,o,h)}function zp(e,i,a){var o=i.pendingProps,h=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((i.flags&128)!==0){if(o=d!==null?d.baseLanes|a:a,e!==null){for(h=i.child=e.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~o}else i.childLanes=0,i.child=null;return Bp(e,i,o,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&bu(i,d!==null?d.cachePool:null),d!==null?Lg(i,d):rf(),Rp(i);else return i.lanes=i.childLanes=536870912,Bp(e,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(bu(i,d.cachePool),Lg(i,d),sr(),i.memoizedState=null):(e!==null&&bu(i,null),rf(),sr());return ke(e,i,h,a),i.child}function Bp(e,i,a,o){var h=Zh();return h=h===null?null:{parent:Ae._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},e!==null&&bu(i,null),rf(),Rp(i),e!==null&&No(e,i,o,!0),null}function ju(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function wf(e,i,a,o,h){return _s(i),a=of(e,i,a,o,void 0,h),o=lf(),e!==null&&!De?(uf(e,i,h),Di(e,i,h)):(Bt&&o&&Hh(i),i.flags|=1,ke(e,i,a,h),i.child)}function jp(e,i,a,o,h,d){return _s(i),i.updateQueue=null,a=Bg(i,o,a,h),zg(e),o=lf(),e!==null&&!De?(uf(e,i,d),Di(e,i,d)):(Bt&&o&&Hh(i),i.flags|=1,ke(e,i,a,d),i.child)}function qp(e,i,a,o,h){if(_s(i),i.stateNode===null){var d=oa,v=a.contextType;typeof v=="object"&&v!==null&&(d=He(v)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Sf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},Jh(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?He(v):oa,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Af(i,a,v,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Sf.enqueueReplaceState(d,d.state,null),Lo(i,o,d,h),xo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,b=Es(a,E);d.props=b;var L=d.context,H=a.contextType;v=oa,typeof H=="object"&&H!==null&&(v=He(H));var K=a.getDerivedStateFromProps;H=typeof K=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,H||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||L!==v)&&Cp(i,d,o,v),tr=!1;var z=i.memoizedState;d.state=z,Lo(i,o,d,h),xo(),L=i.memoizedState,E||z!==L||tr?(typeof K=="function"&&(Af(i,a,K,o),L=i.memoizedState),(b=tr||Ip(i,a,b,o,z,L,v))?(H||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=L),d.props=o,d.state=L,d.context=v,o=b):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,tf(e,i),v=i.memoizedProps,H=Es(a,v),d.props=H,K=i.pendingProps,z=d.context,L=a.contextType,b=oa,typeof L=="object"&&L!==null&&(b=He(L)),E=a.getDerivedStateFromProps,(L=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==K||z!==b)&&Cp(i,d,o,b),tr=!1,z=i.memoizedState,d.state=z,Lo(i,o,d,h),xo();var B=i.memoizedState;v!==K||z!==B||tr||e!==null&&e.dependencies!==null&&Au(e.dependencies)?(typeof E=="function"&&(Af(i,a,E,o),B=i.memoizedState),(H=tr||Ip(i,a,H,o,z,B,b)||e!==null&&e.dependencies!==null&&Au(e.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,B,b),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,B,b)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=B),d.props=o,d.state=B,d.context=b,o=H):(typeof d.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),o=!1)}return d=o,ju(e,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&o?(i.child=_a(i,e.child,null,h),i.child=_a(i,null,a,h)):ke(e,i,a,h),i.memoizedState=d.state,e=i.child):e=Di(e,i,h),e}function Hp(e,i,a,o){return Do(),i.flags|=256,ke(e,i,a,o),i.child}var Rf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function If(e){return{baseLanes:e,cachePool:Og()}}function Cf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=wn),e}function Gp(e,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=e!==null&&e.memoizedState===null?!1:(Se.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,e===null){if(Bt){if(h?rr(i):sr(),Bt){var E=oe,b;if(b=E){t:{for(b=E,E=Wn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Un(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(i.memoizedState={dehydrated:E,treeContext:fs!==null?{id:Si,overflow:bi}:null,retryLane:536870912,hydrationErrors:null},b=ln(18,null,null,0),b.stateNode=E,b.return=i,i.child=b,We=i,oe=null,b=!0):b=!1}b||gs(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return hd(E)?i.lanes=32:i.lanes=536870912,null;Ci(i)}return E=o.children,o=o.fallback,h?(sr(),h=i.mode,E=qu({mode:"hidden",children:E},h),o=hs(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,h=i.child,h.memoizedState=If(a),h.childLanes=Cf(e,v,a),i.memoizedState=Rf,o):(rr(i),Df(i,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(d)i.flags&256?(rr(i),i.flags&=-257,i=Of(e,i,a)):i.memoizedState!==null?(sr(),i.child=e.child,i.flags|=128,i=null):(sr(),h=o.fallback,E=i.mode,o=qu({mode:"visible",children:o.children},E),h=hs(h,E,a,null),h.flags|=2,o.return=i,h.return=i,o.sibling=h,i.child=o,_a(i,e.child,null,a),o=i.child,o.memoizedState=If(a),o.childLanes=Cf(e,v,a),i.memoizedState=Rf,i=h);else if(rr(i),hd(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var L=v.dgst;v=L,o=Error(s(419)),o.stack="",o.digest=v,Oo({value:o,source:null,stack:null}),i=Of(e,i,a)}else if(De||No(e,i,a,!1),v=(a&e.childLanes)!==0,De||v){if(v=Wt,v!==null&&(o=a&-a,o=(o&42)!==0?1:Ki(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==b.retryLane))throw b.retryLane=o,aa(e,o),dn(v,e,o),Up;E.data==="$?"||Yf(),i=Of(e,i,a)}else E.data==="$?"?(i.flags|=192,i.child=e.child,i=null):(e=b.treeContext,oe=Un(E.nextSibling),We=i,Bt=!0,ms=null,Wn=!1,e!==null&&(An[Sn++]=Si,An[Sn++]=bi,An[Sn++]=fs,Si=e.id,bi=e.overflow,fs=i),i=Df(i,o.children),i.flags|=4096);return i}return h?(sr(),h=o.fallback,E=i.mode,b=e.child,L=b.sibling,o=Ai(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&65011712,L!==null?h=Ai(L,h):(h=hs(h,E,a,null),h.flags|=2),h.return=i,o.return=i,o.sibling=h,i.child=o,o=h,h=i.child,E=e.child.memoizedState,E===null?E=If(a):(b=E.cachePool,b!==null?(L=Ae._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=Og(),E={baseLanes:E.baseLanes|a,cachePool:b}),h.memoizedState=E,h.childLanes=Cf(e,v,a),i.memoizedState=Rf,o):(rr(i),a=e.child,e=a.sibling,a=Ai(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(v=i.deletions,v===null?(i.deletions=[e],i.flags|=16):v.push(e)),i.child=a,i.memoizedState=null,a)}function Df(e,i){return i=qu({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function qu(e,i){return e=ln(22,e,null,i),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Of(e,i,a){return _a(i,e.child,null,a),e=Df(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Fp(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),Qh(e.return,i,a)}function Nf(e,i,a,o,h){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=a,d.tailMode=h)}function Kp(e,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;if(ke(e,i,o.children,a),o=Se.current,(o&2)!==0)o=o&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Fp(e,a,i);else if(e.tag===19)Fp(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(W(Se,o),h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Lu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Nf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Lu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Nf(i,!0,a,null,d);break;case"together":Nf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Di(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),cr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(No(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Ai(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Ai(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Vf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Au(e)))}function ZT(e,i,a){switch(i.tag){case 3:Zt(i,i.stateNode.containerInfo),Ji(i,Ae,e.memoizedState.cache),Do();break;case 27:case 5:Fi(i);break;case 4:Zt(i,i.stateNode.containerInfo);break;case 10:Ji(i,i.type,i.memoizedProps.value);break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(rr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Gp(e,i,a):(rr(i),e=Di(e,i,a),e!==null?e.sibling:null);rr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(No(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Kp(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(Se,Se.current),o)break;return null;case 22:case 23:return i.lanes=0,zp(e,i,a);case 24:Ji(i,Ae,e.memoizedState.cache)}return Di(e,i,a)}function Qp(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)De=!0;else{if(!Vf(e,a)&&(i.flags&128)===0)return De=!1,ZT(e,i,a);De=(e.flags&131072)!==0}else De=!1,Bt&&(i.flags&1048576)!==0&&Sg(i,Tu,i.index);switch(i.lanes=0,i.tag){case 16:t:{e=i.pendingProps;var o=i.elementType,h=o._init;if(o=h(o._payload),i.type=o,typeof o=="function")Bh(o)?(e=Es(o,e),i.tag=1,i=qp(null,i,o,e,a)):(i.tag=0,i=wf(null,i,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===Et){i.tag=11,i=kp(null,i,o,e,a);break t}else if(h===N){i.tag=14,i=xp(null,i,o,e,a);break t}}throw i=Me(o)||o,Error(s(306,i,""))}}return i;case 0:return wf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Es(o,i.pendingProps),qp(e,i,o,h,a);case 3:t:{if(Zt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,tf(e,i),Lo(i,o,null,a);var v=i.memoizedState;if(o=v.cache,Ji(i,Ae,o),o!==d.cache&&Yh(i,[Ae],a,!0),xo(),o=v.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Hp(e,i,o,a);break t}else if(o!==h){h=En(Error(s(424)),i),Oo(h),i=Hp(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(oe=Un(e.firstChild),We=i,Bt=!0,ms=null,Wn=!0,a=wp(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Do(),o===h){i=Di(e,i,a);break t}ke(e,i,o,a)}i=i.child}return i;case 26:return ju(e,i),e===null?(a=Z_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Bt||(a=i.type,e=i.pendingProps,o=nc(Tt.current).createElement(a),o[ve]=i,o[de]=e,Le(o,a,e),ue(o),i.stateNode=o):i.memoizedState=Z_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Fi(i),e===null&&Bt&&(o=i.stateNode=Y_(i.type,i.pendingProps,Tt.current),We=i,Wn=!0,h=oe,mr(i.type)?(fd=h,oe=Un(o.firstChild)):oe=h),ke(e,i,i.pendingProps.children,a),ju(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Bt&&((h=o=oe)&&(o=wA(o,i.type,i.pendingProps,Wn),o!==null?(i.stateNode=o,We=i,oe=Un(o.firstChild),Wn=!1,h=!0):h=!1),h||gs(i)),Fi(i),h=i.type,d=i.pendingProps,v=e!==null?e.memoizedProps:null,o=d.children,ld(h,d)?o=null:v!==null&&ld(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=of(e,i,HT,null,null,a),al._currentValue=h),ju(e,i),ke(e,i,o,a),i.child;case 6:return e===null&&Bt&&((e=a=oe)&&(a=RA(a,i.pendingProps,Wn),a!==null?(i.stateNode=a,We=i,oe=null,e=!0):e=!1),e||gs(i)),null;case 13:return Gp(e,i,a);case 4:return Zt(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=_a(i,null,o,a):ke(e,i,o,a),i.child;case 11:return kp(e,i,i.type,i.pendingProps,a);case 7:return ke(e,i,i.pendingProps,a),i.child;case 8:return ke(e,i,i.pendingProps.children,a),i.child;case 12:return ke(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Ji(i,i.type,o.value),ke(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,_s(i),h=He(h),o=o(h),i.flags|=1,ke(e,i,o,a),i.child;case 14:return xp(e,i,i.type,i.pendingProps,a);case 15:return Lp(e,i,i.type,i.pendingProps,a);case 19:return Kp(e,i,a);case 31:return o=i.pendingProps,a=i.mode,o={mode:o.mode,children:o.children},e===null?(a=qu(o,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ai(e.child,o),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return zp(e,i,a);case 24:return _s(i),o=He(Ae),e===null?(h=Zh(),h===null&&(h=Wt,d=Xh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},Jh(i),Ji(i,Ae,h)):((e.lanes&a)!==0&&(tf(e,i),Lo(i,null,null,a),xo()),h=e.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ji(i,Ae,o)):(o=d.cache,Ji(i,Ae,o),o!==h.cache&&Yh(i,[Ae],a,!0))),ke(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Oi(e){e.flags|=4}function Yp(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ny(i)){if(i=bn.current,i!==null&&((kt&4194048)===kt?Jn!==null:(kt&62914560)!==kt&&(kt&536870912)===0||i!==Jn))throw Uo=Wh,Ng;e.flags|=8192}}function Hu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?oo():536870912,e.lanes|=i,Ta|=i)}function Fo(e,i){if(!Bt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function WT(e,i,a){var o=i.pendingProps;switch(Gh(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(i),null;case 1:return ne(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ri(Ae),Bn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Co(i)?Oi(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Rg())),ne(i),null;case 26:return a=i.memoizedState,e===null?(Oi(i),a!==null?(ne(i),Yp(i,a)):(ne(i),i.flags&=-16777217)):a?a!==e.memoizedState?(Oi(i),ne(i),Yp(i,a)):(ne(i),i.flags&=-16777217):(e.memoizedProps!==o&&Oi(i),ne(i),i.flags&=-16777217),null;case 27:ui(i),a=Tt.current;var h=i.type;if(e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Oi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ne(i),null}e=dt.current,Co(i)?bg(i):(e=Y_(h,o,a),i.stateNode=e,Oi(i))}return ne(i),null;case 5:if(ui(i),a=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&Oi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return ne(i),null}if(e=dt.current,Co(i))bg(i);else{switch(h=nc(Tt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[ve]=i,e[de]=o;t:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break t;for(;h.sibling===null;){if(h.return===null||h.return===i)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=e;t:switch(Le(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Oi(i)}}return ne(i),i.flags&=-16777217,null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&Oi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=Tt.current,Co(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=We,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ve]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||j_(e.nodeValue,a)),e||gs(i)}else e=nc(e).createTextNode(o),e[ve]=i,i.stateNode=e}return ne(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Co(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ve]=i}else Do(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ne(i),h=!1}else h=Rg(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Ci(i),i):(Ci(i),null)}if(Ci(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var d=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)}return a!==e&&a&&(i.child.flags|=8192),Hu(i,i.updateQueue),ne(i),null;case 4:return Bn(),e===null&&id(i.stateNode.containerInfo),ne(i),null;case 10:return Ri(i.type),ne(i),null;case 19:if(it(Se),h=i.memoizedState,h===null)return ne(i),null;if(o=(i.flags&128)!==0,d=h.rendering,d===null)if(o)Fo(h,!1);else{if(le!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=Lu(e),d!==null){for(i.flags|=128,Fo(h,!1),e=d.updateQueue,i.updateQueue=e,Hu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Ag(a,e),a=a.sibling;return W(Se,Se.current&1|2),i.child}e=e.sibling}h.tail!==null&&mn()>Ku&&(i.flags|=128,o=!0,Fo(h,!1),i.lanes=4194304)}else{if(!o)if(e=Lu(d),e!==null){if(i.flags|=128,o=!0,e=e.updateQueue,i.updateQueue=e,Hu(i,e),Fo(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Bt)return ne(i),null}else 2*mn()-h.renderingStartTime>Ku&&a!==536870912&&(i.flags|=128,o=!0,Fo(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(e=h.last,e!==null?e.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=mn(),i.sibling=null,e=Se.current,W(Se,o?e&1|2:e&1),i):(ne(i),null);case 22:case 23:return Ci(i),sf(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(ne(i),i.subtreeFlags&6&&(i.flags|=8192)):ne(i),a=i.updateQueue,a!==null&&Hu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&it(ys),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ri(Ae),ne(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function JT(e,i){switch(Gh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ri(Ae),Bn(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ui(i),null;case 13:if(Ci(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Do()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return it(Se),null;case 4:return Bn(),null;case 10:return Ri(i.type),null;case 22:case 23:return Ci(i),sf(),e!==null&&it(ys),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ri(Ae),null;case 25:return null;default:return null}}function Xp(e,i){switch(Gh(i),i.tag){case 3:Ri(Ae),Bn();break;case 26:case 27:case 5:ui(i);break;case 4:Bn();break;case 13:Ci(i);break;case 19:it(Se);break;case 10:Ri(i.type);break;case 22:case 23:Ci(i),sf(),e!==null&&it(ys);break;case 24:Ri(Ae)}}function Ko(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var d=a.create,v=a.inst;o=d(),v.destroy=o}a=a.next}while(a!==h)}}catch(E){$t(i,i.return,E)}}function ar(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&e)===e){var v=o.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var b=a,L=E;try{L()}catch(H){$t(h,b,H)}}}o=o.next}while(o!==d)}}catch(H){$t(i,i.return,H)}}function $p(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{xg(i,a)}catch(o){$t(e,e.return,o)}}}function Zp(e,i,a){a.props=Es(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){$t(e,i,o)}}function Qo(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){$t(e,i,h)}}function ti(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){$t(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,i,h)}else a.current=null}function Wp(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function Mf(e,i,a){try{var o=e.stateNode;EA(o,e.type,a,i),o[de]=i}catch(h){$t(e,e.return,h)}}function Jp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&mr(e.type)||e.tag===4}function Pf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Jp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&mr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Uf(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ec));else if(o!==4&&(o===27&&mr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Uf(e,i,a),e=e.sibling;e!==null;)Uf(e,i,a),e=e.sibling}function Gu(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&mr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Gu(e,i,a),e=e.sibling;e!==null;)Gu(e,i,a),e=e.sibling}function t_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Le(i,o,a),i[ve]=e,i[de]=a}catch(d){$t(e,e.return,d)}}var Ni=!1,he=!1,kf=!1,e_=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function tA(e,i){if(e=e.containerInfo,ad=lc,e=fg(e),Mh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var v=0,E=-1,b=-1,L=0,H=0,K=e,z=null;e:for(;;){for(var B;K!==a||h!==0&&K.nodeType!==3||(E=v+h),K!==d||o!==0&&K.nodeType!==3||(b=v+o),K.nodeType===3&&(v+=K.nodeValue.length),(B=K.firstChild)!==null;)z=K,K=B;for(;;){if(K===e)break e;if(z===a&&++L===h&&(E=v),z===d&&++H===o&&(b=v),(B=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=B}a=E===-1||b===-1?null:{start:E,end:b}}else a=null}a=a||{start:0,end:0}}else a=null;for(od={focusedElem:e,selectionRange:a},lc=!1,Oe=i;Oe!==null;)if(i=Oe,e=i.child,(i.subtreeFlags&1024)!==0&&e!==null)e.return=i,Oe=e;else for(;Oe!==null;){switch(i=Oe,d=i.alternate,e=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var yt=Es(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(yt,d),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){$t(a,a.return,mt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)cd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":cd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Oe=e;break}Oe=i.return}}function n_(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:or(e,a),o&4&&Ko(5,a);break;case 1:if(or(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(v){$t(a,a.return,v)}else{var h=Es(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(a,a.return,v)}}o&64&&$p(a),o&512&&Qo(a,a.return);break;case 3:if(or(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{xg(e,i)}catch(v){$t(a,a.return,v)}}break;case 27:i===null&&o&4&&t_(a);case 26:case 5:or(e,a),i===null&&o&4&&Wp(a),o&512&&Qo(a,a.return);break;case 12:or(e,a);break;case 13:or(e,a),o&4&&s_(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=uA.bind(null,a),IA(e,a))));break;case 22:if(o=a.memoizedState!==null||Ni,!o){i=i!==null&&i.memoizedState!==null||he,h=Ni;var d=he;Ni=o,(he=i)&&!d?lr(e,a,(a.subtreeFlags&8772)!==0):or(e,a),Ni=h,he=d}break;case 30:break;default:or(e,a)}}function i_(e){var i=e.alternate;i!==null&&(e.alternate=null,i_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&Xi(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ee=null,en=!1;function Vi(e,i,a){for(a=a.child;a!==null;)r_(e,i,a),a=a.sibling}function r_(e,i,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(ae,a)}catch{}switch(a.tag){case 26:he||ti(a,i),Vi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:he||ti(a,i);var o=ee,h=en;mr(a.type)&&(ee=a.stateNode,en=!1),Vi(e,i,a),nl(a.stateNode),ee=o,en=h;break;case 5:he||ti(a,i);case 6:if(o=ee,h=en,ee=null,Vi(e,i,a),ee=o,en=h,ee!==null)if(en)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(a.stateNode)}catch(d){$t(a,i,d)}else try{ee.removeChild(a.stateNode)}catch(d){$t(a,i,d)}break;case 18:ee!==null&&(en?(e=ee,K_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),cl(e)):K_(ee,a.stateNode));break;case 4:o=ee,h=en,ee=a.stateNode.containerInfo,en=!0,Vi(e,i,a),ee=o,en=h;break;case 0:case 11:case 14:case 15:he||ar(2,a,i),he||ar(4,a,i),Vi(e,i,a);break;case 1:he||(ti(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Zp(a,i,o)),Vi(e,i,a);break;case 21:Vi(e,i,a);break;case 22:he=(o=he)||a.memoizedState!==null,Vi(e,i,a),he=o;break;default:Vi(e,i,a)}}function s_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{cl(e)}catch(a){$t(i,i.return,a)}}function eA(e){switch(e.tag){case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new e_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new e_),i;default:throw Error(s(435,e.tag))}}function xf(e,i){var a=eA(e);i.forEach(function(o){var h=cA.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function un(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=e,v=i,E=v;t:for(;E!==null;){switch(E.tag){case 27:if(mr(E.type)){ee=E.stateNode,en=!1;break t}break;case 5:ee=E.stateNode,en=!1;break t;case 3:case 4:ee=E.stateNode.containerInfo,en=!0;break t}E=E.return}if(ee===null)throw Error(s(160));r_(d,v,h),ee=null,en=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)a_(i,e),i=i.sibling}var Pn=null;function a_(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:un(i,e),cn(e),o&4&&(ar(3,e,e.return),Ko(3,e),ar(5,e,e.return));break;case 1:un(i,e),cn(e),o&512&&(he||a===null||ti(a,a.return)),o&64&&Ni&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Pn;if(un(i,e),cn(e),o&512&&(he||a===null||ti(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Xr]||d[ve]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Le(d,o,a),d[ve]=e,ue(d),o=d;break t;case"link":var v=ty("link","href",h).get(o+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break e}}d=h.createElement(o),Le(d,o,a),h.head.appendChild(d);break;case"meta":if(v=ty("meta","content",h).get(o+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break e}}d=h.createElement(o),Le(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[ve]=e,ue(d),o=d}e.stateNode=o}else ey(h,e.type,e.stateNode);else e.stateNode=J_(h,o,e.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?ey(h,e.type,e.stateNode):J_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Mf(e,e.memoizedProps,a.memoizedProps)}break;case 27:un(i,e),cn(e),o&512&&(he||a===null||ti(a,a.return)),a!==null&&o&4&&Mf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(un(i,e),cn(e),o&512&&(he||a===null||ti(a,a.return)),e.flags&32){h=e.stateNode;try{pn(h,"")}catch(B){$t(e,e.return,B)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Mf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(kf=!0);break;case 6:if(un(i,e),cn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(B){$t(e,e.return,B)}}break;case 3:if(sc=null,h=Pn,Pn=ic(i.containerInfo),un(i,e),Pn=h,cn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{cl(i.containerInfo)}catch(B){$t(e,e.return,B)}kf&&(kf=!1,o_(e));break;case 4:o=Pn,Pn=ic(e.stateNode.containerInfo),un(i,e),cn(e),Pn=o;break;case 12:un(i,e),cn(e);break;case 13:un(i,e),cn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Hf=mn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,xf(e,o)));break;case 22:h=e.memoizedState!==null;var b=a!==null&&a.memoizedState!==null,L=Ni,H=he;if(Ni=L||h,he=H||b,un(i,e),he=H,Ni=L,cn(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||b||Ni||he||Ts(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){b=a=i;try{if(d=b.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=b.stateNode;var K=b.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(B){$t(b,b.return,B)}}}else if(i.tag===6){if(a===null){b=i;try{b.stateNode.nodeValue=h?"":b.memoizedProps}catch(B){$t(b,b.return,B)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,xf(e,a))));break;case 19:un(i,e),cn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,xf(e,o)));break;case 30:break;case 21:break;default:un(i,e),cn(e)}}function cn(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(Jp(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Pf(e);Gu(e,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(pn(v,""),a.flags&=-33);var E=Pf(e);Gu(e,E,v);break;case 3:case 4:var b=a.stateNode.containerInfo,L=Pf(e);Uf(e,L,b);break;default:throw Error(s(161))}}catch(H){$t(e,e.return,H)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function o_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;o_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function or(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)n_(e,i.alternate,i),i=i.sibling}function Ts(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:ar(4,i,i.return),Ts(i);break;case 1:ti(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Zp(i,i.return,a),Ts(i);break;case 27:nl(i.stateNode);case 26:case 5:ti(i,i.return),Ts(i);break;case 22:i.memoizedState===null&&Ts(i);break;case 30:Ts(i);break;default:Ts(i)}e=e.sibling}}function lr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:lr(h,d,a),Ko(4,d);break;case 1:if(lr(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){$t(o,o.return,L)}if(o=d,h=o.updateQueue,h!==null){var E=o.stateNode;try{var b=h.shared.hiddenCallbacks;if(b!==null)for(h.shared.hiddenCallbacks=null,h=0;h<b.length;h++)kg(b[h],E)}catch(L){$t(o,o.return,L)}}a&&v&64&&$p(d),Qo(d,d.return);break;case 27:t_(d);case 26:case 5:lr(h,d,a),a&&o===null&&v&4&&Wp(d),Qo(d,d.return);break;case 12:lr(h,d,a);break;case 13:lr(h,d,a),a&&v&4&&s_(h,d);break;case 22:d.memoizedState===null&&lr(h,d,a),Qo(d,d.return);break;case 30:break;default:lr(h,d,a)}i=i.sibling}}function Lf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Vo(a))}function zf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Vo(e))}function ei(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)l_(e,i,a,o),i=i.sibling}function l_(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ei(e,i,a,o),h&2048&&Ko(9,i);break;case 1:ei(e,i,a,o);break;case 3:ei(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Vo(e)));break;case 12:if(h&2048){ei(e,i,a,o),e=i.stateNode;try{var d=i.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){$t(i,i.return,b)}}else ei(e,i,a,o);break;case 13:ei(e,i,a,o);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ei(e,i,a,o):Yo(e,i):d._visibility&2?ei(e,i,a,o):(d._visibility|=2,ya(e,i,a,o,(i.subtreeFlags&10256)!==0)),h&2048&&Lf(v,i);break;case 24:ei(e,i,a,o),h&2048&&zf(i.alternate,i);break;default:ei(e,i,a,o)}}function ya(e,i,a,o,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=e,v=i,E=a,b=o,L=v.flags;switch(v.tag){case 0:case 11:case 15:ya(d,v,E,b,h),Ko(8,v);break;case 23:break;case 22:var H=v.stateNode;v.memoizedState!==null?H._visibility&2?ya(d,v,E,b,h):Yo(d,v):(H._visibility|=2,ya(d,v,E,b,h)),h&&L&2048&&Lf(v.alternate,v);break;case 24:ya(d,v,E,b,h),h&&L&2048&&zf(v.alternate,v);break;default:ya(d,v,E,b,h)}i=i.sibling}}function Yo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:Yo(a,o),h&2048&&Lf(o.alternate,o);break;case 24:Yo(a,o),h&2048&&zf(o.alternate,o);break;default:Yo(a,o)}i=i.sibling}}var Xo=8192;function va(e){if(e.subtreeFlags&Xo)for(e=e.child;e!==null;)u_(e),e=e.sibling}function u_(e){switch(e.tag){case 26:va(e),e.flags&Xo&&e.memoizedState!==null&&BA(Pn,e.memoizedState,e.memoizedProps);break;case 5:va(e);break;case 3:case 4:var i=Pn;Pn=ic(e.stateNode.containerInfo),va(e),Pn=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Xo,Xo=16777216,va(e),Xo=i):va(e));break;default:va(e)}}function c_(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function $o(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Oe=o,f_(o,e)}c_(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)h_(e),e=e.sibling}function h_(e){switch(e.tag){case 0:case 11:case 15:$o(e),e.flags&2048&&ar(9,e,e.return);break;case 3:$o(e);break;case 12:$o(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Fu(e)):$o(e);break;default:$o(e)}}function Fu(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Oe=o,f_(o,e)}c_(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:ar(8,i,i.return),Fu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Fu(i));break;default:Fu(i)}e=e.sibling}}function f_(e,i){for(;Oe!==null;){var a=Oe;switch(a.tag){case 0:case 11:case 15:ar(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Vo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Oe=o;else t:for(a=e;Oe!==null;){o=Oe;var h=o.sibling,d=o.return;if(i_(o),o===a){Oe=null;break t}if(h!==null){h.return=d,Oe=h;break t}Oe=d}}}var nA={getCacheForType:function(e){var i=He(Ae),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a}},iA=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Wt=null,Ot=null,kt=0,Ft=0,hn=null,ur=!1,Ea=!1,Bf=!1,Mi=0,le=0,cr=0,As=0,jf=0,wn=0,Ta=0,Zo=null,nn=null,qf=!1,Hf=0,Ku=1/0,Qu=null,hr=null,xe=0,fr=null,Aa=null,Sa=0,Gf=0,Ff=null,d_=null,Wo=0,Kf=null;function fn(){if((Gt&2)!==0&&kt!==0)return kt&-kt;if(q.T!==null){var e=ca;return e!==0?e:Jf()}return Qi()}function m_(){wn===0&&(wn=(kt&536870912)===0||Bt?ao():536870912);var e=bn.current;return e!==null&&(e.flags|=32),wn}function dn(e,i,a){(e===Wt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(ba(e,0),dr(e,kt,wn,!1)),hi(e,a),((Gt&2)===0||e!==Wt)&&(e===Wt&&((Gt&2)===0&&(As|=a),le===4&&dr(e,kt,wn,!1)),ni(e))}function g_(e,i,a){if((Gt&6)!==0)throw Error(s(327));var o=!a&&(i&124)===0&&(i&e.expiredLanes)===0||Yr(e,i),h=o?aA(e,i):Xf(e,i,!0),d=o;do{if(h===0){Ea&&!o&&dr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!rA(a)){h=Xf(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;t:{var E=e;h=Zo;var b=E.current.memoizedState.isDehydrated;if(b&&(ba(E,v).flags|=256),v=Xf(E,v,!1),v!==2){if(Bf&&!b){E.errorRecoveryDisabledLanes|=d,As|=d,h=4;break t}d=nn,nn=h,d!==null&&(nn===null?nn=d:nn.push.apply(nn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){ba(e,0),dr(e,i,0,!0);break}t:{switch(o=e,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:dr(o,i,wn,!ur);break t;case 2:nn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Hf+300-mn(),10<h)){if(dr(o,i,wn,!ur),js(o,0,!0)!==0)break t;o.timeoutHandle=G_(p_.bind(null,o,a,nn,Qu,qf,i,wn,As,Ta,ur,d,2,-0,0),h);break t}p_(o,a,nn,Qu,qf,i,wn,As,Ta,ur,d,0,-0,0)}}break}while(!0);ni(e)}function p_(e,i,a,o,h,d,v,E,b,L,H,K,z,B){if(e.timeoutHandle=-1,K=i.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(sl={stylesheets:null,count:0,unsuspend:zA},u_(i),K=jA(),K!==null)){e.cancelPendingCommit=K(S_.bind(null,e,i,d,a,o,h,v,E,b,H,1,z,B)),dr(e,d,v,!L);return}S_(e,i,d,a,o,h,v,E,b)}function rA(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!on(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function dr(e,i,a,o){i&=~jf,i&=~As,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var d=31-qe(h),v=1<<d;o[d]=-1,h&=~v}a!==0&&jn(e,a,i)}function Yu(){return(Gt&6)===0?(Jo(0),!1):!0}function Qf(){if(Ot!==null){if(Ft===0)var e=Ot.return;else e=Ot,wi=ps=null,cf(e),pa=null,Ho=0,e=Ot;for(;e!==null;)Xp(e.alternate,e),e=e.return;Ot=null}}function ba(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,AA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Qf(),Wt=e,Ot=a=Ai(e.current,null),kt=i,Ft=0,hn=null,ur=!1,Ea=Yr(e,i),Bf=!1,Ta=wn=jf=As=cr=le=0,nn=Zo=null,qf=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-qe(o),d=1<<h;i|=e[h],o&=~d}return Mi=i,pu(),a}function __(e,i){Rt=null,q.H=Uu,i===Po||i===wu?(i=Pg(),Ft=3):i===Ng?(i=Pg(),Ft=4):Ft=i===Up?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,hn=i,Ot===null&&(le=1,Bu(e,En(i,e.current)))}function y_(){var e=q.H;return q.H=Uu,e===null?Uu:e}function v_(){var e=q.A;return q.A=nA,e}function Yf(){le=4,ur||(kt&4194048)!==kt&&bn.current!==null||(Ea=!0),(cr&134217727)===0&&(As&134217727)===0||Wt===null||dr(Wt,kt,wn,!1)}function Xf(e,i,a){var o=Gt;Gt|=2;var h=y_(),d=v_();(Wt!==e||kt!==i)&&(Qu=null,ba(e,i)),i=!1;var v=le;t:do try{if(Ft!==0&&Ot!==null){var E=Ot,b=hn;switch(Ft){case 8:Qf(),v=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(i=!0);var L=Ft;if(Ft=0,hn=null,wa(e,E,b,L),a&&Ea){v=0;break t}break;default:L=Ft,Ft=0,hn=null,wa(e,E,b,L)}}sA(),v=le;break}catch(H){__(e,H)}while(!0);return i&&e.shellSuspendCounter++,wi=ps=null,Gt=o,q.H=h,q.A=d,Ot===null&&(Wt=null,kt=0,pu()),v}function sA(){for(;Ot!==null;)E_(Ot)}function aA(e,i){var a=Gt;Gt|=2;var o=y_(),h=v_();Wt!==e||kt!==i?(Qu=null,Ku=mn()+500,ba(e,i)):Ea=Yr(e,i);t:do try{if(Ft!==0&&Ot!==null){i=Ot;var d=hn;e:switch(Ft){case 1:Ft=0,hn=null,wa(e,i,d,1);break;case 2:case 9:if(Vg(d)){Ft=0,hn=null,T_(i);break}i=function(){Ft!==2&&Ft!==9||Wt!==e||(Ft=7),ni(e)},d.then(i,i);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Vg(d)?(Ft=0,hn=null,T_(i)):(Ft=0,hn=null,wa(e,i,d,7));break;case 5:var v=null;switch(Ot.tag){case 26:v=Ot.memoizedState;case 5:case 27:var E=Ot;if(!v||ny(v)){Ft=0,hn=null;var b=E.sibling;if(b!==null)Ot=b;else{var L=E.return;L!==null?(Ot=L,Xu(L)):Ot=null}break e}}Ft=0,hn=null,wa(e,i,d,5);break;case 6:Ft=0,hn=null,wa(e,i,d,6);break;case 8:Qf(),le=6;break t;default:throw Error(s(462))}}oA();break}catch(H){__(e,H)}while(!0);return wi=ps=null,q.H=o,q.A=h,Gt=a,Ot!==null?0:(Wt=null,kt=0,pu(),le)}function oA(){for(;Ot!==null&&!no();)E_(Ot)}function E_(e){var i=Qp(e.alternate,e,Mi);e.memoizedProps=e.pendingProps,i===null?Xu(e):Ot=i}function T_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=jp(a,i,i.pendingProps,i.type,void 0,kt);break;case 11:i=jp(a,i,i.pendingProps,i.type.render,i.ref,kt);break;case 5:cf(i);default:Xp(a,i),i=Ot=Ag(i,Mi),i=Qp(a,i,Mi)}e.memoizedProps=e.pendingProps,i===null?Xu(e):Ot=i}function wa(e,i,a,o){wi=ps=null,cf(i),pa=null,Ho=0;var h=i.return;try{if($T(e,h,i,a,kt)){le=1,Bu(e,En(a,e.current)),Ot=null;return}}catch(d){if(h!==null)throw Ot=h,d;le=1,Bu(e,En(a,e.current)),Ot=null;return}i.flags&32768?(Bt||o===1?e=!0:Ea||(kt&536870912)!==0?e=!1:(ur=e=!0,(o===2||o===9||o===3||o===6)&&(o=bn.current,o!==null&&o.tag===13&&(o.flags|=16384))),A_(i,e)):Xu(i)}function Xu(e){var i=e;do{if((i.flags&32768)!==0){A_(i,ur);return}e=i.return;var a=WT(i.alternate,i,Mi);if(a!==null){Ot=a;return}if(i=i.sibling,i!==null){Ot=i;return}Ot=i=e}while(i!==null);le===0&&(le=5)}function A_(e,i){do{var a=JT(e.alternate,e);if(a!==null){a.flags&=32767,Ot=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Ot=e;return}Ot=e=a}while(e!==null);le=6,Ot=null}function S_(e,i,a,o,h,d,v,E,b){e.cancelPendingCommit=null;do $u();while(xe!==0);if((Gt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Lh,lo(e,a,d,v,E,b),e===Wt&&(Ot=Wt=null,kt=0),Aa=i,fr=e,Sa=a,Gf=d,Ff=h,d_=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,hA(Gr,function(){return C_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,h=nt.p,nt.p=2,v=Gt,Gt|=4;try{tA(e,i,a)}finally{Gt=v,nt.p=h,q.T=o}}xe=1,b_(),w_(),R_()}}function b_(){if(xe===1){xe=0;var e=fr,i=Aa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var o=nt.p;nt.p=2;var h=Gt;Gt|=4;try{a_(i,e);var d=od,v=fg(e.containerInfo),E=d.focusedElem,b=d.selectionRange;if(v!==E&&E&&E.ownerDocument&&hg(E.ownerDocument.documentElement,E)){if(b!==null&&Mh(E)){var L=b.start,H=b.end;if(H===void 0&&(H=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(H,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var B=z.getSelection(),yt=E.textContent.length,mt=Math.min(b.start,yt),Xt=b.end===void 0?mt:Math.min(b.end,yt);!B.extend&&mt>Xt&&(v=Xt,Xt=mt,mt=v);var M=cg(E,mt),D=cg(E,Xt);if(M&&D&&(B.rangeCount!==1||B.anchorNode!==M.node||B.anchorOffset!==M.offset||B.focusNode!==D.node||B.focusOffset!==D.offset)){var k=K.createRange();k.setStart(M.node,M.offset),B.removeAllRanges(),mt>Xt?(B.addRange(k),B.extend(D.node,D.offset)):(k.setEnd(D.node,D.offset),B.addRange(k))}}}}for(K=[],B=E;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var G=K[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}lc=!!ad,od=ad=null}finally{Gt=h,nt.p=o,q.T=a}}e.current=i,xe=2}}function w_(){if(xe===2){xe=0;var e=fr,i=Aa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var o=nt.p;nt.p=2;var h=Gt;Gt|=4;try{n_(e,i.alternate,i)}finally{Gt=h,nt.p=o,q.T=a}}xe=3}}function R_(){if(xe===4||xe===3){xe=0,Fl();var e=fr,i=Aa,a=Sa,o=d_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?xe=5:(xe=0,Aa=fr=null,I_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(hr=null),qs(a),i=i.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(ae,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=q.T,h=nt.p,nt.p=2,q.T=null;try{for(var d=e.onRecoverableError,v=0;v<o.length;v++){var E=o[v];d(E.value,{componentStack:E.stack})}}finally{q.T=i,nt.p=h}}(Sa&3)!==0&&$u(),ni(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Kf?Wo++:(Wo=0,Kf=e):Wo=0,Jo(0)}}function I_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Vo(i)))}function $u(e){return b_(),w_(),R_(),C_()}function C_(){if(xe!==5)return!1;var e=fr,i=Gf;Gf=0;var a=qs(Sa),o=q.T,h=nt.p;try{nt.p=32>a?32:a,q.T=null,a=Ff,Ff=null;var d=fr,v=Sa;if(xe=0,Aa=fr=null,Sa=0,(Gt&6)!==0)throw Error(s(331));var E=Gt;if(Gt|=4,h_(d.current),l_(d,d.current,v,a),Gt=E,Jo(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(ae,d)}catch{}return!0}finally{nt.p=h,q.T=o,I_(e,i)}}function D_(e,i,a){i=En(a,i),i=bf(e.stateNode,i,2),e=nr(e,i,2),e!==null&&(hi(e,2),ni(e))}function $t(e,i,a){if(e.tag===3)D_(e,e,a);else for(;i!==null;){if(i.tag===3){D_(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(hr===null||!hr.has(o))){e=En(a,e),a=Mp(2),o=nr(i,a,2),o!==null&&(Pp(a,o,i,e),hi(o,2),ni(o));break}}i=i.return}}function $f(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new iA;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Bf=!0,h.add(a),e=lA.bind(null,e,i,a),i.then(e,e))}function lA(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Wt===e&&(kt&a)===a&&(le===4||le===3&&(kt&62914560)===kt&&300>mn()-Hf?(Gt&2)===0&&ba(e,0):jf|=a,Ta===kt&&(Ta=0)),ni(e)}function O_(e,i){i===0&&(i=oo()),e=aa(e,i),e!==null&&(hi(e,i),ni(e))}function uA(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),O_(e,a)}function cA(e,i){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),O_(e,a)}function hA(e,i){return qr(e,i)}var Zu=null,Ra=null,Zf=!1,Wu=!1,Wf=!1,Ss=0;function ni(e){e!==Ra&&e.next===null&&(Ra===null?Zu=Ra=e:Ra=Ra.next=e),Wu=!0,Zf||(Zf=!0,dA())}function Jo(e,i){if(!Wf&&Wu){Wf=!0;do for(var a=!1,o=Zu;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var v=o.suspendedLanes,E=o.pingedLanes;d=(1<<31-qe(42|e)+1)-1,d&=h&~(v&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,P_(o,d))}else d=kt,d=js(o,o===Wt?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Yr(o,d)||(a=!0,P_(o,d));o=o.next}while(a);Wf=!1}}function fA(){N_()}function N_(){Wu=Zf=!1;var e=0;Ss!==0&&(TA()&&(e=Ss),Ss=0);for(var i=mn(),a=null,o=Zu;o!==null;){var h=o.next,d=V_(o,i);d===0?(o.next=null,a===null?Zu=h:a.next=h,h===null&&(Ra=a)):(a=o,(e!==0||(d&3)!==0)&&(Wu=!0)),o=h}Jo(e)}function V_(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var v=31-qe(d),E=1<<v,b=h[v];b===-1?((E&a)===0||(E&o)!==0)&&(h[v]=so(E,i)):b<=i&&(e.expiredLanes|=E),d&=~E}if(i=Wt,a=kt,a=js(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Hr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Yr(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&Hr(o),qs(a)){case 2:case 8:a=zs;break;case 32:a=Gr;break;case 268435456:a=Bs;break;default:a=Gr}return o=M_.bind(null,e),a=qr(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&Hr(o),e.callbackPriority=2,e.callbackNode=null,2}function M_(e,i){if(xe!==0&&xe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if($u()&&e.callbackNode!==a)return null;var o=kt;return o=js(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(g_(e,o,i),V_(e,mn()),e.callbackNode!=null&&e.callbackNode===a?M_.bind(null,e):null)}function P_(e,i){if($u())return null;g_(e,i,!0)}function dA(){SA(function(){(Gt&6)!==0?qr(io,fA):N_()})}function Jf(){return Ss===0&&(Ss=ao()),Ss}function U_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ys(""+e)}function k_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function mA(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=U_((h[de]||null).action),v=o.submitter;v&&(i=(i=v[de]||null)?U_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var E=new Xs("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ss!==0){var b=v?k_(h,v):new FormData(h);vf(a,{pending:!0,data:b,method:h.method,action:d},null,b)}}else typeof d=="function"&&(E.preventDefault(),b=v?k_(h,v):new FormData(h),vf(a,{pending:!0,data:b,method:h.method,action:d},d,b))},currentTarget:h}]})}}for(var td=0;td<xh.length;td++){var ed=xh[td],gA=ed.toLowerCase(),pA=ed[0].toUpperCase()+ed.slice(1);Mn(gA,"on"+pA)}Mn(gg,"onAnimationEnd"),Mn(pg,"onAnimationIteration"),Mn(_g,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(MT,"onTransitionRun"),Mn(PT,"onTransitionStart"),Mn(UT,"onTransitionCancel"),Mn(yg,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_A=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tl));function x_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var d=void 0;if(i)for(var v=o.length-1;0<=v;v--){var E=o[v],b=E.instance,L=E.currentTarget;if(E=E.listener,b!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=L;try{d(h)}catch(H){zu(H)}h.currentTarget=null,d=b}else for(v=0;v<o.length;v++){if(E=o[v],b=E.instance,L=E.currentTarget,E=E.listener,b!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=L;try{d(h)}catch(H){zu(H)}h.currentTarget=null,d=b}}}}function Nt(e,i){var a=i[co];a===void 0&&(a=i[co]=new Set);var o=e+"__bubble";a.has(o)||(L_(i,e,2,!1),a.add(o))}function nd(e,i,a){var o=0;i&&(o|=4),L_(a,e,o,i)}var Ju="_reactListening"+Math.random().toString(36).slice(2);function id(e){if(!e[Ju]){e[Ju]=!0,ho.forEach(function(a){a!=="selectionchange"&&(_A.has(a)||nd(a,!1,e),nd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Ju]||(i[Ju]=!0,nd("selectionchange",!1,i))}}function L_(e,i,a,o){switch(ly(i)){case 2:var h=GA;break;case 8:h=FA;break;default:h=_d}a=h.bind(null,i,a,e),h=void 0,!yn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function rd(e,i,a,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var E=o.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=o.return;v!==null;){var b=v.tag;if((b===3||b===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=fi(E),v===null)return;if(b=v.tag,b===5||b===6||b===26||b===27){o=d=v;continue t}E=E.parentNode}}o=o.return}eu(function(){var L=d,H=_n(a),K=[];t:{var z=vg.get(e);if(z!==void 0){var B=Xs,yt=e;switch(e){case"keypress":if(Qn(a)===0)break t;case"keydown":case"keyup":B=ea;break;case"focusin":yt="focus",B=Ws;break;case"focusout":yt="blur",B=Ws;break;case"beforeblur":case"afterblur":B=Ws;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Dh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=uu;break;case gg:case pg:case _g:B=Js;break;case yg:B=hu;break;case"scroll":case"scrollend":B=nu;break;case"wheel":B=na;break;case"copy":case"cut":case"paste":B=ta;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=bo;break;case"toggle":case"beforetoggle":B=du}var mt=(i&4)!==0,Xt=!mt&&(e==="scroll"||e==="scrollend"),M=mt?z!==null?z+"Capture":null:z;mt=[];for(var D=L,k;D!==null;){var G=D;if(k=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||k===null||M===null||(G=ns(D,M),G!=null&&mt.push(el(D,G,k))),Xt)break;D=D.return}0<mt.length&&(z=new B(z,yt,null,a,H),K.push({event:z,listeners:mt}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&a!==pi&&(yt=a.relatedTarget||a.fromElement)&&(fi(yt)||yt[gn]))break t;if((B||z)&&(z=H.window===H?H:(z=H.ownerDocument)?z.defaultView||z.parentWindow:window,B?(yt=a.relatedTarget||a.toElement,B=L,yt=yt?fi(yt):null,yt!==null&&(Xt=c(yt),mt=yt.tag,yt!==Xt||mt!==5&&mt!==27&&mt!==6)&&(yt=null)):(B=null,yt=L),B!==yt)){if(mt=vn,G="onMouseLeave",M="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(mt=bo,G="onPointerLeave",M="onPointerEnter",D="pointer"),Xt=B==null?z:Hn(B),k=yt==null?z:Hn(yt),z=new mt(G,D+"leave",B,a,H),z.target=Xt,z.relatedTarget=k,G=null,fi(H)===L&&(mt=new mt(M,D+"enter",yt,a,H),mt.target=k,mt.relatedTarget=Xt,G=mt),Xt=G,B&&yt)e:{for(mt=B,M=yt,D=0,k=mt;k;k=Ia(k))D++;for(k=0,G=M;G;G=Ia(G))k++;for(;0<D-k;)mt=Ia(mt),D--;for(;0<k-D;)M=Ia(M),k--;for(;D--;){if(mt===M||M!==null&&mt===M.alternate)break e;mt=Ia(mt),M=Ia(M)}mt=null}else mt=null;B!==null&&z_(K,z,B,mt,!1),yt!==null&&Xt!==null&&z_(K,Xt,yt,mt,!0)}}t:{if(z=L?Hn(L):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var ot=rg;else if(Te(z))if(sg)ot=OT;else{ot=CT;var Dt=IT}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&_o(L.elementType)&&(ot=rg):ot=DT;if(ot&&(ot=ot(e,L))){Ti(K,ot,a,H);break t}Dt&&Dt(e,z,L),e==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&Zi(z,"number",z.value)}switch(Dt=L?Hn(L):window,e){case"focusin":(Te(Dt)||Dt.contentEditable==="true")&&(ia=Dt,Ph=L,Io=null);break;case"focusout":Io=Ph=ia=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,dg(K,a,H);break;case"selectionchange":if(VT)break;case"keydown":case"keyup":dg(K,a,H)}var ut;if($n)t:{switch(e){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else Pt?j(e,a)&&(gt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(gt="onCompositionStart");gt&&(_&&a.locale!=="ko"&&(Pt||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Pt&&(ut=vo()):(Kn=H,Wi="value"in Kn?Kn.value:Kn.textContent,Pt=!0)),Dt=tc(L,gt),0<Dt.length&&(gt=new Ao(gt,e,null,a,H),K.push({event:gt,listeners:Dt}),ut?gt.data=ut:(ut=J(a),ut!==null&&(gt.data=ut)))),(ut=m?Ee(e,a):Ut(e,a))&&(gt=tc(L,"onBeforeInput"),0<gt.length&&(Dt=new Ao("onBeforeInput","beforeinput",null,a,H),K.push({event:Dt,listeners:gt}),Dt.data=ut)),mA(K,e,L,a,H)}x_(K,i)})}function el(e,i,a){return{instance:e,listener:i,currentTarget:a}}function tc(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ns(e,a),h!=null&&o.unshift(el(e,h,d)),h=ns(e,i),h!=null&&o.push(el(e,h,d))),e.tag===3)return o;e=e.return}return[]}function Ia(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function z_(e,i,a,o,h){for(var d=i._reactName,v=[];a!==null&&a!==o;){var E=a,b=E.alternate,L=E.stateNode;if(E=E.tag,b!==null&&b===o)break;E!==5&&E!==26&&E!==27||L===null||(b=L,h?(L=ns(a,d),L!=null&&v.unshift(el(a,L,b))):h||(L=ns(a,d),L!=null&&v.push(el(a,L,b)))),a=a.return}v.length!==0&&e.push({event:i,listeners:v})}var yA=/\r\n?/g,vA=/\u0000|\uFFFD/g;function B_(e){return(typeof e=="string"?e:""+e).replace(yA,`
`).replace(vA,"")}function j_(e,i){return i=B_(i),B_(e)===i}function ec(){}function Yt(e,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||pn(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&pn(e,""+o);break;case"className":Gn(e,"class",o);break;case"tabIndex":Gn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(e,a,o);break;case"style":po(e,o,d);break;case"data":if(i!=="object"){Gn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ys(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Yt(e,i,"name",h.name,h,null),Yt(e,i,"formEncType",h.formEncType,h,null),Yt(e,i,"formMethod",h.formMethod,h,null),Yt(e,i,"formTarget",h.formTarget,h,null)):(Yt(e,i,"encType",h.encType,h,null),Yt(e,i,"method",h.method,h,null),Yt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Ys(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=ec);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Ys(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),$i(e,"popover",o);break;case"xlinkActuate":Pe(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Pe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Pe(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Pe(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Pe(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Pe(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Pe(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":$i(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ih.get(a)||a,$i(e,a,o))}}function sd(e,i,a,o,h,d){switch(a){case"style":po(e,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?pn(e,o):(typeof o=="number"||typeof o=="bigint")&&pn(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=ec);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[de]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):$i(e,a,o)}}}function Le(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,d,v,a,null)}}h&&Yt(e,i,"srcSet",a.srcSet,a,null),o&&Yt(e,i,"src",a.src,a,null);return;case"input":Nt("invalid",e);var E=d=v=h=null,b=null,L=null;for(o in a)if(a.hasOwnProperty(o)){var H=a[o];if(H!=null)switch(o){case"name":h=H;break;case"type":v=H;break;case"checked":b=H;break;case"defaultChecked":L=H;break;case"value":d=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:Yt(e,i,o,H,a,null)}}Jr(e,d,E,b,L,v,h,!1),Qs(e);return;case"select":Nt("invalid",e),o=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":o=E;default:Yt(e,i,h,E,a,null)}i=d,a=v,e.multiple=!!o,i!=null?gi(e,!!o,i,!1):a!=null&&gi(e,!!o,a,!0);return;case"textarea":Nt("invalid",e),d=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":o=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Yt(e,i,v,E,a,null)}ts(e,o,h,d),Qs(e);return;case"option":for(b in a)if(a.hasOwnProperty(b)&&(o=a[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Yt(e,i,b,o,a,null)}return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<tl.length;o++)Nt(tl[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(o=a[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Yt(e,i,L,o,a,null)}return;default:if(_o(i)){for(H in a)a.hasOwnProperty(H)&&(o=a[H],o!==void 0&&sd(e,i,H,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Yt(e,i,E,o,a,null))}function EA(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,b=null,L=null,H=null;for(B in a){var K=a[B];if(a.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":b=K;default:o.hasOwnProperty(B)||Yt(e,i,B,null,o,K)}}for(var z in o){var B=o[z];if(K=a[z],o.hasOwnProperty(z)&&(B!=null||K!=null))switch(z){case"type":d=B;break;case"name":h=B;break;case"checked":L=B;break;case"defaultChecked":H=B;break;case"value":v=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,i));break;default:B!==K&&Yt(e,i,z,B,o,K)}}an(e,v,E,b,L,H,d,h);return;case"select":B=v=E=z=null;for(d in a)if(b=a[d],a.hasOwnProperty(d)&&b!=null)switch(d){case"value":break;case"multiple":B=b;default:o.hasOwnProperty(d)||Yt(e,i,d,null,o,b)}for(h in o)if(d=o[h],b=a[h],o.hasOwnProperty(h)&&(d!=null||b!=null))switch(h){case"value":z=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==b&&Yt(e,i,h,d,o,b)}i=E,a=v,o=B,z!=null?gi(e,!!a,z,!1):!!o!=!!a&&(i!=null?gi(e,!!a,i,!0):gi(e,!!a,a?[]:"",!1));return;case"textarea":B=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(e,i,E,null,o,h)}for(v in o)if(h=o[v],d=a[v],o.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Yt(e,i,v,h,o,d)}Kt(e,z,B);return;case"option":for(var yt in a)if(z=a[yt],a.hasOwnProperty(yt)&&z!=null&&!o.hasOwnProperty(yt))switch(yt){case"selected":e.selected=!1;break;default:Yt(e,i,yt,null,o,z)}for(b in o)if(z=o[b],B=a[b],o.hasOwnProperty(b)&&z!==B&&(z!=null||B!=null))switch(b){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Yt(e,i,b,z,o,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in a)z=a[mt],a.hasOwnProperty(mt)&&z!=null&&!o.hasOwnProperty(mt)&&Yt(e,i,mt,null,o,z);for(L in o)if(z=o[L],B=a[L],o.hasOwnProperty(L)&&z!==B&&(z!=null||B!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Yt(e,i,L,z,o,B)}return;default:if(_o(i)){for(var Xt in a)z=a[Xt],a.hasOwnProperty(Xt)&&z!==void 0&&!o.hasOwnProperty(Xt)&&sd(e,i,Xt,void 0,o,z);for(H in o)z=o[H],B=a[H],!o.hasOwnProperty(H)||z===B||z===void 0&&B===void 0||sd(e,i,H,z,o,B);return}}for(var M in a)z=a[M],a.hasOwnProperty(M)&&z!=null&&!o.hasOwnProperty(M)&&Yt(e,i,M,null,o,z);for(K in o)z=o[K],B=a[K],!o.hasOwnProperty(K)||z===B||z==null&&B==null||Yt(e,i,K,z,o,B)}var ad=null,od=null;function nc(e){return e.nodeType===9?e:e.ownerDocument}function q_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function H_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function ld(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ud=null;function TA(){var e=window.event;return e&&e.type==="popstate"?e===ud?!1:(ud=e,!0):(ud=null,!1)}var G_=typeof setTimeout=="function"?setTimeout:void 0,AA=typeof clearTimeout=="function"?clearTimeout:void 0,F_=typeof Promise=="function"?Promise:void 0,SA=typeof queueMicrotask=="function"?queueMicrotask:typeof F_<"u"?function(e){return F_.resolve(null).then(e).catch(bA)}:G_;function bA(e){setTimeout(function(){throw e})}function mr(e){return e==="head"}function K_(e,i){var a=i,o=0,h=0;do{var d=a.nextSibling;if(e.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<o&&8>o){a=o;var v=e.ownerDocument;if(a&1&&nl(v.documentElement),a&2&&nl(v.body),a&4)for(a=v.head,nl(a),v=a.firstChild;v;){var E=v.nextSibling,b=v.nodeName;v[Xr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=E}}if(h===0){e.removeChild(d),cl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=d}while(a);cl(i)}function cd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":cd(a),Xi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function wA(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Xr])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function RA(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Un(e.nextSibling),e===null))return null;return e}function hd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function IA(e,i){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Un(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return e}var fd=null;function Q_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return e;i--}else a==="/$"&&i++}e=e.previousSibling}return null}function Y_(e,i,a){switch(i=nc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function nl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Xi(e)}var Rn=new Map,X_=new Set;function ic(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Pi=nt.d;nt.d={f:CA,r:DA,D:OA,C:NA,L:VA,m:MA,X:UA,S:PA,M:kA};function CA(){var e=Pi.f(),i=Yu();return e||i}function DA(e){var i=qn(e);i!==null&&i.tag===5&&i.type==="form"?gp(i):Pi.r(e)}var Ca=typeof document>"u"?null:document;function $_(e,i,a){var o=Ca;if(o&&typeof i=="string"&&i){var h=me(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),X_.has(h)||(X_.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Le(i,"link",e),ue(i),o.head.appendChild(i)))}}function OA(e){Pi.D(e),$_("dns-prefetch",e,null)}function NA(e,i){Pi.C(e,i),$_("preconnect",e,i)}function VA(e,i,a){Pi.L(e,i,a);var o=Ca;if(o&&e&&i){var h='link[rel="preload"][as="'+me(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+me(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+me(a.imageSizes)+'"]')):h+='[href="'+me(e)+'"]';var d=h;switch(i){case"style":d=Da(e);break;case"script":d=Oa(e)}Rn.has(d)||(e=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Rn.set(d,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(il(d))||i==="script"&&o.querySelector(rl(d))||(i=o.createElement("link"),Le(i,"link",e),ue(i),o.head.appendChild(i)))}}function MA(e,i){Pi.m(e,i);var a=Ca;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+me(o)+'"][href="'+me(e)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Oa(e)}if(!Rn.has(d)&&(e=T({rel:"modulepreload",href:e},i),Rn.set(d,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(rl(d)))return}o=a.createElement("link"),Le(o,"link",e),ue(o),a.head.appendChild(o)}}}function PA(e,i,a){Pi.S(e,i,a);var o=Ca;if(o&&e){var h=Xe(o).hoistableStyles,d=Da(e);i=i||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=o.querySelector(il(d)))E.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Rn.get(d))&&dd(e,a);var b=v=o.createElement("link");ue(b),Le(b,"link",e),b._p=new Promise(function(L,H){b.onload=L,b.onerror=H}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,rc(v,i,o)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function UA(e,i){Pi.X(e,i);var a=Ca;if(a&&e){var o=Xe(a).hoistableScripts,h=Oa(e),d=o.get(h);d||(d=a.querySelector(rl(h)),d||(e=T({src:e,async:!0},i),(i=Rn.get(h))&&md(e,i),d=a.createElement("script"),ue(d),Le(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function kA(e,i){Pi.M(e,i);var a=Ca;if(a&&e){var o=Xe(a).hoistableScripts,h=Oa(e),d=o.get(h);d||(d=a.querySelector(rl(h)),d||(e=T({src:e,async:!0,type:"module"},i),(i=Rn.get(h))&&md(e,i),d=a.createElement("script"),ue(d),Le(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function Z_(e,i,a,o){var h=(h=Tt.current)?ic(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Da(a.href),a=Xe(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Da(a.href);var d=Xe(h).hoistableStyles,v=d.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,v),(d=h.querySelector(il(e)))&&!d._p&&(v.instance=d,v.state.loading=5),Rn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Rn.set(e,a),d||xA(h,e,a,v.state))),i&&o===null)throw Error(s(528,""));return v}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Oa(a),a=Xe(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Da(e){return'href="'+me(e)+'"'}function il(e){return'link[rel="stylesheet"]['+e+"]"}function W_(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function xA(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Le(i,"link",a),ue(i),e.head.appendChild(i))}function Oa(e){return'[src="'+me(e)+'"]'}function rl(e){return"script[async]"+e}function J_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+me(a.href)+'"]');if(o)return i.instance=o,ue(o),o;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ue(o),Le(o,"style",h),rc(o,a.precedence,e),i.instance=o;case"stylesheet":h=Da(a.href);var d=e.querySelector(il(h));if(d)return i.state.loading|=4,i.instance=d,ue(d),d;o=W_(a),(h=Rn.get(h))&&dd(o,h),d=(e.ownerDocument||e).createElement("link"),ue(d);var v=d;return v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),Le(d,"link",o),i.state.loading|=4,rc(d,a.precedence,e),i.instance=d;case"script":return d=Oa(a.src),(h=e.querySelector(rl(d)))?(i.instance=h,ue(h),h):(o=a,(h=Rn.get(d))&&(o=T({},a),md(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ue(h),Le(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,rc(o,a.precedence,e));return i.instance}function rc(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,v=0;v<o.length;v++){var E=o[v];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function dd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function md(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var sc=null;function ty(e,i,a){if(sc===null){var o=new Map,h=sc=new Map;h.set(a,o)}else h=sc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[Xr]||d[ve]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=e+v;var E=o.get(v);E?E.push(d):o.set(v,[d])}}return o}function ey(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function LA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function ny(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var sl=null;function zA(){}function BA(e,i,a){if(sl===null)throw Error(s(475));var o=sl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Da(a.href),d=e.querySelector(il(h));if(d){e=d._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=ac.bind(o),e.then(o,o)),i.state.loading|=4,i.instance=d,ue(d);return}d=e.ownerDocument||e,a=W_(a),(h=Rn.get(h))&&dd(a,h),d=d.createElement("link"),ue(d);var v=d;v._p=new Promise(function(E,b){v.onload=E,v.onerror=b}),Le(d,"link",a),i.instance=d}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(i,e),(e=i.state.preload)&&(i.state.loading&3)===0&&(o.count++,i=ac.bind(o),e.addEventListener("load",i),e.addEventListener("error",i))}}function jA(){if(sl===null)throw Error(s(475));var e=sl;return e.stylesheets&&e.count===0&&gd(e,e.stylesheets),0<e.count?function(i){var a=setTimeout(function(){if(e.stylesheets&&gd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a)}}:null}function ac(){if(this.count--,this.count===0){if(this.stylesheets)gd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var oc=null;function gd(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,oc=new Map,i.forEach(qA,e),oc=null,ac.call(e))}function qA(e,i){if(!(i.state.loading&4)){var a=oc.get(e);if(a)var o=a.get(null);else{a=new Map,oc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||o,d===o&&a.set(null,h),a.set(v,h),this.count++,o=ac.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var al={$$typeof:tt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function HA(e,i,a,o,h,d,v,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function iy(e,i,a,o,h,d,v,E,b,L,H,K){return e=new HA(e,i,a,v,E,b,L,K),i=1,d===!0&&(i|=24),d=ln(3,null,null,i),e.current=d,d.stateNode=e,i=Xh(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},Jh(d),e}function ry(e){return e?(e=oa,e):oa}function sy(e,i,a,o,h,d){h=ry(h),o.context===null?o.context=h:o.pendingContext=h,o=er(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=nr(e,o,i),a!==null&&(dn(a,e,i),ko(a,e,i))}function ay(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function pd(e,i){ay(e,i),(e=e.alternate)&&ay(e,i)}function oy(e){if(e.tag===13){var i=aa(e,67108864);i!==null&&dn(i,e,67108864),pd(e,67108864)}}var lc=!0;function GA(e,i,a,o){var h=q.T;q.T=null;var d=nt.p;try{nt.p=2,_d(e,i,a,o)}finally{nt.p=d,q.T=h}}function FA(e,i,a,o){var h=q.T;q.T=null;var d=nt.p;try{nt.p=8,_d(e,i,a,o)}finally{nt.p=d,q.T=h}}function _d(e,i,a,o){if(lc){var h=yd(o);if(h===null)rd(e,i,o,uc,a),uy(e,o);else if(QA(h,e,i,a,o))o.stopPropagation();else if(uy(e,o),i&4&&-1<KA.indexOf(e)){for(;h!==null;){var d=qn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=On(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var b=1<<31-qe(v);E.entanglements[1]|=b,v&=~b}ni(d),(Gt&6)===0&&(Ku=mn()+500,Jo(0))}}break;case 13:E=aa(d,2),E!==null&&dn(E,d,2),Yu(),pd(d,2)}if(d=yd(o),d===null&&rd(e,i,o,uc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else rd(e,i,o,null,a)}}function yd(e){return e=_n(e),vd(e)}var uc=null;function vd(e){if(uc=null,e=fi(e),e!==null){var i=c(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return uc=e,null}function ly(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Th()){case io:return 2;case zs:return 8;case Gr:case Ah:return 32;case Bs:return 268435456;default:return 32}default:return 32}}var Ed=!1,gr=null,pr=null,_r=null,ol=new Map,ll=new Map,yr=[],KA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uy(e,i){switch(e){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":pr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":ol.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":ll.delete(i.pointerId)}}function ul(e,i,a,o,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=qn(i),i!==null&&oy(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function QA(e,i,a,o,h){switch(i){case"focusin":return gr=ul(gr,e,i,a,o,h),!0;case"dragenter":return pr=ul(pr,e,i,a,o,h),!0;case"mouseover":return _r=ul(_r,e,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return ol.set(d,ul(ol.get(d)||null,e,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,ll.set(d,ul(ll.get(d)||null,e,i,a,o,h)),!0}return!1}function cy(e){var i=fi(e.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,Yl(e.priority,function(){if(a.tag===13){var o=fn();o=Ki(o);var h=aa(a,o);h!==null&&dn(h,a,o),pd(a,o)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=yd(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);pi=o,a.target.dispatchEvent(o),pi=null}else return i=qn(a),i!==null&&oy(i),e.blockedOn=a,!1;i.shift()}return!0}function hy(e,i,a){cc(e)&&a.delete(i)}function YA(){Ed=!1,gr!==null&&cc(gr)&&(gr=null),pr!==null&&cc(pr)&&(pr=null),_r!==null&&cc(_r)&&(_r=null),ol.forEach(hy),ll.forEach(hy)}function hc(e,i){e.blockedOn===i&&(e.blockedOn=null,Ed||(Ed=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,YA)))}var fc=null;function fy(e){fc!==e&&(fc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){fc===e&&(fc=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(vd(o||a)===null)continue;break}var d=qn(a);d!==null&&(e.splice(i,3),i-=3,vf(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function cl(e){function i(b){return hc(b,e)}gr!==null&&hc(gr,e),pr!==null&&hc(pr,e),_r!==null&&hc(_r,e),ol.forEach(i),ll.forEach(i);for(var a=0;a<yr.length;a++){var o=yr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<yr.length&&(a=yr[0],a.blockedOn===null);)cy(a),a.blockedOn===null&&yr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],v=h[de]||null;if(typeof d=="function")v||fy(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[de]||null)E=v.formAction;else if(vd(h)!==null)continue}else E=v.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),fy(a)}}}function Td(e){this._internalRoot=e}dc.prototype.render=Td.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=fn();sy(a,o,e,i,null,null)},dc.prototype.unmount=Td.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;sy(e.current,2,null,e,null,null),Yu(),i[gn]=null}};function dc(e){this._internalRoot=e}dc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Qi();e={blockedOn:null,target:e,priority:i};for(var a=0;a<yr.length&&i!==0&&i<yr[a].priority;a++);yr.splice(a,0,e),a===0&&cy(e)}};var dy=t.version;if(dy!=="19.1.0")throw Error(s(527,dy,"19.1.0"));nt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=p(i),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var XA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mc.isDisabled&&mc.supportsFiber)try{ae=mc.inject(XA),Ht=mc}catch{}}return fl.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=Dp,d=Op,v=Np,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=iy(e,1,!1,null,null,a,o,h,d,v,E,null),e[gn]=i.current,id(e),new Td(i)},fl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",d=Dp,v=Op,E=Np,b=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(b=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=iy(e,1,!0,i,a??null,o,h,d,v,E,b,L),i.context=ry(null),a=i.current,o=fn(),o=Ki(o),h=er(o),h.callback=null,nr(a,h,o),a=o,i.current.lanes=a,hi(i,a),ni(i),e[gn]=i.current,id(e),new dc(i)},fl.version="19.1.0",fl}var Sy;function aS(){if(Sy)return bd.exports;Sy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),bd.exports=sS(),bd.exports}var oS=aS();const lS=()=>{};var by={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},uS=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[n++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[n++],f=r[n++],g=r[n++],p=((l&7)<<18|(c&63)<<12|(f&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[n++],f=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|f&63)}}return t.join("")},nE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],f=l+1<r.length,g=f?r[l+1]:0,p=l+2<r.length,y=p?r[l+2]:0,T=c>>2,I=(c&3)<<4|g>>4;let x=(g&15)<<2|y>>6,F=y&63;p||(F=64,f||(x=64)),s.push(n[T],n[I],n[x],n[F])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(eE(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):uS(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=n[r.charAt(l++)],g=l<r.length?n[r.charAt(l)]:0;++l;const y=l<r.length?n[r.charAt(l)]:64;++l;const I=l<r.length?n[r.charAt(l)]:64;if(++l,c==null||g==null||y==null||I==null)throw new cS;const x=c<<2|g>>4;if(s.push(x),y!==64){const F=g<<4&240|y>>2;if(s.push(F),I!==64){const $=y<<6&192|I;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class cS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hS=function(r){const t=eE(r);return nE.encodeByteArray(t,!0)},Vc=function(r){return hS(r).replace(/\./g,"")},iE=function(r){try{return nE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS=()=>fS().__FIREBASE_DEFAULTS__,mS=()=>{if(typeof process>"u"||typeof by>"u")return;const r=by.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},gS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&iE(r[1]);return t&&JSON.parse(t)},eh=()=>{try{return lS()||dS()||mS()||gS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},rE=r=>{var t,n;return(n=(t=eh())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[r]},pS=r=>{const t=rE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},sE=()=>{var r;return(r=eh())===null||r===void 0?void 0:r.config},aE=r=>{var t;return(t=eh())===null||t===void 0?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Vc(JSON.stringify(n)),Vc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ye(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function ES(){var r;const t=(r=eh())===null||r===void 0?void 0:r.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function TS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function AS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function SS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bS(){const r=Ye();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function wS(){return!ES()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function RS(){try{return typeof indexedDB=="object"}catch{return!1}}function IS(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var c;t(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="FirebaseError";class Gi extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=CS,Object.setPrototypeOf(this,Gi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ul.prototype.create)}}class Ul{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,c=this.errors[t],f=c?DS(c,s):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new Gi(l,g,s)}}function DS(r,t){return r.replace(OS,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const OS=/\{\$([^}]+)}/g;function NS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Is(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const c=r[l],f=t[l];if(wy(c)&&wy(f)){if(!Is(c,f))return!1}else if(c!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function wy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function dl(r){const t={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,c]=s.split("=");t[decodeURIComponent(l)]=decodeURIComponent(c)}}),t}function ml(r){const t=r.indexOf("?");if(!t)return"";const n=r.indexOf("#",t);return r.substring(t,n>0?n:void 0)}function VS(r,t){const n=new MS(r,t);return n.subscribe.bind(n)}class MS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");PS(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=Cd),l.error===void 0&&(l.error=Cd),l.complete===void 0&&(l.complete=Cd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PS(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function Cd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(r){return r&&r._delegate?r._delegate:r}class Cs{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new _S;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(xS(t))try{this.getOrInitializeService({instanceIdentifier:bs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=bs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=bs){return this.instances.has(t)}getOptions(t=bs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&f.resolve(l)}return l}onInit(t,n){var s;const l=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(t),this.onInitCallbacks.set(l,c);const f=this.instances.get(l);return f&&t(f,l),()=>{c.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:kS(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=bs){return this.component?this.component.multipleInstances?t:bs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kS(r){return r===bs?void 0:r}function xS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new US(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Vt||(Vt={}));const zS={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},BS=Vt.INFO,jS={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},qS=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=jS[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class fm{constructor(t){this.name=t,this._logLevel=BS,this._logHandler=qS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?zS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const HS=(r,t)=>t.some(n=>r instanceof n);let Ry,Iy;function GS(){return Ry||(Ry=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FS(){return Iy||(Iy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oE=new WeakMap,zd=new WeakMap,lE=new WeakMap,Dd=new WeakMap,dm=new WeakMap;function KS(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{n(Ir(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&oE.set(n,r)}).catch(()=>{}),dm.set(t,r),t}function QS(r){if(zd.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{n(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});zd.set(r,t)}let Bd={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return zd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||lE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ir(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function YS(r){Bd=r(Bd)}function XS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Od(this),t,...n);return lE.set(s,t.sort?t.sort():[t]),Ir(s)}:FS().includes(r)?function(...t){return r.apply(Od(this),t),Ir(oE.get(this))}:function(...t){return Ir(r.apply(Od(this),t))}}function $S(r){return typeof r=="function"?XS(r):(r instanceof IDBTransaction&&QS(r),HS(r,GS())?new Proxy(r,Bd):r)}function Ir(r){if(r instanceof IDBRequest)return KS(r);if(Dd.has(r))return Dd.get(r);const t=$S(r);return t!==r&&(Dd.set(r,t),dm.set(t,r)),t}const Od=r=>dm.get(r);function ZS(r,t,{blocked:n,upgrade:s,blocking:l,terminated:c}={}){const f=indexedDB.open(r,t),g=Ir(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Ir(f.result),p.oldVersion,p.newVersion,Ir(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const WS=["get","getKey","getAll","getAllKeys","count"],JS=["put","add","delete","clear"],Nd=new Map;function Cy(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Nd.get(t))return Nd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=JS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||WS.includes(n)))return;const c=async function(f,...g){const p=this.transaction(f,l?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[n](...g),l&&p.done]))[0]};return Nd.set(t,c),c}YS(r=>({...r,get:(t,n,s)=>Cy(t,n)||r.get(t,n,s),has:(t,n)=>!!Cy(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(eb(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function eb(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const jd="@firebase/app",Dy="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new fm("@firebase/app"),nb="@firebase/app-compat",ib="@firebase/analytics-compat",rb="@firebase/analytics",sb="@firebase/app-check-compat",ab="@firebase/app-check",ob="@firebase/auth",lb="@firebase/auth-compat",ub="@firebase/database",cb="@firebase/data-connect",hb="@firebase/database-compat",fb="@firebase/functions",db="@firebase/functions-compat",mb="@firebase/installations",gb="@firebase/installations-compat",pb="@firebase/messaging",_b="@firebase/messaging-compat",yb="@firebase/performance",vb="@firebase/performance-compat",Eb="@firebase/remote-config",Tb="@firebase/remote-config-compat",Ab="@firebase/storage",Sb="@firebase/storage-compat",bb="@firebase/firestore",wb="@firebase/vertexai",Rb="@firebase/firestore-compat",Ib="firebase",Cb="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="[DEFAULT]",Db={[jd]:"fire-core",[nb]:"fire-core-compat",[rb]:"fire-analytics",[ib]:"fire-analytics-compat",[ab]:"fire-app-check",[sb]:"fire-app-check-compat",[ob]:"fire-auth",[lb]:"fire-auth-compat",[ub]:"fire-rtdb",[cb]:"fire-data-connect",[hb]:"fire-rtdb-compat",[fb]:"fire-fn",[db]:"fire-fn-compat",[mb]:"fire-iid",[gb]:"fire-iid-compat",[pb]:"fire-fcm",[_b]:"fire-fcm-compat",[yb]:"fire-perf",[vb]:"fire-perf-compat",[Eb]:"fire-rc",[Tb]:"fire-rc-compat",[Ab]:"fire-gcs",[Sb]:"fire-gcs-compat",[bb]:"fire-fst",[Rb]:"fire-fst-compat",[wb]:"fire-vertex","fire-js":"fire-js",[Ib]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc=new Map,Ob=new Map,Hd=new Map;function Oy(r,t){try{r.container.addComponent(t)}catch(n){Bi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ba(r){const t=r.name;if(Hd.has(t))return Bi.debug(`There were multiple attempts to register component ${t}.`),!1;Hd.set(t,r);for(const n of Mc.values())Oy(n,r);for(const n of Ob.values())Oy(n,r);return!0}function mm(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function In(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cr=new Ul("app","Firebase",Nb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Cs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa=Cb;function uE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s=Object.assign({name:qd,automaticDataCollectionEnabled:!1},t),l=s.name;if(typeof l!="string"||!l)throw Cr.create("bad-app-name",{appName:String(l)});if(n||(n=sE()),!n)throw Cr.create("no-options");const c=Mc.get(l);if(c){if(Is(n,c.options)&&Is(s,c.config))return c;throw Cr.create("duplicate-app",{appName:l})}const f=new LS(l);for(const p of Hd.values())f.addComponent(p);const g=new Vb(n,s,f);return Mc.set(l,g),g}function cE(r=qd){const t=Mc.get(r);if(!t&&r===qd&&sE())return uE();if(!t)throw Cr.create("no-app",{appName:r});return t}function Dr(r,t,n){var s;let l=(s=Db[r])!==null&&s!==void 0?s:r;n&&(l+=`-${n}`);const c=l.match(/\s|\//),f=t.match(/\s|\//);if(c||f){const g=[`Unable to register library "${l}" with version "${t}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&f&&g.push("and"),f&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Bi.warn(g.join(" "));return}Ba(new Cs(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="firebase-heartbeat-database",Pb=1,bl="firebase-heartbeat-store";let Vd=null;function hE(){return Vd||(Vd=ZS(Mb,Pb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(bl)}catch(n){console.warn(n)}}}}).catch(r=>{throw Cr.create("idb-open",{originalErrorMessage:r.message})})),Vd}async function Ub(r){try{const n=(await hE()).transaction(bl),s=await n.objectStore(bl).get(fE(r));return await n.done,s}catch(t){if(t instanceof Gi)Bi.warn(t.message);else{const n=Cr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Bi.warn(n.message)}}}async function Ny(r,t){try{const s=(await hE()).transaction(bl,"readwrite");await s.objectStore(bl).put(t,fE(r)),await s.done}catch(n){if(n instanceof Gi)Bi.warn(n.message);else{const s=Cr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Bi.warn(s.message)}}}function fE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=1024,xb=30;class Lb{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Bb(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Vy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>xb){const f=jb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Bi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Vy(),{heartbeatsToSend:s,unsentEntries:l}=zb(this._heartbeatsCache.heartbeats),c=Vc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return Bi.warn(n),""}}}function Vy(){return new Date().toISOString().substring(0,10)}function zb(r,t=kb){const n=[];let s=r.slice();for(const l of r){const c=n.find(f=>f.agent===l.agent);if(c){if(c.dates.push(l.date),My(n)>t){c.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),My(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Bb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RS()?IS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ub(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Ny(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return Ny(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function My(r){return Vc(JSON.stringify({version:2,heartbeats:r})).length}function jb(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(r){Ba(new Cs("platform-logger",t=>new tb(t),"PRIVATE")),Ba(new Cs("heartbeat",t=>new Lb(t),"PRIVATE")),Dr(jd,Dy,r),Dr(jd,Dy,"esm2017"),Dr("fire-js","")}qb("");var Hb="firebase",Gb="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dr(Hb,Gb,"app");var Py=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Or,dE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(N,S){function w(){}w.prototype=S.prototype,N.D=S.prototype,N.prototype=new w,N.prototype.constructor=N,N.C=function(O,V,P){for(var R=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)R[Me-2]=arguments[Me];return S.prototype[V].apply(O,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,S,w){w||(w=0);var O=Array(16);if(typeof S=="string")for(var V=0;16>V;++V)O[V]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(V=0;16>V;++V)O[V]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=N.g[0],w=N.g[1],V=N.g[2];var P=N.g[3],R=S+(P^w&(V^P))+O[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=P+(V^S&(w^V))+O[1]+3905402710&4294967295,P=S+(R<<12&4294967295|R>>>20),R=V+(w^P&(S^w))+O[2]+606105819&4294967295,V=P+(R<<17&4294967295|R>>>15),R=w+(S^V&(P^S))+O[3]+3250441966&4294967295,w=V+(R<<22&4294967295|R>>>10),R=S+(P^w&(V^P))+O[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=P+(V^S&(w^V))+O[5]+1200080426&4294967295,P=S+(R<<12&4294967295|R>>>20),R=V+(w^P&(S^w))+O[6]+2821735955&4294967295,V=P+(R<<17&4294967295|R>>>15),R=w+(S^V&(P^S))+O[7]+4249261313&4294967295,w=V+(R<<22&4294967295|R>>>10),R=S+(P^w&(V^P))+O[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=P+(V^S&(w^V))+O[9]+2336552879&4294967295,P=S+(R<<12&4294967295|R>>>20),R=V+(w^P&(S^w))+O[10]+4294925233&4294967295,V=P+(R<<17&4294967295|R>>>15),R=w+(S^V&(P^S))+O[11]+2304563134&4294967295,w=V+(R<<22&4294967295|R>>>10),R=S+(P^w&(V^P))+O[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=P+(V^S&(w^V))+O[13]+4254626195&4294967295,P=S+(R<<12&4294967295|R>>>20),R=V+(w^P&(S^w))+O[14]+2792965006&4294967295,V=P+(R<<17&4294967295|R>>>15),R=w+(S^V&(P^S))+O[15]+1236535329&4294967295,w=V+(R<<22&4294967295|R>>>10),R=S+(V^P&(w^V))+O[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=P+(w^V&(S^w))+O[6]+3225465664&4294967295,P=S+(R<<9&4294967295|R>>>23),R=V+(S^w&(P^S))+O[11]+643717713&4294967295,V=P+(R<<14&4294967295|R>>>18),R=w+(P^S&(V^P))+O[0]+3921069994&4294967295,w=V+(R<<20&4294967295|R>>>12),R=S+(V^P&(w^V))+O[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=P+(w^V&(S^w))+O[10]+38016083&4294967295,P=S+(R<<9&4294967295|R>>>23),R=V+(S^w&(P^S))+O[15]+3634488961&4294967295,V=P+(R<<14&4294967295|R>>>18),R=w+(P^S&(V^P))+O[4]+3889429448&4294967295,w=V+(R<<20&4294967295|R>>>12),R=S+(V^P&(w^V))+O[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=P+(w^V&(S^w))+O[14]+3275163606&4294967295,P=S+(R<<9&4294967295|R>>>23),R=V+(S^w&(P^S))+O[3]+4107603335&4294967295,V=P+(R<<14&4294967295|R>>>18),R=w+(P^S&(V^P))+O[8]+1163531501&4294967295,w=V+(R<<20&4294967295|R>>>12),R=S+(V^P&(w^V))+O[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=P+(w^V&(S^w))+O[2]+4243563512&4294967295,P=S+(R<<9&4294967295|R>>>23),R=V+(S^w&(P^S))+O[7]+1735328473&4294967295,V=P+(R<<14&4294967295|R>>>18),R=w+(P^S&(V^P))+O[12]+2368359562&4294967295,w=V+(R<<20&4294967295|R>>>12),R=S+(w^V^P)+O[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=P+(S^w^V)+O[8]+2272392833&4294967295,P=S+(R<<11&4294967295|R>>>21),R=V+(P^S^w)+O[11]+1839030562&4294967295,V=P+(R<<16&4294967295|R>>>16),R=w+(V^P^S)+O[14]+4259657740&4294967295,w=V+(R<<23&4294967295|R>>>9),R=S+(w^V^P)+O[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=P+(S^w^V)+O[4]+1272893353&4294967295,P=S+(R<<11&4294967295|R>>>21),R=V+(P^S^w)+O[7]+4139469664&4294967295,V=P+(R<<16&4294967295|R>>>16),R=w+(V^P^S)+O[10]+3200236656&4294967295,w=V+(R<<23&4294967295|R>>>9),R=S+(w^V^P)+O[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=P+(S^w^V)+O[0]+3936430074&4294967295,P=S+(R<<11&4294967295|R>>>21),R=V+(P^S^w)+O[3]+3572445317&4294967295,V=P+(R<<16&4294967295|R>>>16),R=w+(V^P^S)+O[6]+76029189&4294967295,w=V+(R<<23&4294967295|R>>>9),R=S+(w^V^P)+O[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=P+(S^w^V)+O[12]+3873151461&4294967295,P=S+(R<<11&4294967295|R>>>21),R=V+(P^S^w)+O[15]+530742520&4294967295,V=P+(R<<16&4294967295|R>>>16),R=w+(V^P^S)+O[2]+3299628645&4294967295,w=V+(R<<23&4294967295|R>>>9),R=S+(V^(w|~P))+O[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=P+(w^(S|~V))+O[7]+1126891415&4294967295,P=S+(R<<10&4294967295|R>>>22),R=V+(S^(P|~w))+O[14]+2878612391&4294967295,V=P+(R<<15&4294967295|R>>>17),R=w+(P^(V|~S))+O[5]+4237533241&4294967295,w=V+(R<<21&4294967295|R>>>11),R=S+(V^(w|~P))+O[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=P+(w^(S|~V))+O[3]+2399980690&4294967295,P=S+(R<<10&4294967295|R>>>22),R=V+(S^(P|~w))+O[10]+4293915773&4294967295,V=P+(R<<15&4294967295|R>>>17),R=w+(P^(V|~S))+O[1]+2240044497&4294967295,w=V+(R<<21&4294967295|R>>>11),R=S+(V^(w|~P))+O[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=P+(w^(S|~V))+O[15]+4264355552&4294967295,P=S+(R<<10&4294967295|R>>>22),R=V+(S^(P|~w))+O[6]+2734768916&4294967295,V=P+(R<<15&4294967295|R>>>17),R=w+(P^(V|~S))+O[13]+1309151649&4294967295,w=V+(R<<21&4294967295|R>>>11),R=S+(V^(w|~P))+O[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=P+(w^(S|~V))+O[11]+3174756917&4294967295,P=S+(R<<10&4294967295|R>>>22),R=V+(S^(P|~w))+O[2]+718787259&4294967295,V=P+(R<<15&4294967295|R>>>17),R=w+(P^(V|~S))+O[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(V+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+V&4294967295,N.g[3]=N.g[3]+P&4294967295}s.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var w=S-this.blockSize,O=this.B,V=this.h,P=0;P<S;){if(V==0)for(;P<=w;)l(this,N,P),P+=this.blockSize;if(typeof N=="string"){for(;P<S;)if(O[V++]=N.charCodeAt(P++),V==this.blockSize){l(this,O),V=0;break}}else for(;P<S;)if(O[V++]=N[P++],V==this.blockSize){l(this,O),V=0;break}}this.h=V,this.o+=S},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var w=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=w&255,w/=256;for(this.u(N),N=Array(16),S=w=0;4>S;++S)for(var O=0;32>O;O+=8)N[w++]=this.g[S]>>>O&255;return N};function c(N,S){var w=g;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=S(N)}function f(N,S){this.h=S;for(var w=[],O=!0,V=N.length-1;0<=V;V--){var P=N[V]|0;O&&P==S||(w[V]=P,O=!1)}this.g=w}var g={};function p(N){return-128<=N&&128>N?c(N,function(S){return new f([S|0],0>S?-1:0)}):new f([N|0],0>N?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return I;if(0>N)return Z(y(-N));for(var S=[],w=1,O=0;N>=w;O++)S[O]=N/w|0,w*=4294967296;return new f(S,0)}function T(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return Z(T(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=y(Math.pow(S,8)),O=I,V=0;V<N.length;V+=8){var P=Math.min(8,N.length-V),R=parseInt(N.substring(V,V+P),S);8>P?(P=y(Math.pow(S,P)),O=O.j(P).add(y(R))):(O=O.j(w),O=O.add(y(R)))}return O}var I=p(0),x=p(1),F=p(16777216);r=f.prototype,r.m=function(){if(et(this))return-Z(this).m();for(var N=0,S=1,w=0;w<this.g.length;w++){var O=this.i(w);N+=(0<=O?O:4294967296+O)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if($(this))return"0";if(et(this))return"-"+Z(this).toString(N);for(var S=y(Math.pow(N,6)),w=this,O="";;){var V=Et(w,S).g;w=lt(w,V.j(S));var P=((0<w.g.length?w.g[0]:w.h)>>>0).toString(N);if(w=V,$(w))return P+O;for(;6>P.length;)P="0"+P;O=P+O}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function $(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function et(N){return N.h==-1}r.l=function(N){return N=lt(this,N),et(N)?-1:$(N)?0:1};function Z(N){for(var S=N.g.length,w=[],O=0;O<S;O++)w[O]=~N.g[O];return new f(w,~N.h).add(x)}r.abs=function(){return et(this)?Z(this):this},r.add=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],O=0,V=0;V<=S;V++){var P=O+(this.i(V)&65535)+(N.i(V)&65535),R=(P>>>16)+(this.i(V)>>>16)+(N.i(V)>>>16);O=R>>>16,P&=65535,R&=65535,w[V]=R<<16|P}return new f(w,w[w.length-1]&-2147483648?-1:0)};function lt(N,S){return N.add(Z(S))}r.j=function(N){if($(this)||$(N))return I;if(et(this))return et(N)?Z(this).j(Z(N)):Z(Z(this).j(N));if(et(N))return Z(this.j(Z(N)));if(0>this.l(F)&&0>N.l(F))return y(this.m()*N.m());for(var S=this.g.length+N.g.length,w=[],O=0;O<2*S;O++)w[O]=0;for(O=0;O<this.g.length;O++)for(var V=0;V<N.g.length;V++){var P=this.i(O)>>>16,R=this.i(O)&65535,Me=N.i(V)>>>16,se=N.i(V)&65535;w[2*O+2*V]+=R*se,pt(w,2*O+2*V),w[2*O+2*V+1]+=P*se,pt(w,2*O+2*V+1),w[2*O+2*V+1]+=R*Me,pt(w,2*O+2*V+1),w[2*O+2*V+2]+=P*Me,pt(w,2*O+2*V+2)}for(O=0;O<S;O++)w[O]=w[2*O+1]<<16|w[2*O];for(O=S;O<2*S;O++)w[O]=0;return new f(w,0)};function pt(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function tt(N,S){this.g=N,this.h=S}function Et(N,S){if($(S))throw Error("division by zero");if($(N))return new tt(I,I);if(et(N))return S=Et(Z(N),S),new tt(Z(S.g),Z(S.h));if(et(S))return S=Et(N,Z(S)),new tt(Z(S.g),S.h);if(30<N.g.length){if(et(N)||et(S))throw Error("slowDivide_ only works with positive integers.");for(var w=x,O=S;0>=O.l(N);)w=ct(w),O=ct(O);var V=bt(w,1),P=bt(O,1);for(O=bt(O,2),w=bt(w,2);!$(O);){var R=P.add(O);0>=R.l(N)&&(V=V.add(w),P=R),O=bt(O,1),w=bt(w,1)}return S=lt(N,V.j(S)),new tt(V,S)}for(V=I;0<=N.l(S);){for(w=Math.max(1,Math.floor(N.m()/S.m())),O=Math.ceil(Math.log(w)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),P=y(w),R=P.j(S);et(R)||0<R.l(N);)w-=O,P=y(w),R=P.j(S);$(P)&&(P=x),V=V.add(P),N=lt(N,R)}return new tt(V,N)}r.A=function(N){return Et(this,N).h},r.and=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],O=0;O<S;O++)w[O]=this.i(O)&N.i(O);return new f(w,this.h&N.h)},r.or=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],O=0;O<S;O++)w[O]=this.i(O)|N.i(O);return new f(w,this.h|N.h)},r.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],O=0;O<S;O++)w[O]=this.i(O)^N.i(O);return new f(w,this.h^N.h)};function ct(N){for(var S=N.g.length+1,w=[],O=0;O<S;O++)w[O]=N.i(O)<<1|N.i(O-1)>>>31;return new f(w,N.h)}function bt(N,S){var w=S>>5;S%=32;for(var O=N.g.length-w,V=[],P=0;P<O;P++)V[P]=0<S?N.i(P+w)>>>S|N.i(P+w+1)<<32-S:N.i(P+w);return new f(V,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,dE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,Or=f}).apply(typeof Py<"u"?Py:typeof self<"u"?self:typeof window<"u"?window:{});var gc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mE,gl,gE,Ac,Gd,pE,_E,yE;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof gc=="object"&&gc];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function l(u,m){if(m)t:{var _=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var U=u[A];if(!(U in _))break t;_=_[U]}u=u[u.length-1],A=_[u],m=m(A),m!=A&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var _=0,A=!1,U={next:function(){if(!A&&_<u.length){var j=_++;return{value:m(j,u[j]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function T(u,m,_){return u.call.apply(u.bind,arguments)}function I(u,m,_){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function x(u,m,_){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:I,x.apply(null,arguments)}function F(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function $(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(A,U,j){for(var J=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)J[Pt-2]=arguments[Pt];return m.prototype[U].apply(A,J)}}function et(u){const m=u.length;if(0<m){const _=Array(m);for(let A=0;A<m;A++)_[A]=u[A];return _}return[]}function Z(u,m){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const U=u.length||0,j=A.length||0;u.length=U+j;for(let J=0;J<j;J++)u[U+J]=A[J]}else u.push(A)}}class lt{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function pt(u){return/^[\s\xa0]*$/.test(u)}function tt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Et(u){return Et[" "](u),u}Et[" "]=function(){};var ct=tt().indexOf("Gecko")!=-1&&!(tt().toLowerCase().indexOf("webkit")!=-1&&tt().indexOf("Edge")==-1)&&!(tt().indexOf("Trident")!=-1||tt().indexOf("MSIE")!=-1)&&tt().indexOf("Edge")==-1;function bt(u,m,_){for(const A in u)m.call(_,u[A],A,u)}function N(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function S(u){const m={};for(const _ in u)m[_]=u[_];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let _,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(_ in A)u[_]=A[_];for(let j=0;j<w.length;j++)_=w[j],Object.prototype.hasOwnProperty.call(A,_)&&(u[_]=A[_])}}function V(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function P(u){g.setTimeout(()=>{throw u},0)}function R(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Me{constructor(){this.h=this.g=null}add(m,_){const A=se.get();A.set(m,_),this.h?this.h.next=A:this.g=A,this.h=A}}var se=new lt(()=>new q,u=>u.reset());class q{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ht=!1,zt=new Me,C=()=>{const u=g.Promise.resolve(void 0);nt=()=>{u.then(X)}};var X=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(_){P(_)}var m=se;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ht=!1};function it(){this.s=this.s,this.C=this.C}it.prototype.s=!1,it.prototype.ma=function(){this.s||(this.s=!0,this.N())},it.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};g.addEventListener("test",_,m),g.removeEventListener("test",_,m)}catch{}return u}();function Ct(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ct){t:{try{Et(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Tt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ct.aa.h.call(this)}}$(Ct,W);var Tt={2:"touch",3:"pen",4:"mouse"};Ct.prototype.h=function(){Ct.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Bn(u,m,_,A,U){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!A,this.ha=U,this.key=++Zt,this.da=this.fa=!1}function Fi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ui(u){this.src=u,this.g={},this.h=0}ui.prototype.add=function(u,m,_,A,U){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var J=qr(u,m,A,U);return-1<J?(m=u[J],_||(m.fa=!1)):(m=new Bn(m,this.src,j,!!A,U),m.fa=_,u.push(m)),m};function jr(u,m){var _=m.type;if(_ in u.g){var A=u.g[_],U=Array.prototype.indexOf.call(A,m,void 0),j;(j=0<=U)&&Array.prototype.splice.call(A,U,1),j&&(Fi(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function qr(u,m,_,A){for(var U=0;U<u.length;++U){var j=u[U];if(!j.da&&j.listener==m&&j.capture==!!_&&j.ha==A)return U}return-1}var Hr="closure_lm_"+(1e6*Math.random()|0),no={};function Fl(u,m,_,A,U){if(Array.isArray(m)){for(var j=0;j<m.length;j++)Fl(u,m[j],_,A,U);return null}return _=Kl(_),u&&u[Re]?u.K(m,_,y(A)?!!A.capture:!1,U):mn(u,m,_,!1,A,U)}function mn(u,m,_,A,U,j){if(!m)throw Error("Invalid event type");var J=y(U)?!!U.capture:!!U,Pt=Bs(u);if(Pt||(u[Hr]=Pt=new ui(u)),_=Pt.add(m,_,A,J,j),_.proxy)return _;if(A=Th(),_.proxy=A,A.src=u,A.listener=_,u.addEventListener)dt||(U=J),U===void 0&&(U=!1),u.addEventListener(m.toString(),A,U);else if(u.attachEvent)u.attachEvent(Gr(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Th(){function u(_){return m.call(u.src,u.listener,_)}const m=Ah;return u}function io(u,m,_,A,U){if(Array.isArray(m))for(var j=0;j<m.length;j++)io(u,m[j],_,A,U);else A=y(A)?!!A.capture:!!A,_=Kl(_),u&&u[Re]?(u=u.i,m=String(m).toString(),m in u.g&&(j=u.g[m],_=qr(j,_,A,U),-1<_&&(Fi(j[_]),Array.prototype.splice.call(j,_,1),j.length==0&&(delete u.g[m],u.h--)))):u&&(u=Bs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=qr(m,_,A,U)),(_=-1<u?m[u]:null)&&zs(_))}function zs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Re])jr(m.i,u);else{var _=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(_,A,u.capture):m.detachEvent?m.detachEvent(Gr(_),A):m.addListener&&m.removeListener&&m.removeListener(A),(_=Bs(m))?(jr(_,u),_.h==0&&(_.src=null,m[Hr]=null)):Fi(u)}}}function Gr(u){return u in no?no[u]:no[u]="on"+u}function Ah(u,m){if(u.da)u=!0;else{m=new Ct(m,this);var _=u.listener,A=u.ha||u.src;u.fa&&zs(u),u=_.call(A,m)}return u}function Bs(u){return u=u[Hr],u instanceof ui?u:null}var ro="__closure_events_fn_"+(1e9*Math.random()>>>0);function Kl(u){return typeof u=="function"?u:(u[ro]||(u[ro]=function(m){return u.handleEvent(m)}),u[ro])}function ae(){it.call(this),this.i=new ui(this),this.M=this,this.F=null}$(ae,it),ae.prototype[Re]=!0,ae.prototype.removeEventListener=function(u,m,_,A){io(this,u,m,_,A)};function Ht(u,m){var _,A=u.F;if(A)for(_=[];A;A=A.F)_.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var U=m;m=new W(A,u),O(m,U)}if(U=!0,_)for(var j=_.length-1;0<=j;j--){var J=m.g=_[j];U=sn(J,A,!0,m)&&U}if(J=m.g=u,U=sn(J,A,!0,m)&&U,U=sn(J,A,!1,m)&&U,_)for(j=0;j<_.length;j++)J=m.g=_[j],U=sn(J,A,!1,m)&&U}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],A=0;A<_.length;A++)Fi(_[A]);delete u.g[m],u.h--}}this.F=null},ae.prototype.K=function(u,m,_,A){return this.i.add(String(u),m,!1,_,A)},ae.prototype.L=function(u,m,_,A){return this.i.add(String(u),m,!0,_,A)};function sn(u,m,_,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,j=0;j<m.length;++j){var J=m[j];if(J&&!J.da&&J.capture==_){var Pt=J.listener,Ee=J.ha||J.src;J.fa&&jr(u.i,J),U=Pt.call(Ee,A)!==!1&&U}}return U&&!A.defaultPrevented}function qe(u,m,_){if(typeof u=="function")_&&(u=x(u,_));else if(u&&typeof u.handleEvent=="function")u=x(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Ql(u){u.g=qe(()=>{u.g=null,u.i&&(u.i=!1,Ql(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Sh extends it{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ql(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fr(u){it.call(this),this.h=u,this.g={}}$(Fr,it);var Kr=[];function Qr(u){bt(u.g,function(m,_){this.g.hasOwnProperty(_)&&zs(m)},u),u.g={}}Fr.prototype.N=function(){Fr.aa.N.call(this),Qr(this)},Fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var On=g.JSON.stringify,js=g.JSON.parse,Yr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function so(){}so.prototype.h=null;function ao(u){return u.h||(u.h=u.i())}function oo(){}var ci={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hi(){W.call(this,"d")}$(hi,W);function lo(){W.call(this,"c")}$(lo,W);var jn={},uo=null;function Ki(){return uo=uo||new ae}jn.La="serverreachability";function qs(u){W.call(this,jn.La,u)}$(qs,W);function Qi(u){const m=Ki();Ht(m,new qs(m))}jn.STAT_EVENT="statevent";function Yl(u,m){W.call(this,jn.STAT_EVENT,u),this.stat=m}$(Yl,W);function te(u){const m=Ki();Ht(m,new Yl(m,u))}jn.Ma="timingevent";function ve(u,m){W.call(this,jn.Ma,u),this.size=m}$(ve,W);function de(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function gn(){this.g=!0}gn.prototype.xa=function(){this.g=!1};function co(u,m,_,A,U,j){u.info(function(){if(u.g)if(j)for(var J="",Pt=j.split("&"),Ee=0;Ee<Pt.length;Ee++){var Ut=Pt[Ee].split("=");if(1<Ut.length){var Ce=Ut[0];Ut=Ut[1];var Te=Ce.split("_");J=2<=Te.length&&Te[1]=="type"?J+(Ce+"="+Ut+"&"):J+(Ce+"=redacted&")}}else J=null;else J=j;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+_+`
`+J})}function bh(u,m,_,A,U,j,J){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+_+`
`+j+" "+J})}function Yi(u,m,_,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Xr(u,_)+(A?" "+A:"")})}function Xl(u,m){u.info(function(){return"TIMEOUT: "+m})}gn.prototype.info=function(){};function Xr(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var A=_[u];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var j=U[0];if(j!="noop"&&j!="stop"&&j!="close")for(var J=1;J<U.length;J++)U[J]=""}}}}return On(_)}catch{return m}}var Xi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qn;function Hn(){}$(Hn,so),Hn.prototype.g=function(){return new XMLHttpRequest},Hn.prototype.i=function(){return{}},qn=new Hn;function Xe(u,m,_,A){this.j=u,this.i=m,this.l=_,this.R=A||1,this.U=new Fr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var ho={},Hs={};function Nn(u,m,_){u.L=1,u.v=ts(an(m)),u.m=_,u.P=!0,di(u,null)}function di(u,m){u.F=Date.now(),$r(u),u.A=an(u.v);var _=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),yo(_.i,"t",A),u.C=0,_=u.j.J,u.h=new ue,u.g=hu(u.j,_?m:null,!u.m),0<u.O&&(u.M=new Sh(x(u.Y,u,u.g),u.O)),m=u.U,_=u.g,A=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Kr[0]=U.toString()),U=Kr);for(var j=0;j<U.length;j++){var J=Fl(_,U[j],A||m.handleEvent,!1,m.h||m);if(!J)break;m.g[J.key]=J}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Qi(),co(u.i,u.u,u.A,u.l,u.R,u.m)}Xe.prototype.ca=function(u){u=u.target;const m=this.M;m&&vn(u)==3?m.j():this.Y(u)},Xe.prototype.Y=function(u){try{if(u==this.g)t:{const Te=vn(this.g);var m=this.g.Ba();const Ti=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||iu(this.g)))){this.J||Te!=4||m==7||(m==8||0>=Ti?Qi(3):Qi(2)),$i(this);var _=this.g.Z();this.X=_;e:if($l(this)){var A=iu(this.g);u="";var U=A.length,j=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pe(this),Gn(this);var J="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(j&&m==U-1)});A.length=0,this.h.g+=u,this.C=0,J=this.h.g}else J=this.g.oa();if(this.o=_==200,bh(this.i,this.u,this.A,this.l,this.R,Te,_),this.o){if(this.T&&!this.K){e:{if(this.g){var Pt,Ee=this.g;if((Pt=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pt(Pt)){var Ut=Pt;break e}}Ut=null}if(_=Ut)Yi(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Zr(this,_);else{this.o=!1,this.s=3,te(12),Pe(this),Gn(this);break t}}if(this.P){_=!0;let Ue;for(;!this.J&&this.C<J.length;)if(Ue=Zl(this,J),Ue==Hs){Te==4&&(this.s=4,te(14),_=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==ho){this.s=4,te(15),Yi(this.i,this.l,J,"[Invalid Chunk]"),_=!1;break}else Yi(this.i,this.l,Ue,null),Zr(this,Ue);if($l(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||J.length!=0||this.h.h||(this.s=1,te(16),_=!1),this.o=this.o&&_,!_)Yi(this.i,this.l,J,"[Invalid Chunked Response]"),Pe(this),Gn(this);else if(0<J.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+J.length),ls(Ce),Ce.M=!0,te(11))}}else Yi(this.i,this.l,J,null),Zr(this,J);Te==4&&Pe(this),this.o&&!this.J&&(Te==4?lu(this.j,this):(this.o=!1,$r(this)))}else Dh(this.g),_==400&&0<J.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),Pe(this),Gn(this)}}}catch{}finally{}};function $l(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Zl(u,m){var _=u.C,A=m.indexOf(`
`,_);return A==-1?Hs:(_=Number(m.substring(_,A)),isNaN(_)?ho:(A+=1,A+_>m.length?Hs:(m=m.slice(A,A+_),u.C=A+_,m)))}Xe.prototype.cancel=function(){this.J=!0,Pe(this)};function $r(u){u.S=Date.now()+u.I,Wl(u,u.I)}function Wl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=de(x(u.ba,u),m)}function $i(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Xe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Xl(this.i,this.A),this.L!=2&&(Qi(),te(17)),Pe(this),this.s=2,Gn(this)):Wl(this,this.S-u)};function Gn(u){u.j.G==0||u.J||lu(u.j,u)}function Pe(u){$i(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Qr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Zr(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||fo(_.h,u))){if(!u.K&&fo(_.h,u)&&_.G==3){try{var A=_.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){t:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)ea(_),Js(_);else break t;So(_),te(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=de(x(_.Za,_),6e3));if(1>=Fs(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ei(_,11)}else if((u.K||_.g==u)&&ea(_),!pt(m))for(U=_.Da.g.parse(m),m=0;m<U.length;m++){let Ut=U[m];if(_.T=Ut[0],Ut=Ut[1],_.G==2)if(Ut[0]=="c"){_.K=Ut[1],_.ia=Ut[2];const Ce=Ut[3];Ce!=null&&(_.la=Ce,_.j.info("VER="+_.la));const Te=Ut[4];Te!=null&&(_.Aa=Te,_.j.info("SVER="+_.Aa));const Ti=Ut[5];Ti!=null&&typeof Ti=="number"&&0<Ti&&(A=1.5*Ti,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Ue=u.g;if(Ue){const Zn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zn){var j=A.h;j.g||Zn.indexOf("spdy")==-1&&Zn.indexOf("quic")==-1&&Zn.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Ks(j,j.h),j.h=null))}if(A.D){const wo=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;wo&&(A.ya=wo,Kt(A.I,A.D,wo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var J=u;if(A.qa=cu(A,A.J?A.ia:null,A.W),J.K){$e(A.h,J);var Pt=J,Ee=A.L;Ee&&(Pt.I=Ee),Pt.B&&($i(Pt),$r(Pt)),A.g=J}else au(A);0<_.i.length&&ta(_)}else Ut[0]!="stop"&&Ut[0]!="close"||Ei(_,7);else _.G==3&&(Ut[0]=="stop"||Ut[0]=="close"?Ut[0]=="stop"?Ei(_,7):To(_):Ut[0]!="noop"&&_.l&&_.l.ta(Ut),_.v=0)}}Qi(4)}catch{}}var Jl=class{constructor(u,m){this.g=u,this.map=m}};function mi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Gs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Fs(u){return u.h?1:u.g?u.g.size:0}function fo(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ks(u,m){u.g?u.g.add(m):u.h=m}function $e(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}mi.prototype.cancel=function(){if(this.i=mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function mo(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return et(u.i)}function wh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,A=0;A<_;A++)m.push(u[A]);return m}m=[],_=0;for(A in u)m[_++]=u[A];return m}function Qs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const A in u)m[_++]=A;return m}}}function go(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Qs(u),A=wh(u),U=A.length,j=0;j<U;j++)m.call(void 0,A[j],_&&_[j],u)}var Wr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rh(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var A=u[_].indexOf("="),U=null;if(0<=A){var j=u[_].substring(0,A);U=u[_].substring(A+1)}else j=u[_];m(j,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function me(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof me){this.h=u.h,Jr(this,u.j),this.o=u.o,this.g=u.g,Zi(this,u.s),this.l=u.l;var m=u.i,_=new pi;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),gi(this,_),this.m=u.m}else u&&(m=String(u).match(Wr))?(this.h=!1,Jr(this,m[1]||"",!0),this.o=pn(m[2]||""),this.g=pn(m[3]||"",!0),Zi(this,m[4]),this.l=pn(m[5]||"",!0),gi(this,m[6]||"",!0),this.m=pn(m[7]||"")):(this.h=!1,this.i=new pi(null,this.h))}me.prototype.toString=function(){var u=[],m=this.j;m&&u.push(es(m,po,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(es(m,po,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(es(_,_.charAt(0)=="/"?Ih:_o,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",es(_,Ys)),u.join("")};function an(u){return new me(u)}function Jr(u,m,_){u.j=_?pn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Zi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function gi(u,m,_){m instanceof pi?(u.i=m,eu(u.i,u.h)):(_||(m=es(m,Ch)),u.i=new pi(m,u.h))}function Kt(u,m,_){u.i.set(m,_)}function ts(u){return Kt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function pn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function es(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,tu),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function tu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var po=/[#\/\?@]/g,_o=/[#\?:]/g,Ih=/[#\?]/g,Ch=/[#\?@]/g,Ys=/#/g;function pi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&Rh(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=pi.prototype,r.add=function(u,m){_n(this),this.i=null,u=Fn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function _i(u,m){_n(u),m=Fn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function yi(u,m){return _n(u),m=Fn(u,m),u.g.has(m)}r.forEach=function(u,m){_n(this),this.g.forEach(function(_,A){_.forEach(function(U){u.call(m,U,A,this)},this)},this)},r.na=function(){_n(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let A=0;A<m.length;A++){const U=u[A];for(let j=0;j<U.length;j++)_.push(m[A])}return _},r.V=function(u){_n(this);let m=[];if(typeof u=="string")yi(this,u)&&(m=m.concat(this.g.get(Fn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},r.set=function(u,m){return _n(this),this.i=null,u=Fn(this,u),yi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function yo(u,m,_){_i(u,m),0<_.length&&(u.i=null,u.g.set(Fn(u,m),et(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var A=m[_];const j=encodeURIComponent(String(A)),J=this.V(A);for(A=0;A<J.length;A++){var U=j;J[A]!==""&&(U+="="+encodeURIComponent(String(J[A]))),u.push(U)}}return this.i=u.join("&")};function Fn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function eu(u,m){m&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(_,A){var U=A.toLowerCase();A!=U&&(_i(this,A),yo(this,U,_))},u)),u.j=m}function ns(u,m){const _=new gn;if(g.Image){const A=new Image;A.onload=F(yn,_,"TestLoadImage: loaded",!0,m,A),A.onerror=F(yn,_,"TestLoadImage: error",!1,m,A),A.onabort=F(yn,_,"TestLoadImage: abort",!1,m,A),A.ontimeout=F(yn,_,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Vn(u,m){const _=new gn,A=new AbortController,U=setTimeout(()=>{A.abort(),yn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(j=>{clearTimeout(U),j.ok?yn(_,"TestPingServer: ok",!0,m):yn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),yn(_,"TestPingServer: error",!1,m)})}function yn(u,m,_,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(_)}catch{}}function is(){this.g=new Yr}function Kn(u,m,_){const A=_||"";try{go(u,function(U,j){let J=U;y(U)&&(J=On(U)),m.push(A+j+"="+encodeURIComponent(J))})}catch(U){throw m.push(A+"type="+encodeURIComponent("_badmap")),U}}function Wi(u){this.l=u.Ub||null,this.j=u.eb||!1}$(Wi,so),Wi.prototype.g=function(){return new vi(this.l,this.j)},Wi.prototype.i=function(u){return function(){return u}}({});function vi(u,m){ae.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(vi,ae),r=vi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Yn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function vo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Qn(this):Yn(this),this.readyState==3&&vo(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Qn(this))},r.Qa=function(u){this.g&&(this.response=u,Qn(this))},r.ga=function(){this.g&&Qn(this)};function Qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Yn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Eo(u){let m="";return bt(u,function(_,A){m+=A,m+=":",m+=_,m+=`\r
`}),m}function Ie(u,m,_){t:{for(A in _){var A=!1;break t}A=!0}A||(_=Eo(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Kt(u,m,_))}function jt(u){ae.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(jt,ae);var Xs=/^https?$/i,rs=["POST","PUT"];r=jt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qn.g(),this.v=this.o?ao(this.o):ao(qn),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){nu(this,j);return}if(u=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)_.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())_.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(j=>j.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(rs,m,void 0))||A||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,J]of _)this.g.setRequestHeader(j,J);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ss(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){nu(this,j)}};function nu(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,$s(u),Xn(u)}function $s(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),Xn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Xn(this,!0)),jt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Zs(this):this.bb())},r.bb=function(){Zs(this)};function Zs(u){if(u.h&&typeof f<"u"&&(!u.v[1]||vn(u)!=4||u.Z()!=2)){if(u.u&&vn(u)==4)qe(u.Ea,0,u);else if(Ht(u,"readystatechange"),vn(u)==4){u.h=!1;try{const J=u.Z();t:switch(J){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var A;if(A=J===0){var U=String(u.D).match(Wr)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),A=!Xs.test(U?U.toLowerCase():"")}_=A}if(_)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var j=2<vn(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",$s(u)}}finally{Xn(u)}}}}function Xn(u,m){if(u.g){ss(u);const _=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ht(u,"ready");try{_.onreadystatechange=A}catch{}}}function ss(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function vn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),js(m)}};function iu(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Dh(u){const m={};u=(u.g&&2<=vn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(pt(u[A]))continue;var _=V(u[A]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const j=m[U]||[];m[U]=j,j.push(_)}N(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function as(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function Ws(u){this.Aa=0,this.i=[],this.j=new gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=as("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=as("baseRetryDelayMs",5e3,u),this.cb=as("retryDelaySeedMs",1e4,u),this.Wa=as("forwardChannelMaxRetries",2,u),this.wa=as("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new mi(u&&u.concurrentRequestLimit),this.Da=new is,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ws.prototype,r.la=8,r.G=1,r.connect=function(u,m,_,A){te(0),this.W=u,this.H=m||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=cu(this,null,this.W),ta(this)};function To(u){if(ru(u),u.G==3){var m=u.U++,_=an(u.I);if(Kt(_,"SID",u.K),Kt(_,"RID",m),Kt(_,"TYPE","terminate"),os(u,_),m=new Xe(u,u.j,m),m.L=2,m.v=ts(an(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=m.v,_=!0),_||(m.g=hu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),$r(m)}uu(u)}function Js(u){u.g&&(ls(u),u.g.cancel(),u.g=null)}function ru(u){Js(u),u.u&&(g.clearTimeout(u.u),u.u=null),ea(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function ta(u){if(!Gs(u.h)&&!u.s){u.s=!0;var m=u.Ga;nt||C(),ht||(nt(),ht=!0),zt.add(m,u),u.B=0}}function Oh(u,m){return Fs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=de(x(u.Ga,u,m),bo(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Xe(this,this.j,u);let j=this.o;if(this.S&&(j?(j=S(j),O(j,this.S)):j=this.S),this.m!==null||this.O||(U.H=j,j=null),this.P)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=su(this,U,m),_=an(this.I),Kt(_,"RID",u),Kt(_,"CVER",22),this.D&&Kt(_,"X-HTTP-Session-Id",this.D),os(this,_),j&&(this.O?m="headers="+encodeURIComponent(String(Eo(j)))+"&"+m:this.m&&Ie(_,this.m,j)),Ks(this.h,U),this.Ua&&Kt(_,"TYPE","init"),this.P?(Kt(_,"$req",m),Kt(_,"SID","null"),U.T=!0,Nn(U,_,null)):Nn(U,_,m),this.G=2}}else this.G==3&&(u?Ao(this,u):this.i.length==0||Gs(this.h)||Ao(this))};function Ao(u,m){var _;m?_=m.l:_=u.U++;const A=an(u.I);Kt(A,"SID",u.K),Kt(A,"RID",_),Kt(A,"AID",u.T),os(u,A),u.m&&u.o&&Ie(A,u.m,u.o),_=new Xe(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=su(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ks(u.h,_),Nn(_,A,m)}function os(u,m){u.H&&bt(u.H,function(_,A){Kt(m,A,_)}),u.l&&go({},function(_,A){Kt(m,A,_)})}function su(u,m,_){_=Math.min(u.i.length,_);var A=u.l?x(u.l.Na,u.l,u):null;t:{var U=u.i;let j=-1;for(;;){const J=["count="+_];j==-1?0<_?(j=U[0].g,J.push("ofs="+j)):j=0:J.push("ofs="+j);let Pt=!0;for(let Ee=0;Ee<_;Ee++){let Ut=U[Ee].g;const Ce=U[Ee].map;if(Ut-=j,0>Ut)j=Math.max(0,U[Ee].g-100),Pt=!1;else try{Kn(Ce,J,"req"+Ut+"_")}catch{A&&A(Ce)}}if(Pt){A=J.join("&");break t}}}return u=u.i.splice(0,_),m.D=u,A}function au(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;nt||C(),ht||(nt(),ht=!0),zt.add(m,u),u.v=0}}function So(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=de(x(u.Fa,u),bo(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,ou(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=de(x(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Js(this),ou(this))};function ls(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function ou(u){u.g=new Xe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=an(u.qa);Kt(m,"RID","rpc"),Kt(m,"SID",u.K),Kt(m,"AID",u.T),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Kt(m,"TO",u.ja),Kt(m,"TYPE","xmlhttp"),os(u,m),u.m&&u.o&&Ie(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=ts(an(m)),_.m=null,_.P=!0,di(_,u)}r.Za=function(){this.C!=null&&(this.C=null,Js(this),So(this),te(19))};function ea(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function lu(u,m){var _=null;if(u.g==m){ea(u),ls(u),u.g=null;var A=2}else if(fo(u.h,m))_=m.D,$e(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;A=Ki(),Ht(A,new ve(A,_)),ta(u)}else au(u);else if(U=m.s,U==3||U==0&&0<m.X||!(A==1&&Oh(u,m)||A==2&&So(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),U){case 1:Ei(u,5);break;case 4:Ei(u,10);break;case 3:Ei(u,6);break;default:Ei(u,2)}}}function bo(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function Ei(u,m){if(u.j.info("Error code "+m),m==2){var _=x(u.fb,u),A=u.Xa;const U=!A;A=new me(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Jr(A,"https"),ts(A),U?ns(A.toString(),_):Vn(A.toString(),_)}else te(2);u.G=0,u.l&&u.l.sa(m),uu(u),ru(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function uu(u){if(u.G=0,u.ka=[],u.l){const m=mo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ka,m),Z(u.ka,u.i),u.h.i.length=0,et(u.i),u.i.length=0),u.l.ra()}}function cu(u,m,_){var A=_ instanceof me?an(_):new me(_);if(A.g!="")m&&(A.g=m+"."+A.g),Zi(A,A.s);else{var U=g.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var j=new me(null);A&&Jr(j,A),m&&(j.g=m),U&&Zi(j,U),_&&(j.l=_),A=j}return _=u.D,m=u.ya,_&&m&&Kt(A,_,m),Kt(A,"VER",u.la),os(u,A),A}function hu(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new jt(new Wi({eb:_})):new jt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function fu(){}r=fu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function na(){}na.prototype.g=function(u,m){return new Ze(u,m)};function Ze(u,m){ae.call(this),this.g=new Ws(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!pt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!pt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new $n(this)}$(Ze,ae),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){To(this.g)},Ze.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=On(u),u=_);m.i.push(new Jl(m.Ya++,u)),m.G==3&&ta(m)},Ze.prototype.N=function(){this.g.l=null,delete this.j,To(this.g),delete this.g,Ze.aa.N.call(this)};function du(u){hi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}$(du,hi);function mu(){lo.call(this),this.status=1}$(mu,lo);function $n(u){this.g=u}$($n,fu),$n.prototype.ua=function(){Ht(this.g,"a")},$n.prototype.ta=function(u){Ht(this.g,new du(u))},$n.prototype.sa=function(u){Ht(this.g,new mu)},$n.prototype.ra=function(){Ht(this.g,"b")},na.prototype.createWebChannel=na.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,yE=function(){return new na},_E=function(){return Ki()},pE=jn,Gd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Xi.NO_ERROR=0,Xi.TIMEOUT=8,Xi.HTTP_ERROR=6,Ac=Xi,fi.COMPLETE="complete",gE=fi,oo.EventType=ci,ci.OPEN="a",ci.CLOSE="b",ci.ERROR="c",ci.MESSAGE="d",ae.prototype.listen=ae.prototype.K,gl=oo,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,mE=jt}).apply(typeof gc<"u"?gc:typeof self<"u"?self:typeof window<"u"?window:{});const Uy="@firebase/firestore",ky="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ke.UNAUTHENTICATED=new Ke(null),Ke.GOOGLE_CREDENTIALS=new Ke("google-credentials-uid"),Ke.FIRST_PARTY=new Ke("first-party-uid"),Ke.MOCK_USER=new Ke("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $a="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new fm("@firebase/firestore");function Na(){return Ds.logLevel}function st(r,...t){if(Ds.logLevel<=Vt.DEBUG){const n=t.map(gm);Ds.debug(`Firestore (${$a}): ${r}`,...n)}}function ji(r,...t){if(Ds.logLevel<=Vt.ERROR){const n=t.map(gm);Ds.error(`Firestore (${$a}): ${r}`,...n)}}function ja(r,...t){if(Ds.logLevel<=Vt.WARN){const n=t.map(gm);Ds.warn(`Firestore (${$a}): ${r}`,...n)}}function gm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(r="Unexpected state"){const t=`FIRESTORE (${$a}) INTERNAL ASSERTION FAILED: `+r;throw ji(t),new Error(t)}function qt(r,t){r||vt()}function St(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Gi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Fb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Ke.UNAUTHENTICATED))}shutdown(){}}class Kb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Qb{constructor(t){this.t=t,this.currentUser=Ke.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){qt(this.o===void 0);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let c=new Nr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Nr,t.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const p=c;t.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Nr)}},0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string"),new vE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string"),new Ke(t)}}class Yb{constructor(t,n,s){this.l=t,this.h=n,this.P=s,this.type="FirstParty",this.user=Ke.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Xb{constructor(t,n,s){this.l=t,this.h=n,this.P=s}getToken(){return Promise.resolve(new Yb(this.l,this.h,this.P))}start(t,n){t.enqueueRetryable(()=>n(Ke.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xy{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $b{constructor(t,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,In(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,n){qt(this.o===void 0);const s=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,st("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable(()=>s(c))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new xy(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(qt(typeof n.token=="string"),this.R=n.token,new xy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=Zb(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<n&&(s+=t.charAt(l[c]%62))}return s}}function It(r,t){return r<t?-1:r>t?1:0}function Fd(r,t){let n=0;for(;n<r.length&&n<t.length;){const s=r.codePointAt(n),l=t.codePointAt(n);if(s!==l){if(s<128&&l<128)return It(s,l);{const c=EE(),f=Wb(c.encode(Ly(r,n)),c.encode(Ly(t,n)));return f!==0?f:It(s,l)}}n+=s>65535?2:1}return It(r.length,t.length)}function Ly(r,t){return r.codePointAt(t)>65535?r.substring(t,t+2):r.substring(t,t+1)}function Wb(r,t){for(let n=0;n<r.length&&n<t.length;++n)if(r[n]!==t[n])return It(r[n],t[n]);return It(r.length,t.length)}function qa(r,t,n){return r.length===t.length&&r.every((s,l)=>n(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy=-62135596800,By=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(t){return be.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*By);return new be(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new at(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new at(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<zy)throw new at(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/By}_compareTo(t){return this.seconds===t.seconds?It(this.nanoseconds,t.nanoseconds):It(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-zy;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new be(0,0))}static max(){return new At(new be(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="__name__";class ii{constructor(t,n,s){n===void 0?n=0:n>t.length&&vt(),s===void 0?s=t.length-n:s>t.length-n&&vt(),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return ii.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof ii?t.forEach(s=>{n.push(s)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const c=ii.compareSegments(t.get(l),n.get(l));if(c!==0)return c}return It(t.length,n.length)}static compareSegments(t,n){const s=ii.isNumericId(t),l=ii.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?ii.extractNumericId(t).compare(ii.extractNumericId(n)):Fd(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Or.fromString(t.substring(4,t.length-2))}}class Jt extends ii{construct(t,n,s){return new Jt(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new at(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new Jt(n)}static emptyPath(){return new Jt([])}}const Jb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ii{construct(t,n,s){return new Be(t,n,s)}static isValidIdentifier(t){return Jb.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===jy}static keyField(){return new Be([jy])}static fromServerFormat(t){const n=[];let s="",l=0;const c=()=>{if(s.length===0)throw new at(Y.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new at(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new at(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(s+=g,l++):(c(),l++)}if(c(),f)throw new at(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Be(n)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t){this.path=t}static fromPath(t){return new ft(Jt.fromString(t))}static fromName(t){return new ft(Jt.fromString(t).popFirst(5))}static empty(){return new ft(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Jt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return Jt.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new Jt(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=-1;function tw(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=At.fromTimestamp(s===1e9?new be(n+1,0):new be(n,s));return new Mr(l,ft.empty(),t)}function ew(r){return new Mr(r.readTime,r.key,wl)}class Mr{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new Mr(At.min(),ft.empty(),wl)}static max(){return new Mr(At.max(),ft.empty(),wl)}}function nw(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=ft.comparator(r.documentKey,t.documentKey),n!==0?n:It(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(r){if(r.code!==Y.FAILED_PRECONDITION||r.message!==iw)throw r;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&vt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new Q((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,l)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):Q.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):Q.reject(n)}static resolve(t){return new Q((n,s)=>{n(t)})}static reject(t){return new Q((n,s)=>{s(t)})}static waitFor(t){return new Q((n,s)=>{let l=0,c=0,f=!1;t.forEach(g=>{++l,g.next(()=>{++c,f&&c===l&&n()},p=>s(p))}),f=!0,c===l&&n()})}static or(t){let n=Q.resolve(!1);for(const s of t)n=n.next(l=>l?Q.resolve(l):s());return n}static forEach(t,n){const s=[];return t.forEach((l,c)=>{s.push(n.call(this,l,c))}),this.waitFor(s)}static mapArray(t,n){return new Q((s,l)=>{const c=t.length,f=new Array(c);let g=0;for(let p=0;p<c;p++){const y=p;n(t[y]).next(T=>{f[y]=T,++g,g===c&&s(f)},T=>l(T))}})}static doWhile(t,n){return new Q((s,l)=>{const c=()=>{t()===!0?n().next(()=>{c()},l):s()};c()})}}function sw(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wa(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}nh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm=-1;function ih(r){return r==null}function Pc(r){return r===0&&1/r==-1/0}function aw(r){return typeof r=="number"&&Number.isInteger(r)&&!Pc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="";function ow(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=qy(t)),t=lw(r.get(n),t);return qy(t)}function lw(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":n+="";break;case AE:n+="";break;default:n+=c}}return n}function qy(r){return r+AE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hy(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function Ms(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function SE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(t,n){this.comparator=t,this.root=n||ze.EMPTY}insert(t,n){return new re(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(t){return new re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ze.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,s)=>(t(n,s),!1))}toString(){const t=[];return this.inorderTraversal((n,s)=>(t.push(`${n}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new pc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new pc(this.root,t,this.comparator,!1)}getReverseIterator(){return new pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new pc(this.root,t,this.comparator,!0)}}class pc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=n?s(t.key,n):1,n&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ze{constructor(t,n,s,l,c){this.key=t,this.value=n,this.color=s??ze.RED,this.left=l??ze.EMPTY,this.right=c??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,c){return new ze(t??this.key,n??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,n,s),null):c===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return ze.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw vt();const t=this.left.check();if(t!==this.right.check())throw vt();return t+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw vt()}get value(){throw vt()}get color(){throw vt()}get left(){throw vt()}get right(){throw vt()}copy(t,n,s,l,c){return this}insert(t,n,s){return new ze(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(t){this.comparator=t,this.data=new re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,s)=>(t(n),!1))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gy(this.data.getIterator())}getIteratorFrom(t){return new Gy(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(s=>{n=n.add(s)}),n}isEqual(t){if(!(t instanceof we)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new we(this.comparator);return n.data=t,n}}class Gy{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(t){this.fields=t,t.sort(Be.comparator)}static empty(){return new kn([])}unionWith(t){let n=new we(Be.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new kn(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return qa(this.fields,t.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new bE("Invalid base64 string: "+c):c}}(t);return new je(n)}static fromUint8Array(t){const n=function(l){let c="";for(let f=0;f<l.length;++f)c+=String.fromCharCode(l[f]);return c}(t);return new je(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return It(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}je.EMPTY_BYTE_STRING=new je("");const uw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pr(r){if(qt(!!r),typeof r=="string"){let t=0;const n=uw.exec(r);if(qt(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:fe(r.seconds),nanos:fe(r.nanos)}}function fe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ur(r){return typeof r=="string"?je.fromBase64String(r):je.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="server_timestamp",RE="__type__",IE="__previous_value__",CE="__local_write_time__";function _m(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[RE])===null||n===void 0?void 0:n.stringValue)===wE}function rh(r){const t=r.mapValue.fields[IE];return _m(t)?rh(t):t}function Rl(r){const t=Pr(r.mapValue.fields[CE].timestampValue);return new be(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(t,n,s,l,c,f,g,p,y){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y}}const Uc="(default)";class Il{constructor(t,n){this.projectId=t,this.database=n||Uc}static empty(){return new Il("","")}get isDefaultDatabase(){return this.database===Uc}isEqual(t){return t instanceof Il&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="__type__",hw="__max__",_c={mapValue:{}},OE="__vector__",kc="value";function kr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?_m(r)?4:dw(r)?9007199254740991:fw(r)?10:11:vt()}function li(r,t){if(r===t)return!0;const n=kr(r);if(n!==kr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Rl(r).isEqual(Rl(t));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const f=Pr(l.timestampValue),g=Pr(c.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos}(r,t);case 5:return r.stringValue===t.stringValue;case 6:return function(l,c){return Ur(l.bytesValue).isEqual(Ur(c.bytesValue))}(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return function(l,c){return fe(l.geoPointValue.latitude)===fe(c.geoPointValue.latitude)&&fe(l.geoPointValue.longitude)===fe(c.geoPointValue.longitude)}(r,t);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return fe(l.integerValue)===fe(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const f=fe(l.doubleValue),g=fe(c.doubleValue);return f===g?Pc(f)===Pc(g):isNaN(f)&&isNaN(g)}return!1}(r,t);case 9:return qa(r.arrayValue.values||[],t.arrayValue.values||[],li);case 10:case 11:return function(l,c){const f=l.mapValue.fields||{},g=c.mapValue.fields||{};if(Hy(f)!==Hy(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!li(f[p],g[p])))return!1;return!0}(r,t);default:return vt()}}function Cl(r,t){return(r.values||[]).find(n=>li(n,t))!==void 0}function Ha(r,t){if(r===t)return 0;const n=kr(r),s=kr(t);if(n!==s)return It(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return It(r.booleanValue,t.booleanValue);case 2:return function(c,f){const g=fe(c.integerValue||c.doubleValue),p=fe(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,t);case 3:return Fy(r.timestampValue,t.timestampValue);case 4:return Fy(Rl(r),Rl(t));case 5:return Fd(r.stringValue,t.stringValue);case 6:return function(c,f){const g=Ur(c),p=Ur(f);return g.compareTo(p)}(r.bytesValue,t.bytesValue);case 7:return function(c,f){const g=c.split("/"),p=f.split("/");for(let y=0;y<g.length&&y<p.length;y++){const T=It(g[y],p[y]);if(T!==0)return T}return It(g.length,p.length)}(r.referenceValue,t.referenceValue);case 8:return function(c,f){const g=It(fe(c.latitude),fe(f.latitude));return g!==0?g:It(fe(c.longitude),fe(f.longitude))}(r.geoPointValue,t.geoPointValue);case 9:return Ky(r.arrayValue,t.arrayValue);case 10:return function(c,f){var g,p,y,T;const I=c.fields||{},x=f.fields||{},F=(g=I[kc])===null||g===void 0?void 0:g.arrayValue,$=(p=x[kc])===null||p===void 0?void 0:p.arrayValue,et=It(((y=F==null?void 0:F.values)===null||y===void 0?void 0:y.length)||0,((T=$==null?void 0:$.values)===null||T===void 0?void 0:T.length)||0);return et!==0?et:Ky(F,$)}(r.mapValue,t.mapValue);case 11:return function(c,f){if(c===_c.mapValue&&f===_c.mapValue)return 0;if(c===_c.mapValue)return 1;if(f===_c.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),y=f.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let I=0;I<p.length&&I<T.length;++I){const x=Fd(p[I],T[I]);if(x!==0)return x;const F=Ha(g[p[I]],y[T[I]]);if(F!==0)return F}return It(p.length,T.length)}(r.mapValue,t.mapValue);default:throw vt()}}function Fy(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return It(r,t);const n=Pr(r),s=Pr(t),l=It(n.seconds,s.seconds);return l!==0?l:It(n.nanos,s.nanos)}function Ky(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const c=Ha(n[l],s[l]);if(c)return c}return It(n.length,s.length)}function Ga(r){return Kd(r)}function Kd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Pr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Ur(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ft.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",l=!0;for(const c of n.values||[])l?l=!1:s+=",",s+=Kd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let l="{",c=!0;for(const f of s)c?c=!1:l+=",",l+=`${f}:${Kd(n.fields[f])}`;return l+"}"}(r.mapValue):vt()}function Sc(r){switch(kr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=rh(r);return t?16+Sc(t):16;case 5:return 2*r.stringValue.length;case 6:return Ur(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+Sc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return Ms(s.fields,(c,f)=>{l+=c.length+Sc(f)}),l}(r.mapValue);default:throw vt()}}function Qy(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function Qd(r){return!!r&&"integerValue"in r}function ym(r){return!!r&&"arrayValue"in r}function Yy(r){return!!r&&"nullValue"in r}function Xy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function bc(r){return!!r&&"mapValue"in r}function fw(r){var t,n;return((n=(((t=r==null?void 0:r.mapValue)===null||t===void 0?void 0:t.fields)||{})[DE])===null||n===void 0?void 0:n.stringValue)===OE}function yl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const t={mapValue:{fields:{}}};return Ms(r.mapValue.fields,(n,s)=>t.mapValue.fields[n]=yl(s)),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=yl(r.arrayValue.values[n]);return t}return Object.assign({},r)}function dw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===hw}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(t){this.value=t}static empty(){return new Cn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!bc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=yl(n)}setAll(t){let n=Be.emptyPath(),s={},l=[];t.forEach((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=g.popLast()}f?s[g.lastSegment()]=yl(f):l.push(g.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,l)}delete(t){const n=this.field(t.popLast());bc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return li(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];bc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){Ms(n,(l,c)=>t[l]=c);for(const l of s)delete t[l]}clone(){return new Cn(yl(this.value))}}function NE(r){const t=[];return Ms(r.fields,(n,s)=>{const l=new Be([n]);if(bc(s)){const c=NE(s.mapValue).fields;if(c.length===0)t.push(l);else for(const f of c)t.push(l.child(f))}else t.push(l)}),new kn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(t,n,s,l,c,f,g){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=c,this.data=f,this.documentState=g}static newInvalidDocument(t){return new Qe(t,0,At.min(),At.min(),At.min(),Cn.empty(),0)}static newFoundDocument(t,n,s,l){return new Qe(t,1,n,At.min(),s,l,0)}static newNoDocument(t,n){return new Qe(t,2,n,At.min(),At.min(),Cn.empty(),0)}static newUnknownDocument(t,n){return new Qe(t,3,n,At.min(),At.min(),Cn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Qe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(t,n){this.position=t,this.inclusive=n}}function $y(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],f=r.position[l];if(c.field.isKeyField()?s=ft.comparator(ft.fromName(f.referenceValue),n.key):s=Ha(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Zy(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!li(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(t,n="asc"){this.field=t,this.dir=n}}function mw(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{}class ye extends VE{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new pw(t,n,s):n==="array-contains"?new vw(t,s):n==="in"?new Ew(t,s):n==="not-in"?new Tw(t,s):n==="array-contains-any"?new Aw(t,s):new ye(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new _w(t,s):new yw(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ha(n,this.value)):n!==null&&kr(this.value)===kr(n)&&this.matchesComparison(Ha(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ln extends VE{constructor(t,n){super(),this.filters=t,this.op=n,this.ce=null}static create(t,n){return new Ln(t,n)}matches(t){return ME(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function ME(r){return r.op==="and"}function PE(r){return gw(r)&&ME(r)}function gw(r){for(const t of r.filters)if(t instanceof Ln)return!1;return!0}function Yd(r){if(r instanceof ye)return r.field.canonicalString()+r.op.toString()+Ga(r.value);if(PE(r))return r.filters.map(t=>Yd(t)).join(",");{const t=r.filters.map(n=>Yd(n)).join(",");return`${r.op}(${t})`}}function UE(r,t){return r instanceof ye?function(s,l){return l instanceof ye&&s.op===l.op&&s.field.isEqual(l.field)&&li(s.value,l.value)}(r,t):r instanceof Ln?function(s,l){return l instanceof Ln&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,f,g)=>c&&UE(f,l.filters[g]),!0):!1}(r,t):void vt()}function kE(r){return r instanceof ye?function(n){return`${n.field.canonicalString()} ${n.op} ${Ga(n.value)}`}(r):r instanceof Ln?function(n){return n.op.toString()+" {"+n.getFilters().map(kE).join(" ,")+"}"}(r):"Filter"}class pw extends ye{constructor(t,n,s){super(t,n,s),this.key=ft.fromName(s.referenceValue)}matches(t){const n=ft.comparator(t.key,this.key);return this.matchesComparison(n)}}class _w extends ye{constructor(t,n){super(t,"in",n),this.keys=xE("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}}class yw extends ye{constructor(t,n){super(t,"not-in",n),this.keys=xE("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}}function xE(r,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ft.fromName(s.referenceValue))}class vw extends ye{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return ym(n)&&Cl(n.arrayValue,this.value)}}class Ew extends ye{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Cl(this.value.arrayValue,n)}}class Tw extends ye{constructor(t,n){super(t,"not-in",n)}matches(t){if(Cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!Cl(this.value.arrayValue,n)}}class Aw extends ye{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!ym(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Cl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(t,n=null,s=[],l=[],c=null,f=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=f,this.endAt=g,this.le=null}}function Wy(r,t=null,n=[],s=[],l=null,c=null,f=null){return new Sw(r,t,n,s,l,c,f)}function vm(r){const t=St(r);if(t.le===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(s=>Yd(s)).join(","),n+="|ob:",n+=t.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),ih(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(s=>Ga(s)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(s=>Ga(s)).join(",")),t.le=n}return t.le}function Em(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!mw(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!UE(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Zy(r.startAt,t.startAt)&&Zy(r.endAt,t.endAt)}function Xd(r){return ft.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(t,n=null,s=[],l=[],c=null,f="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=f,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function bw(r,t,n,s,l,c,f,g){return new Ja(r,t,n,s,l,c,f,g)}function LE(r){return new Ja(r)}function Jy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function zE(r){return r.collectionGroup!==null}function vl(r){const t=St(r);if(t.he===null){t.he=[];const n=new Set;for(const c of t.explicitOrderBy)t.he.push(c),n.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new we(Be.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(g=g.add(y.field))})}),g})(t).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||t.he.push(new Dl(c,s))}),n.has(Be.keyField().canonicalString())||t.he.push(new Dl(Be.keyField(),s))}return t.he}function ri(r){const t=St(r);return t.Pe||(t.Pe=ww(t,vl(r))),t.Pe}function ww(r,t){if(r.limitType==="F")return Wy(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new Dl(l.field,c)});const n=r.endAt?new xc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new xc(r.startAt.position,r.startAt.inclusive):null;return Wy(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function $d(r,t){const n=r.filters.concat([t]);return new Ja(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Zd(r,t,n){return new Ja(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function sh(r,t){return Em(ri(r),ri(t))&&r.limitType===t.limitType}function BE(r){return`${vm(ri(r))}|lt:${r.limitType}`}function Va(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(l=>kE(l)).join(", ")}]`),ih(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(l=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(l)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(l=>Ga(l)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(l=>Ga(l)).join(",")),`Target(${s})`}(ri(r))}; limitType=${r.limitType})`}function ah(r,t){return t.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ft.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,t)&&function(s,l){for(const c of vl(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,t)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(r,t)&&function(s,l){return!(s.startAt&&!function(f,g,p){const y=$y(f,g,p);return f.inclusive?y<=0:y<0}(s.startAt,vl(s),l)||s.endAt&&!function(f,g,p){const y=$y(f,g,p);return f.inclusive?y>=0:y>0}(s.endAt,vl(s),l))}(r,t)}function Rw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function jE(r){return(t,n)=>{let s=!1;for(const l of vl(r)){const c=Iw(l,t,n);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function Iw(r,t,n){const s=r.field.isKeyField()?ft.comparator(t.key,n.key):function(c,f,g){const p=f.data.field(c),y=g.data.field(c);return p!==null&&y!==null?Ha(p,y):vt()}(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return vt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ms(this.inner,(n,s)=>{for(const[l,c]of s)t(l,c)})}isEmpty(){return SE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw=new re(ft.comparator);function qi(){return Cw}const qE=new re(ft.comparator);function pl(...r){let t=qE;for(const n of r)t=t.insert(n.key,n);return t}function HE(r){let t=qE;return r.forEach((n,s)=>t=t.insert(n,s.overlayedDocument)),t}function ws(){return El()}function GE(){return El()}function El(){return new Ps(r=>r.toString(),(r,t)=>r.isEqual(t))}const Dw=new re(ft.comparator),Ow=new we(ft.comparator);function Mt(...r){let t=Ow;for(const n of r)t=t.add(n);return t}const Nw=new we(It);function Vw(){return Nw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pc(t)?"-0":t}}function FE(r){return{integerValue:""+r}}function Mw(r,t){return aw(t)?FE(t):Tm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(){this._=void 0}}function Pw(r,t,n){return r instanceof Ol?function(l,c){const f={fields:{[RE]:{stringValue:wE},[CE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&_m(c)&&(c=rh(c)),c&&(f.fields[IE]=c),{mapValue:f}}(n,t):r instanceof Nl?QE(r,t):r instanceof Vl?YE(r,t):function(l,c){const f=KE(l,c),g=tv(f)+tv(l.Ie);return Qd(f)&&Qd(l.Ie)?FE(g):Tm(l.serializer,g)}(r,t)}function Uw(r,t,n){return r instanceof Nl?QE(r,t):r instanceof Vl?YE(r,t):n}function KE(r,t){return r instanceof Lc?function(s){return Qd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(t)?t:{integerValue:0}:null}class Ol extends oh{}class Nl extends oh{constructor(t){super(),this.elements=t}}function QE(r,t){const n=XE(t);for(const s of r.elements)n.some(l=>li(l,s))||n.push(s);return{arrayValue:{values:n}}}class Vl extends oh{constructor(t){super(),this.elements=t}}function YE(r,t){let n=XE(t);for(const s of r.elements)n=n.filter(l=>!li(l,s));return{arrayValue:{values:n}}}class Lc extends oh{constructor(t,n){super(),this.serializer=t,this.Ie=n}}function tv(r){return fe(r.integerValue||r.doubleValue)}function XE(r){return ym(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(t,n){this.field=t,this.transform=n}}function xw(r,t){return r.field.isEqual(t.field)&&function(s,l){return s instanceof Nl&&l instanceof Nl||s instanceof Vl&&l instanceof Vl?qa(s.elements,l.elements,li):s instanceof Lc&&l instanceof Lc?li(s.Ie,l.Ie):s instanceof Ol&&l instanceof Ol}(r.transform,t.transform)}class Lw{constructor(t,n){this.version=t,this.transformResults=n}}class Li{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Li}static exists(t){return new Li(void 0,t)}static updateTime(t){return new Li(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function wc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class lh{}function $E(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new WE(r.key,Li.none()):new xl(r.key,r.data,Li.none());{const n=r.data,s=Cn.empty();let l=new we(Be.comparator);for(let c of t.fields)if(!l.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),l=l.add(c)}return new Us(r.key,s,new kn(l.toArray()),Li.none())}}function zw(r,t,n){r instanceof xl?function(l,c,f){const g=l.value.clone(),p=nv(l.fieldTransforms,c,f.transformResults);g.setAll(p),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(r,t,n):r instanceof Us?function(l,c,f){if(!wc(l.precondition,c))return void c.convertToUnknownDocument(f.version);const g=nv(l.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(ZE(l)),p.setAll(g),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,t,n):function(l,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,t,n)}function Tl(r,t,n,s){return r instanceof xl?function(c,f,g,p){if(!wc(c.precondition,f))return g;const y=c.value.clone(),T=iv(c.fieldTransforms,p,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,t,n,s):r instanceof Us?function(c,f,g,p){if(!wc(c.precondition,f))return g;const y=iv(c.fieldTransforms,p,f),T=f.data;return T.setAll(ZE(c)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(I=>I.field))}(r,t,n,s):function(c,f,g){return wc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g}(r,t,n)}function Bw(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=KE(s.transform,l||null);c!=null&&(n===null&&(n=Cn.empty()),n.set(s.field,c))}return n||null}function ev(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&qa(s,l,(c,f)=>xw(c,f))}(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class xl extends lh{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Us extends lh{constructor(t,n,s,l,c=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ZE(r){const t=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}}),t}function nv(r,t,n){const s=new Map;qt(r.length===n.length);for(let l=0;l<n.length;l++){const c=r[l],f=c.transform,g=t.data.field(c.field);s.set(c.field,Uw(f,g,n[l]))}return s}function iv(r,t,n){const s=new Map;for(const l of r){const c=l.transform,f=n.data.field(l.field);s.set(l.field,Pw(c,f,t))}return s}class WE extends lh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jw extends lh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&zw(c,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Tl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Tl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=GE();return this.mutations.forEach(l=>{const c=t.get(l.key),f=c.overlayedDocument;let g=this.applyToLocalView(f,c.mutatedFields);g=n.has(l.key)?null:g;const p=$E(f,g);p!==null&&s.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(At.min())}),s}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Mt())}isEqual(t){return this.batchId===t.batchId&&qa(this.mutations,t.mutations,(n,s)=>ev(n,s))&&qa(this.baseMutations,t.baseMutations,(n,s)=>ev(n,s))}}class Am{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){qt(t.mutations.length===s.length);let l=function(){return Dw}();const c=t.mutations;for(let f=0;f<c.length;f++)l=l.insert(c[f].key,s[f].version);return new Am(t,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e,xt;function Fw(r){switch(r){case Y.OK:return vt();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return vt()}}function JE(r){if(r===void 0)return ji("GRPC error has no .code"),Y.UNKNOWN;switch(r){case _e.OK:return Y.OK;case _e.CANCELLED:return Y.CANCELLED;case _e.UNKNOWN:return Y.UNKNOWN;case _e.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case _e.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case _e.INTERNAL:return Y.INTERNAL;case _e.UNAVAILABLE:return Y.UNAVAILABLE;case _e.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case _e.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case _e.NOT_FOUND:return Y.NOT_FOUND;case _e.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case _e.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case _e.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case _e.ABORTED:return Y.ABORTED;case _e.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case _e.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case _e.DATA_LOSS:return Y.DATA_LOSS;default:return vt()}}(xt=_e||(_e={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw=new Or([4294967295,4294967295],0);function rv(r){const t=EE().encode(r),n=new dE;return n.update(t),new Uint8Array(n.digest())}function sv(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Or([n,s],0),new Or([l,c],0)]}class Sm{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new _l(`Invalid padding: ${n}`);if(s<0)throw new _l(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new _l(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*t.length-n,this.de=Or.fromNumber(this.Ee)}Ae(t,n,s){let l=t.add(n.multiply(Or.fromNumber(s)));return l.compare(Kw)===1&&(l=new Or([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const n=rv(t),[s,l]=sv(n);for(let c=0;c<this.hashCount;c++){const f=this.Ae(s,l,c);if(!this.Re(f))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),f=new Sm(c,l,n);return s.forEach(g=>f.insert(g)),f}insert(t){if(this.Ee===0)return;const n=rv(t),[s,l]=sv(n);for(let c=0;c<this.hashCount;c++){const f=this.Ae(s,l,c);this.Ve(f)}}Ve(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(t,n,s,l,c){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,Ll.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new uh(At.min(),l,new re(It),qi(),Mt())}}class Ll{constructor(t,n,s,l,c){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Ll(s,n,Mt(),Mt(),Mt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t,n,s,l){this.me=t,this.removedTargetIds=n,this.key=s,this.fe=l}}class t0{constructor(t,n){this.targetId=t,this.ge=n}}class e0{constructor(t,n,s=je.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class av{constructor(){this.pe=0,this.ye=ov(),this.we=je.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=Mt(),n=Mt(),s=Mt();return this.ye.forEach((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:vt()}}),new Ll(this.we,this.Se,t,n,s)}Me(){this.be=!1,this.ye=ov()}xe(t,n){this.be=!0,this.ye=this.ye.insert(t,n)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,qt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Qw{constructor(t){this.ke=t,this.qe=new Map,this.Qe=qi(),this.$e=yc(),this.Ue=yc(),this.Ke=new re(It)}We(t){for(const n of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(n,t.fe):this.ze(n,t.key,t.fe);for(const n of t.removedTargetIds)this.ze(n,t.key,t.fe)}je(t){this.forEachTarget(t,n=>{const s=this.He(n);switch(t.state){case 0:this.Je(n)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(t.resumeToken));break;default:vt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.qe.forEach((s,l)=>{this.Je(l)&&n(l)})}Ze(t){const n=t.targetId,s=t.ge.count,l=this.Xe(n);if(l){const c=l.target;if(Xd(c))if(s===0){const f=new ft(c.path);this.ze(n,f,Qe.newNoDocument(f,At.min()))}else qt(s===1);else{const f=this.et(n);if(f!==s){const g=this.tt(t),p=g?this.nt(g,t,f):1;if(p!==0){this.Ye(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,y)}}}}}tt(t){const n=t.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=n;let f,g;try{f=Ur(s).toUint8Array()}catch(p){if(p instanceof bE)return ja("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Sm(f,l,c)}catch(p){return ja(p instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(t,n,s){return n.ge.count===s-this.st(t,n.targetId)?0:2}st(t,n){const s=this.ke.getRemoteKeysForTarget(n);let l=0;return s.forEach(c=>{const f=this.ke.it(),g=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.ze(n,c,null),l++)}),l}ot(t){const n=new Map;this.qe.forEach((c,f)=>{const g=this.Xe(f);if(g){if(c.current&&Xd(g.target)){const p=new ft(g.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Qe.newNoDocument(p,t))}c.ve&&(n.set(f,c.Fe()),c.Me())}});let s=Mt();this.Ue.forEach((c,f)=>{let g=!0;f.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.Qe.forEach((c,f)=>f.setReadTime(t));const l=new uh(t,n,this.Ke,this.Qe,s);return this.Qe=qi(),this.$e=yc(),this.Ue=yc(),this.Ke=new re(It),l}Ge(t,n){if(!this.Je(t))return;const s=this.ut(t,n.key)?2:0;this.He(t).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(t)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(t))}ze(t,n,s){if(!this.Je(t))return;const l=this.He(t);this.ut(t,n)?l.xe(n,1):l.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(t)),this.Ue=this.Ue.insert(n,this.ct(n).add(t)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(t){this.qe.delete(t)}et(t){const n=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let n=this.qe.get(t);return n||(n=new av,this.qe.set(t,n)),n}ct(t){let n=this.Ue.get(t);return n||(n=new we(It),this.Ue=this.Ue.insert(t,n)),n}_t(t){let n=this.$e.get(t);return n||(n=new we(It),this.$e=this.$e.insert(t,n)),n}Je(t){const n=this.Xe(t)!==null;return n||st("WatchChangeAggregator","Detected inactive target",t),n}Xe(t){const n=this.qe.get(t);return n&&n.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new av),this.ke.getRemoteKeysForTarget(t).forEach(n=>{this.ze(t,n,null)})}ut(t,n){return this.ke.getRemoteKeysForTarget(t).has(n)}}function yc(){return new re(ft.comparator)}function ov(){return new re(ft.comparator)}const Yw={asc:"ASCENDING",desc:"DESCENDING"},Xw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$w={and:"AND",or:"OR"};class Zw{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function Wd(r,t){return r.useProto3Json||ih(t)?t:{value:t}}function zc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function n0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Ww(r,t){return zc(r,t.toTimestamp())}function si(r){return qt(!!r),At.fromTimestamp(function(n){const s=Pr(n);return new be(s.seconds,s.nanos)}(r))}function bm(r,t){return Jd(r,t).canonicalString()}function Jd(r,t){const n=function(l){return new Jt(["projects",l.projectId,"databases",l.database])}(r).child("documents");return t===void 0?n:n.child(t)}function i0(r){const t=Jt.fromString(r);return qt(l0(t)),t}function tm(r,t){return bm(r.databaseId,t.path)}function Md(r,t){const n=i0(t);if(n.get(1)!==r.databaseId.projectId)throw new at(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new at(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ft(s0(n))}function r0(r,t){return bm(r.databaseId,t)}function Jw(r){const t=i0(r);return t.length===4?Jt.emptyPath():s0(t)}function em(r){return new Jt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function s0(r){return qt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function lv(r,t,n){return{name:tm(r,t),fields:n.value.mapValue.fields}}function tR(r,t){let n;if("targetChange"in t){t.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:vt()}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=function(y,T){return y.useProto3Json?(qt(T===void 0||typeof T=="string"),je.fromBase64String(T||"")):(qt(T===void 0||T instanceof Buffer||T instanceof Uint8Array),je.fromUint8Array(T||new Uint8Array))}(r,t.targetChange.resumeToken),f=t.targetChange.cause,g=f&&function(y){const T=y.code===void 0?Y.UNKNOWN:JE(y.code);return new at(T,y.message||"")}(f);n=new e0(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Md(r,s.document.name),c=si(s.document.updateTime),f=s.document.createTime?si(s.document.createTime):At.min(),g=new Cn({mapValue:{fields:s.document.fields}}),p=Qe.newFoundDocument(l,c,f,g),y=s.targetIds||[],T=s.removedTargetIds||[];n=new Rc(y,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Md(r,s.document),c=s.readTime?si(s.readTime):At.min(),f=Qe.newNoDocument(l,c),g=s.removedTargetIds||[];n=new Rc([],g,f.key,f)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Md(r,s.document),c=s.removedTargetIds||[];n=new Rc([],c,l,null)}else{if(!("filter"in t))return vt();{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,f=new Gw(l,c),g=s.targetId;n=new t0(g,f)}}return n}function eR(r,t){let n;if(t instanceof xl)n={update:lv(r,t.key,t.value)};else if(t instanceof WE)n={delete:tm(r,t.key)};else if(t instanceof Us)n={update:lv(r,t.key,t.data),updateMask:cR(t.fieldMask)};else{if(!(t instanceof jw))return vt();n={verify:tm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(s=>function(c,f){const g=f.transform;if(g instanceof Ol)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Nl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Vl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Lc)return{fieldPath:f.field.canonicalString(),increment:g.Ie};throw vt()}(0,s))),t.precondition.isNone||(n.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:Ww(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt()}(r,t.precondition)),n}function nR(r,t){return r&&r.length>0?(qt(t!==void 0),r.map(n=>function(l,c){let f=l.updateTime?si(l.updateTime):si(c);return f.isEqual(At.min())&&(f=si(c)),new Lw(f,l.transformResults||[])}(n,t))):[]}function iR(r,t){return{documents:[r0(r,t.path)]}}function rR(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=r0(r,l);const c=function(y){if(y.length!==0)return o0(Ln.create(y,"and"))}(t.filters);c&&(n.structuredQuery.where=c);const f=function(y){if(y.length!==0)return y.map(T=>function(x){return{field:Ma(x.field),direction:oR(x.dir)}}(T))}(t.orderBy);f&&(n.structuredQuery.orderBy=f);const g=Wd(r,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(t.endAt)),{ht:n,parent:l}}function sR(r){let t=Jw(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){qt(s===1);const T=n.from[0];T.allDescendants?l=T.collectionId:t=t.child(T.collectionId)}let c=[];n.where&&(c=function(I){const x=a0(I);return x instanceof Ln&&PE(x)?x.getFilters():[x]}(n.where));let f=[];n.orderBy&&(f=function(I){return I.map(x=>function($){return new Dl(Pa($.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(x))}(n.orderBy));let g=null;n.limit&&(g=function(I){let x;return x=typeof I=="object"?I.value:I,ih(x)?null:x}(n.limit));let p=null;n.startAt&&(p=function(I){const x=!!I.before,F=I.values||[];return new xc(F,x)}(n.startAt));let y=null;return n.endAt&&(y=function(I){const x=!I.before,F=I.values||[];return new xc(F,x)}(n.endAt)),bw(t,l,f,c,g,"F",p,y)}function aR(r,t){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function a0(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Pa(n.unaryFilter.field);return ye.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Pa(n.unaryFilter.field);return ye.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Pa(n.unaryFilter.field);return ye.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Pa(n.unaryFilter.field);return ye.create(f,"!=",{nullValue:"NULL_VALUE"});default:return vt()}}(r):r.fieldFilter!==void 0?function(n){return ye.create(Pa(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return vt()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Ln.create(n.compositeFilter.filters.map(s=>a0(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return vt()}}(n.compositeFilter.op))}(r):vt()}function oR(r){return Yw[r]}function lR(r){return Xw[r]}function uR(r){return $w[r]}function Ma(r){return{fieldPath:r.canonicalString()}}function Pa(r){return Be.fromServerFormat(r.fieldPath)}function o0(r){return r instanceof ye?function(n){if(n.op==="=="){if(Xy(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NAN"}};if(Yy(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Xy(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NOT_NAN"}};if(Yy(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ma(n.field),op:lR(n.op),value:n.value}}}(r):r instanceof Ln?function(n){const s=n.getFilters().map(l=>o0(l));return s.length===1?s[0]:{compositeFilter:{op:uR(n.op),filters:s}}}(r):vt()}function cR(r){const t=[];return r.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function l0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(t,n,s,l,c=At.min(),f=At.min(),g=je.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new Rr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(t){this.Tt=t}}function fR(r){const t=sR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Zd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(){this.Tn=new mR}addToCollectionParentIndex(t,n){return this.Tn.add(n),Q.resolve()}getCollectionParents(t,n){return Q.resolve(this.Tn.getEntries(n))}addFieldIndex(t,n){return Q.resolve()}deleteFieldIndex(t,n){return Q.resolve()}deleteAllFieldIndexes(t){return Q.resolve()}createTargetIndexes(t,n){return Q.resolve()}getDocumentsMatchingTarget(t,n){return Q.resolve(null)}getIndexType(t,n){return Q.resolve(0)}getFieldIndexes(t,n){return Q.resolve([])}getNextCollectionGroupToUpdate(t){return Q.resolve(null)}getMinOffset(t,n){return Q.resolve(Mr.min())}getMinOffsetFromCollectionGroup(t,n){return Q.resolve(Mr.min())}updateCollectionGroup(t,n,s){return Q.resolve()}updateIndexEntries(t,n){return Q.resolve()}}class mR{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new we(Jt.comparator),c=!l.has(s);return this.index[n]=l.add(s),c}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new we(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},u0=41943040;class rn{static withCacheSize(t){return new rn(t,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(u0,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new Fa(0)}static Kn(){return new Fa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="LruGarbageCollector",gR=1048576;function hv([r,t],[n,s]){const l=It(r,n);return l===0?It(t,s):l}class pR{constructor(t){this.Hn=t,this.buffer=new we(hv),this.Jn=0}Yn(){return++this.Jn}Zn(t){const n=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();hv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class _R{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){st(cv,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wa(n)?st(cv,"Ignoring IndexedDB error during garbage collection: ",n):await Za(n)}await this.er(3e5)})}}class yR{constructor(t,n){this.tr=t,this.params=n}calculateTargetCount(t,n){return this.tr.nr(t).next(s=>Math.floor(n/100*s))}nthSequenceNumber(t,n){if(n===0)return Q.resolve(nh.ae);const s=new pR(n);return this.tr.forEachTarget(t,l=>s.Zn(l.sequenceNumber)).next(()=>this.tr.rr(t,l=>s.Zn(l))).next(()=>s.maxValue)}removeTargets(t,n,s){return this.tr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.tr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(uv)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uv):this.ir(t,n))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,n){let s,l,c,f,g,p,y;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),l=this.params.maximumSequenceNumbersToCollect):l=I,f=Date.now(),this.nthSequenceNumber(t,l))).next(I=>(s=I,g=Date.now(),this.removeTargets(t,s,n))).next(I=>(c=I,p=Date.now(),this.removeOrphanedDocuments(t,s))).next(I=>(y=Date.now(),Na()<=Vt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${l} in `+(g-f)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${I} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:I})))}}function vR(r,t){return new yR(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.changes=new Ps(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Qe.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Q.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,n))).next(l=>(s!==null&&Tl(s.mutation,l,kn.empty(),be.now()),l))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.getLocalViewOfDocuments(t,s,Mt()).next(()=>s))}getLocalViewOfDocuments(t,n,s=Mt()){const l=ws();return this.populateOverlays(t,l,n).next(()=>this.computeViews(t,n,l,s).next(c=>{let f=pl();return c.forEach((g,p)=>{f=f.insert(g,p.overlayedDocument)}),f}))}getOverlayedDocuments(t,n){const s=ws();return this.populateOverlays(t,s,n).next(()=>this.computeViews(t,n,s,Mt()))}populateOverlays(t,n,s){const l=[];return s.forEach(c=>{n.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(t,l).next(c=>{c.forEach((f,g)=>{n.set(f,g)})})}computeViews(t,n,s,l){let c=qi();const f=El(),g=function(){return El()}();return n.forEach((p,y)=>{const T=s.get(y.key);l.has(y.key)&&(T===void 0||T.mutation instanceof Us)?c=c.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),Tl(T.mutation,y,T.mutation.getFieldMask(),be.now())):f.set(y.key,kn.empty())}),this.recalculateAndSaveOverlays(t,c).next(p=>(p.forEach((y,T)=>f.set(y,T)),n.forEach((y,T)=>{var I;return g.set(y,new TR(T,(I=f.get(y))!==null&&I!==void 0?I:null))}),g))}recalculateAndSaveOverlays(t,n){const s=El();let l=new re((f,g)=>f-g),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(f=>{for(const g of f)g.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let T=s.get(p)||kn.empty();T=g.applyToLocalView(y,T),s.set(p,T);const I=(l.get(g.batchId)||Mt()).add(p);l=l.insert(g.batchId,I)})}).next(()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,T=p.value,I=GE();T.forEach(x=>{if(!c.has(x)){const F=$E(n.get(x),s.get(x));F!==null&&I.set(x,F),c=c.add(x)}}),f.push(this.documentOverlayCache.saveOverlays(t,y,I))}return Q.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,n,s,l){return function(f){return ft.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):zE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next(c=>{const f=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-c.size):Q.resolve(ws());let g=wl,p=c;return f.next(y=>Q.forEach(y,(T,I)=>(g<I.largestBatchId&&(g=I.largestBatchId),c.get(T)?Q.resolve():this.remoteDocumentCache.getEntry(t,T).next(x=>{p=p.insert(T,x)}))).next(()=>this.populateOverlays(t,y,c)).next(()=>this.computeViews(t,p,y,Mt())).next(T=>({batchId:g,changes:HE(T)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new ft(n)).next(s=>{let l=pl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const c=n.collectionGroup;let f=pl();return this.indexManager.getCollectionParents(t,c).next(g=>Q.forEach(g,p=>{const y=function(I,x){return new Ja(x,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(n,p.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,s,l).next(T=>{T.forEach((I,x)=>{f=f.insert(I,x)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(t,n,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,c,l))).next(f=>{c.forEach((p,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,Qe.newInvalidDocument(T)))});let g=pl();return f.forEach((p,y)=>{const T=c.get(p);T!==void 0&&Tl(T.mutation,y,kn.empty(),be.now()),ah(n,y)&&(g=g.insert(p,y))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,n){return Q.resolve(this.dr.get(n))}saveBundleMetadata(t,n){return this.dr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:si(l.createTime)}}(n)),Q.resolve()}getNamedQuery(t,n){return Q.resolve(this.Ar.get(n))}saveNamedQuery(t,n){return this.Ar.set(n.name,function(l){return{name:l.name,query:fR(l.bundledQuery),readTime:si(l.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(){this.overlays=new re(ft.comparator),this.Rr=new Map}getOverlay(t,n){return Q.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ws();return Q.forEach(n,l=>this.getOverlay(t,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(t,n,s){return s.forEach((l,c)=>{this.Et(t,n,c)}),Q.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.Rr.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),Q.resolve()}getOverlaysForCollection(t,n,s){const l=ws(),c=n.length+1,f=new ft(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return Q.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let c=new re((y,T)=>y-T);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let T=c.get(y.largestBatchId);T===null&&(T=ws(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const g=ws(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,T)=>g.set(y,T)),!(g.size()>=l)););return Q.resolve(g)}Et(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.Rr.get(l.largestBatchId).delete(s.key);this.Rr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Hw(n,s));let c=this.Rr.get(n);c===void 0&&(c=Mt(),this.Rr.set(n,c)),this.Rr.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(){this.sessionToken=je.EMPTY_BYTE_STRING}getSessionToken(t){return Q.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(){this.Vr=new we(Ve.mr),this.gr=new we(Ve.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,n){const s=new Ve(t,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,n){t.forEach(s=>this.addReference(s,n))}removeReference(t,n){this.wr(new Ve(t,n))}Sr(t,n){t.forEach(s=>this.removeReference(s,n))}br(t){const n=new ft(new Jt([])),s=new Ve(n,t),l=new Ve(n,t+1),c=[];return this.gr.forEachInRange([s,l],f=>{this.wr(f),c.push(f.key)}),c}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const n=new ft(new Jt([])),s=new Ve(n,t),l=new Ve(n,t+1);let c=Mt();return this.gr.forEachInRange([s,l],f=>{c=c.add(f.key)}),c}containsKey(t){const n=new Ve(t,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class Ve{constructor(t,n){this.key=t,this.Cr=n}static mr(t,n){return ft.comparator(t.key,n.key)||It(t.Cr,n.Cr)}static pr(t,n){return It(t.Cr,n.Cr)||ft.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new we(Ve.mr)}checkEmpty(t){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new qw(c,n,s,l);this.mutationQueue.push(f);for(const g of l)this.Mr=this.Mr.add(new Ve(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Q.resolve(f)}lookupMutationBatch(t,n){return Q.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.Nr(s),c=l<0?0:l;return Q.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?pm:this.Fr-1)}getAllMutationBatches(t){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new Ve(n,0),l=new Ve(n,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,l],f=>{const g=this.Or(f.Cr);c.push(g)}),Q.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new we(It);return n.forEach(l=>{const c=new Ve(l,0),f=new Ve(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,f],g=>{s=s.add(g.Cr)})}),Q.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let c=s;ft.isDocumentKey(c)||(c=c.child(""));const f=new Ve(new ft(c),0);let g=new we(It);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(g=g.add(p.Cr)),!0)},f),Q.resolve(this.Br(g))}Br(t){const n=[];return t.forEach(s=>{const l=this.Or(s);l!==null&&n.push(l)}),n}removeMutationBatch(t,n){qt(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Q.forEach(n.mutations,l=>{const c=new Ve(l.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,n){const s=new Ve(n,0),l=this.Mr.firstAfterOrEqual(s);return Q.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Q.resolve()}Lr(t,n){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const n=this.Nr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(t){this.kr=t,this.docs=function(){return new re(ft.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),c=l?l.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return Q.resolve(s?s.document.mutableCopy():Qe.newInvalidDocument(n))}getEntries(t,n){let s=qi();return n.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Qe.newInvalidDocument(l))}),Q.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let c=qi();const f=n.path,g=new ft(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||nw(ew(T),s)<=0||(l.has(T.key)||ah(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return Q.resolve(c)}getAllFromCollectionGroup(t,n,s,l){vt()}qr(t,n){return Q.forEach(this.docs,s=>n(s))}newChangeBuffer(t){return new CR(this)}getSize(t){return Q.resolve(this.size)}}class CR extends ER{constructor(t){super(),this.Ir=t}applyChanges(t){const n=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?n.push(this.Ir.addEntry(t,l)):this.Ir.removeEntry(s)}),Q.waitFor(n)}getFromCache(t,n){return this.Ir.getEntry(t,n)}getAllFromCache(t,n){return this.Ir.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(t){this.persistence=t,this.Qr=new Ps(n=>vm(n),Em),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.$r=0,this.Ur=new wm,this.targetCount=0,this.Kr=Fa.Un()}forEachTarget(t,n){return this.Qr.forEach((s,l)=>n(l)),Q.resolve()}getLastRemoteSnapshotVersion(t){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Q.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),Q.resolve()}zn(t){this.Qr.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Kr=new Fa(n),this.highestTargetId=n),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,n){return this.zn(n),this.targetCount+=1,Q.resolve()}updateTargetData(t,n){return this.zn(n),Q.resolve()}removeTargetData(t,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(t,n,s){let l=0;const c=[];return this.Qr.forEach((f,g)=>{g.sequenceNumber<=n&&s.get(g.targetId)===null&&(this.Qr.delete(f),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),Q.waitFor(c).next(()=>l)}getTargetCount(t){return Q.resolve(this.targetCount)}getTargetData(t,n){const s=this.Qr.get(n)||null;return Q.resolve(s)}addMatchingKeys(t,n,s){return this.Ur.yr(n,s),Q.resolve()}removeMatchingKeys(t,n,s){this.Ur.Sr(n,s);const l=this.persistence.referenceDelegate,c=[];return l&&n.forEach(f=>{c.push(l.markPotentiallyOrphaned(t,f))}),Q.waitFor(c)}removeMatchingKeysForTargetId(t,n){return this.Ur.br(n),Q.resolve()}getMatchingKeysForTargetId(t,n){const s=this.Ur.vr(n);return Q.resolve(s)}containsKey(t,n){return Q.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(t,n){this.Wr={},this.overlays={},this.Gr=new nh(0),this.zr=!1,this.zr=!0,this.jr=new wR,this.referenceDelegate=t(this),this.Hr=new DR(this),this.indexManager=new dR,this.remoteDocumentCache=function(l){return new IR(l)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new hR(n),this.Yr=new SR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new bR,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.Wr[t.toKey()];return s||(s=new RR(n,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,n,s){st("MemoryPersistence","Starting transaction:",t);const l=new OR(this.Gr.next());return this.referenceDelegate.Zr(),s(l).next(c=>this.referenceDelegate.Xr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}ei(t,n){return Q.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,n)))}}class OR extends rw{constructor(t){super(),this.currentSequenceNumber=t}}class Rm{constructor(t){this.persistence=t,this.ti=new wm,this.ni=null}static ri(t){return new Rm(t)}get ii(){if(this.ni)return this.ni;throw vt()}addReference(t,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),Q.resolve()}removeReference(t,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),Q.resolve()}markPotentiallyOrphaned(t,n){return this.ii.add(n.toString()),Q.resolve()}removeTarget(t,n){this.ti.br(n.targetId).forEach(l=>this.ii.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next(l=>{l.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(t,n))}Zr(){this.ni=new Set}Xr(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ii,s=>{const l=ft.fromPath(s);return this.si(t,l).next(c=>{c||n.removeEntry(l,At.min())})}).next(()=>(this.ni=null,n.apply(t)))}updateLimboDocument(t,n){return this.si(t,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(t){return 0}si(t,n){return Q.or([()=>Q.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.ei(t,n)])}}class Bc{constructor(t,n){this.persistence=t,this.oi=new Ps(s=>ow(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=vR(this,n)}static ri(t,n){return new Bc(t,n)}Zr(){}Xr(t){return Q.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}nr(t){const n=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>n.next(l=>s+l))}sr(t){let n=0;return this.rr(t,s=>{n++}).next(()=>n)}rr(t,n){return Q.forEach(this.oi,(s,l)=>this.ar(t,s,l).next(c=>c?Q.resolve():n(l)))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.qr(t,f=>this.ar(t,f,n).next(g=>{g||(s++,c.removeEntry(f,At.min()))})).next(()=>c.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,n){return this.oi.set(n,t.currentSequenceNumber),Q.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),Q.resolve()}removeReference(t,n,s){return this.oi.set(s,t.currentSequenceNumber),Q.resolve()}updateLimboDocument(t,n){return this.oi.set(n,t.currentSequenceNumber),Q.resolve()}Jr(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Sc(t.data.value)),n}ar(t,n,s){return Q.or([()=>this.persistence.ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.oi.get(n);return Q.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.Hi=s,this.Ji=l}static Yi(t,n){let s=Mt(),l=Mt();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Im(t,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return wS()?8:sw(Ye())>0?6:4}()}initialize(t,n){this.ns=t,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(t,n,s,l){const c={result:null};return this.rs(t,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.ss(t,n,l,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new NR;return this._s(t,n,f).next(g=>{if(c.result=g,this.Xi)return this.us(t,n,f,g.size)})}).next(()=>c.result)}us(t,n,s,l){return s.documentReadCount<this.es?(Na()<=Vt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Va(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Q.resolve()):(Na()<=Vt.DEBUG&&st("QueryEngine","Query:",Va(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ts*l?(Na()<=Vt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Va(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ri(n))):Q.resolve())}rs(t,n){if(Jy(n))return Q.resolve(null);let s=ri(n);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=Zd(n,null,"F"),s=ri(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next(c=>{const f=Mt(...c);return this.ns.getDocuments(t,f).next(g=>this.indexManager.getMinOffset(t,s).next(p=>{const y=this.cs(n,g);return this.ls(n,y,f,p.readTime)?this.rs(t,Zd(n,null,"F")):this.hs(t,y,n,p)}))})))}ss(t,n,s,l){return Jy(n)||l.isEqual(At.min())?Q.resolve(null):this.ns.getDocuments(t,s).next(c=>{const f=this.cs(n,c);return this.ls(n,f,s,l)?Q.resolve(null):(Na()<=Vt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Va(n)),this.hs(t,f,n,tw(l,wl)).next(g=>g))})}cs(t,n){let s=new we(jE(t));return n.forEach((l,c)=>{ah(t,c)&&(s=s.add(c))}),s}ls(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const c=t.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}_s(t,n,s){return Na()<=Vt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Va(n)),this.ns.getDocumentsMatchingQuery(t,n,Mr.min(),s)}hs(t,n,s,l){return this.ns.getDocumentsMatchingQuery(t,s,l).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="LocalStore",MR=3e8;class PR{constructor(t,n,s,l){this.persistence=t,this.Ps=n,this.serializer=l,this.Ts=new re(It),this.Is=new Ps(c=>vm(c),Em),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new AR(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ts))}}function UR(r,t,n,s){return new PR(r,t,n,s)}async function h0(r,t){const n=St(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,n.As(t),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],g=[];let p=Mt();for(const y of l){f.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of c){g.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:g}))})})}function kR(r,t){const n=St(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),c=n.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,y,T){const I=y.batch,x=I.keys();let F=Q.resolve();return x.forEach($=>{F=F.next(()=>T.getEntry(p,$)).next(et=>{const Z=y.docVersions.get($);qt(Z!==null),et.version.compareTo(Z)<0&&(I.applyToRemoteDocument(et,y),et.isValidDocument()&&(et.setReadTime(y.commitVersion),T.addEntry(et)))})}),F.next(()=>g.mutationQueue.removeMutationBatch(p,I))}(n,s,t,c).next(()=>c.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=Mt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p}(t))).next(()=>n.localDocuments.getDocuments(s,l))})}function f0(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Hr.getLastRemoteSnapshotVersion(n))}function xR(r,t){const n=St(r),s=t.snapshotVersion;let l=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});l=n.Ts;const g=[];t.targetChanges.forEach((T,I)=>{const x=l.get(I);if(!x)return;g.push(n.Hr.removeMatchingKeys(c,T.removedDocuments,I).next(()=>n.Hr.addMatchingKeys(c,T.addedDocuments,I)));let F=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(I)!==null?F=F.withResumeToken(je.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):T.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(T.resumeToken,s)),l=l.insert(I,F),function(et,Z,lt){return et.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=MR?!0:lt.addedDocuments.size+lt.modifiedDocuments.size+lt.removedDocuments.size>0}(x,F,T)&&g.push(n.Hr.updateTargetData(c,F))});let p=qi(),y=Mt();if(t.documentUpdates.forEach(T=>{t.resolvedLimboDocuments.has(T)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))}),g.push(LR(c,f,t.documentUpdates).next(T=>{p=T.Vs,y=T.fs})),!s.isEqual(At.min())){const T=n.Hr.getLastRemoteSnapshotVersion(c).next(I=>n.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(T)}return Q.waitFor(g).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(n.Ts=l,c))}function LR(r,t,n){let s=Mt(),l=Mt();return n.forEach(c=>s=s.add(c)),t.getEntries(r,s).next(c=>{let f=qi();return n.forEach((g,p)=>{const y=c.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(At.min())?(t.removeEntry(g,p.readTime),f=f.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(p),f=f.insert(g,p)):st(Cm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)}),{Vs:f,fs:l}})}function zR(r,t){const n=St(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=pm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function BR(r,t){const n=St(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.Hr.getTargetData(s,t).next(c=>c?(l=c,Q.resolve(l)):n.Hr.allocateTargetId(s).next(f=>(l=new Rr(t,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.Ts.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(t,s.targetId)),s})}async function nm(r,t,n){const s=St(r),l=s.Ts.get(t),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,l))}catch(f){if(!Wa(f))throw f;st(Cm,`Failed to update sequence numbers for target ${t}: ${f}`)}s.Ts=s.Ts.remove(t),s.Is.delete(l.target)}function fv(r,t,n){const s=St(r);let l=At.min(),c=Mt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,T){const I=St(p),x=I.Is.get(T);return x!==void 0?Q.resolve(I.Ts.get(x)):I.Hr.getTargetData(y,T)}(s,f,ri(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,g.targetId).next(p=>{c=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,t,n?l:At.min(),n?c:Mt())).next(g=>(jR(s,Rw(t),g),{documents:g,gs:c})))}function jR(r,t,n){let s=r.Es.get(t)||At.min();n.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Es.set(t,s)}class dv{constructor(){this.activeTargetIds=Vw()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class qR{constructor(){this.ho=new dv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,n,s){this.Po[t]=n}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new dv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="ConnectivityMonitor";class gv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){st(mv,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){st(mv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc=null;function im(){return vc===null?vc=function(){return 268435456+Math.round(2147483648*Math.random())}():vc++,"0x"+vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd="RestConnection",GR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class FR{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=n+"://"+t.host,this.yo=`projects/${s}/databases/${l}`,this.wo=this.databaseId.database===Uc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}So(t,n,s,l,c){const f=im(),g=this.bo(t,n.toUriEncodedString());st(Pd,`Sending RPC '${t}' ${f}:`,g,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,l,c),this.vo(t,g,p,s).then(y=>(st(Pd,`Received RPC '${t}' ${f}: `,y),y),y=>{throw ja(Pd,`RPC '${t}' ${f} failed with error: `,y,"url: ",g,"request:",s),y})}Co(t,n,s,l,c,f){return this.So(t,n,s,l,c)}Do(t,n,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+$a}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}bo(t,n){const s=GR[t];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe="WebChannelConnection";class QR extends FR{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,n,s,l){const c=im();return new Promise((f,g)=>{const p=new mE;p.setWithCredentials(!0),p.listenOnce(gE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Ac.NO_ERROR:const T=p.getResponseJson();st(Fe,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(T)),f(T);break;case Ac.TIMEOUT:st(Fe,`RPC '${t}' ${c} timed out`),g(new at(Y.DEADLINE_EXCEEDED,"Request time out"));break;case Ac.HTTP_ERROR:const I=p.getStatus();if(st(Fe,`RPC '${t}' ${c} failed with status:`,I,"response text:",p.getResponseText()),I>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const F=x==null?void 0:x.error;if(F&&F.status&&F.message){const $=function(Z){const lt=Z.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(lt)>=0?lt:Y.UNKNOWN}(F.status);g(new at($,F.message))}else g(new at(Y.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new at(Y.UNAVAILABLE,"Connection failed."));break;default:vt()}}finally{st(Fe,`RPC '${t}' ${c} completed.`)}});const y=JSON.stringify(l);st(Fe,`RPC '${t}' ${c} sending request:`,l),p.send(n,"POST",y,s,15)})}Wo(t,n,s){const l=im(),c=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=yE(),g=_E(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=c.join("");st(Fe,`Creating RPC '${t}' stream ${l}: ${T}`,p);const I=f.createWebChannel(T,p);let x=!1,F=!1;const $=new KR({Fo:Z=>{F?st(Fe,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(x||(st(Fe,`Opening RPC '${t}' stream ${l} transport.`),I.open(),x=!0),st(Fe,`RPC '${t}' stream ${l} sending:`,Z),I.send(Z))},Mo:()=>I.close()}),et=(Z,lt,pt)=>{Z.listen(lt,tt=>{try{pt(tt)}catch(Et){setTimeout(()=>{throw Et},0)}})};return et(I,gl.EventType.OPEN,()=>{F||(st(Fe,`RPC '${t}' stream ${l} transport opened.`),$.Qo())}),et(I,gl.EventType.CLOSE,()=>{F||(F=!0,st(Fe,`RPC '${t}' stream ${l} transport closed`),$.Uo())}),et(I,gl.EventType.ERROR,Z=>{F||(F=!0,ja(Fe,`RPC '${t}' stream ${l} transport errored:`,Z),$.Uo(new at(Y.UNAVAILABLE,"The operation could not be completed")))}),et(I,gl.EventType.MESSAGE,Z=>{var lt;if(!F){const pt=Z.data[0];qt(!!pt);const tt=pt,Et=(tt==null?void 0:tt.error)||((lt=tt[0])===null||lt===void 0?void 0:lt.error);if(Et){st(Fe,`RPC '${t}' stream ${l} received error:`,Et);const ct=Et.status;let bt=function(w){const O=_e[w];if(O!==void 0)return JE(O)}(ct),N=Et.message;bt===void 0&&(bt=Y.INTERNAL,N="Unknown error status: "+ct+" with message "+Et.message),F=!0,$.Uo(new at(bt,N)),I.close()}else st(Fe,`RPC '${t}' stream ${l} received:`,pt),$.Ko(pt)}}),et(g,pE.STAT_EVENT,Z=>{Z.stat===Gd.PROXY?st(Fe,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===Gd.NOPROXY&&st(Fe,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{$.$o()},0),$}}function Ud(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(r){return new Zw(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(t,n,s=1e3,l=1.5,c=6e4){this.Ti=t,this.timerId=n,this.Go=s,this.zo=l,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),l=Math.max(0,n-s);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="PersistentStream";class m0{constructor(t,n,s,l,c,f,g,p){this.Ti=t,this.n_=s,this.r_=l,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new d0(t,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():n&&n.code===Y.RESOURCE_EXHAUSTED?(ji(n.toString()),ji("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.i_===n&&this.V_(s,l)},s=>{t(()=>{const l=new at(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(l)})})}V_(t,n){const s=this.R_(this.i_);this.stream=this.f_(t,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{s(()=>this.m_(l))}),this.stream.onMessage(l=>{s(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return st(pv,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return n=>{this.Ti.enqueueAndForget(()=>this.i_===t?n():(st(pv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YR extends m0{constructor(t,n,s,l,c,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=c}f_(t,n){return this.connection.Wo("Listen",t,n)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const n=tR(this.serializer,t),s=function(c){if(!("targetChange"in c))return At.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?At.min():f.readTime?si(f.readTime):At.min()}(t);return this.listener.p_(n,s)}y_(t){const n={};n.database=em(this.serializer),n.addTarget=function(c,f){let g;const p=f.target;if(g=Xd(p)?{documents:iR(c,p)}:{query:rR(c,p).ht},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=n0(c,f.resumeToken);const y=Wd(c,f.expectedCount);y!==null&&(g.expectedCount=y)}else if(f.snapshotVersion.compareTo(At.min())>0){g.readTime=zc(c,f.snapshotVersion.toTimestamp());const y=Wd(c,f.expectedCount);y!==null&&(g.expectedCount=y)}return g}(this.serializer,t);const s=aR(this.serializer,t);s&&(n.labels=s),this.I_(n)}w_(t){const n={};n.database=em(this.serializer),n.removeTarget=t,this.I_(n)}}class XR extends m0{constructor(t,n,s,l,c,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(t,n){return this.connection.Wo("Write",t,n)}g_(t){return qt(!!t.streamToken),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0),this.listener.D_()}onNext(t){qt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.a_.reset();const n=nR(t.writeResults,t.commitTime),s=si(t.commitTime);return this.listener.v_(s,n)}C_(){const t={};t.database=em(this.serializer),this.I_(t)}b_(t){const n={streamToken:this.lastStreamToken,writes:t.map(s=>eR(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{}class ZR extends $R{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new at(Y.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,n,s,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.So(t,Jd(n,s),l,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new at(Y.UNKNOWN,c.toString())})}Co(t,n,s,l,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,g])=>this.connection.Co(t,Jd(n,s),l,f,g,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new at(Y.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class WR{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ji(n),this.N_=!1):st("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="RemoteStore";class JR{constructor(t,n,s,l,c){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(f=>{s.enqueueAndForget(async()=>{ks(this)&&(st(Os,"Restarting streams for network reachability change."),await async function(p){const y=St(p);y.W_.add(4),await zl(y),y.j_.set("Unknown"),y.W_.delete(4),await hh(y)}(this))})}),this.j_=new WR(s,l)}}async function hh(r){if(ks(r))for(const t of r.G_)await t(!0)}async function zl(r){for(const t of r.G_)await t(!1)}function g0(r,t){const n=St(r);n.K_.has(t.targetId)||(n.K_.set(t.targetId,t),Vm(n)?Nm(n):to(n).c_()&&Om(n,t))}function Dm(r,t){const n=St(r),s=to(n);n.K_.delete(t),s.c_()&&p0(n,t),n.K_.size===0&&(s.c_()?s.P_():ks(n)&&n.j_.set("Unknown"))}function Om(r,t){if(r.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}to(r).y_(t)}function p0(r,t){r.H_.Ne(t),to(r).w_(t)}function Nm(r){r.H_=new Qw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>r.K_.get(t)||null,it:()=>r.datastore.serializer.databaseId}),to(r).start(),r.j_.B_()}function Vm(r){return ks(r)&&!to(r).u_()&&r.K_.size>0}function ks(r){return St(r).W_.size===0}function _0(r){r.H_=void 0}async function t1(r){r.j_.set("Online")}async function e1(r){r.K_.forEach((t,n)=>{Om(r,t)})}async function n1(r,t){_0(r),Vm(r)?(r.j_.q_(t),Nm(r)):r.j_.set("Unknown")}async function i1(r,t,n){if(r.j_.set("Online"),t instanceof e0&&t.state===2&&t.cause)try{await async function(l,c){const f=c.cause;for(const g of c.targetIds)l.K_.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.K_.delete(g),l.H_.removeTarget(g))}(r,t)}catch(s){st(Os,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await jc(r,s)}else if(t instanceof Rc?r.H_.We(t):t instanceof t0?r.H_.Ze(t):r.H_.je(t),!n.isEqual(At.min()))try{const s=await f0(r.localStore);n.compareTo(s)>=0&&await function(c,f){const g=c.H_.ot(f);return g.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=c.K_.get(y);T&&c.K_.set(y,T.withResumeToken(p.resumeToken,f))}}),g.targetMismatches.forEach((p,y)=>{const T=c.K_.get(p);if(!T)return;c.K_.set(p,T.withResumeToken(je.EMPTY_BYTE_STRING,T.snapshotVersion)),p0(c,p);const I=new Rr(T.target,p,y,T.sequenceNumber);Om(c,I)}),c.remoteSyncer.applyRemoteEvent(g)}(r,n)}catch(s){st(Os,"Failed to raise snapshot:",s),await jc(r,s)}}async function jc(r,t,n){if(!Wa(t))throw t;r.W_.add(1),await zl(r),r.j_.set("Offline"),n||(n=()=>f0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{st(Os,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await hh(r)})}function y0(r,t){return t().catch(n=>jc(r,n,t))}async function fh(r){const t=St(r),n=xr(t);let s=t.U_.length>0?t.U_[t.U_.length-1].batchId:pm;for(;r1(t);)try{const l=await zR(t.localStore,s);if(l===null){t.U_.length===0&&n.P_();break}s=l.batchId,s1(t,l)}catch(l){await jc(t,l)}v0(t)&&E0(t)}function r1(r){return ks(r)&&r.U_.length<10}function s1(r,t){r.U_.push(t);const n=xr(r);n.c_()&&n.S_&&n.b_(t.mutations)}function v0(r){return ks(r)&&!xr(r).u_()&&r.U_.length>0}function E0(r){xr(r).start()}async function a1(r){xr(r).C_()}async function o1(r){const t=xr(r);for(const n of r.U_)t.b_(n.mutations)}async function l1(r,t,n){const s=r.U_.shift(),l=Am.from(s,t,n);await y0(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await fh(r)}async function u1(r,t){t&&xr(r).S_&&await async function(s,l){if(function(f){return Fw(f)&&f!==Y.ABORTED}(l.code)){const c=s.U_.shift();xr(s).h_(),await y0(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await fh(s)}}(r,t),v0(r)&&E0(r)}async function _v(r,t){const n=St(r);n.asyncQueue.verifyOperationInProgress(),st(Os,"RemoteStore received new credentials");const s=ks(n);n.W_.add(3),await zl(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await hh(n)}async function c1(r,t){const n=St(r);t?(n.W_.delete(2),await hh(n)):t||(n.W_.add(2),await zl(n),n.j_.set("Unknown"))}function to(r){return r.J_||(r.J_=function(n,s,l){const c=St(n);return c.M_(),new YR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{xo:t1.bind(null,r),No:e1.bind(null,r),Lo:n1.bind(null,r),p_:i1.bind(null,r)}),r.G_.push(async t=>{t?(r.J_.h_(),Vm(r)?Nm(r):r.j_.set("Unknown")):(await r.J_.stop(),_0(r))})),r.J_}function xr(r){return r.Y_||(r.Y_=function(n,s,l){const c=St(n);return c.M_(),new XR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:a1.bind(null,r),Lo:u1.bind(null,r),D_:o1.bind(null,r),v_:l1.bind(null,r)}),r.G_.push(async t=>{t?(r.Y_.h_(),await fh(r)):(await r.Y_.stop(),r.U_.length>0&&(st(Os,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(t,n,s,l,c){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Nr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,c){const f=Date.now()+s,g=new Mm(t,n,f,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(Y.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pm(r,t){if(ji("AsyncQueue",`${t}: ${r}`),Wa(r))return new at(Y.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{static emptySet(t){return new ka(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||ft.comparator(n.key,s.key):(n,s)=>ft.comparator(n.key,s.key),this.keyedMap=pl(),this.sortedSet=new re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,s)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof ka)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new ka;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(){this.Z_=new re(ft.comparator)}track(t){const n=t.doc.key,s=this.Z_.get(n);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(n):t.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:t.doc}):vt():this.Z_=this.Z_.insert(n,t)}X_(){const t=[];return this.Z_.inorderTraversal((n,s)=>{t.push(s)}),t}}class Ka{constructor(t,n,s,l,c,f,g,p,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,l,c){const f=[];return n.forEach(g=>{f.push({type:0,doc:g})}),new Ka(t,n,ka.emptySet(n),f,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&sh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class f1{constructor(){this.queries=vv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const l=St(n),c=l.queries;l.queries=vv(),c.forEach((f,g)=>{for(const p of g.ta)p.onError(s)})})(this,new at(Y.ABORTED,"Firestore shutting down"))}}function vv(){return new Ps(r=>BE(r),sh)}async function d1(r,t){const n=St(r);let s=3;const l=t.query;let c=n.queries.get(l);c?!c.na()&&t.ra()&&(s=2):(c=new h1,s=t.ra()?0:1);try{switch(s){case 0:c.ea=await n.onListen(l,!0);break;case 1:c.ea=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const g=Pm(f,`Initialization of query '${Va(t.query)}' failed`);return void t.onError(g)}n.queries.set(l,c),c.ta.push(t),t.sa(n.onlineState),c.ea&&t.oa(c.ea)&&Um(n)}async function m1(r,t){const n=St(r),s=t.query;let l=3;const c=n.queries.get(s);if(c){const f=c.ta.indexOf(t);f>=0&&(c.ta.splice(f,1),c.ta.length===0?l=t.ra()?0:1:!c.na()&&t.ra()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function g1(r,t){const n=St(r);let s=!1;for(const l of t){const c=l.query,f=n.queries.get(c);if(f){for(const g of f.ta)g.oa(l)&&(s=!0);f.ea=l}}s&&Um(n)}function p1(r,t,n){const s=St(r),l=s.queries.get(t);if(l)for(const c of l.ta)c.onError(n);s.queries.delete(t)}function Um(r){r.ia.forEach(t=>{t.next()})}var rm,Ev;(Ev=rm||(rm={}))._a="default",Ev.Cache="cache";class _1{constructor(t,n,s){this.query=t,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Ka(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.ua?this.la(t)&&(this.aa.next(t),n=!0):this.ha(t,this.onlineState)&&(this.Pa(t),n=!0),this.ca=t,n}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),n=!0),n}ha(t,n){if(!t.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}la(t){if(t.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(t){t=Ka.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==rm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(t){this.key=t}}class A0{constructor(t){this.key=t}}class y1{constructor(t,n){this.query=t,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Mt(),this.mutatedKeys=Mt(),this.ya=jE(t),this.wa=new ka(this.ya)}get Sa(){return this.fa}ba(t,n){const s=n?n.Da:new yv,l=n?n.wa:this.wa;let c=n?n.mutatedKeys:this.mutatedKeys,f=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((T,I)=>{const x=l.get(T),F=ah(this.query,I)?I:null,$=!!x&&this.mutatedKeys.has(x.key),et=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let Z=!1;x&&F?x.data.isEqual(F.data)?$!==et&&(s.track({type:3,doc:F}),Z=!0):this.va(x,F)||(s.track({type:2,doc:F}),Z=!0,(p&&this.ya(F,p)>0||y&&this.ya(F,y)<0)&&(g=!0)):!x&&F?(s.track({type:0,doc:F}),Z=!0):x&&!F&&(s.track({type:1,doc:x}),Z=!0,(p||y)&&(g=!0)),Z&&(F?(f=f.add(F),c=et?c.add(T):c.delete(T)):(f=f.delete(T),c=c.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),c=c.delete(T.key),s.track({type:1,doc:T})}return{wa:f,Da:s,ls:g,mutatedKeys:c}}va(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const c=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const f=t.Da.X_();f.sort((T,I)=>function(F,$){const et=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt()}};return et(F)-et($)}(T.type,I.type)||this.ya(T.doc,I.doc)),this.Ca(s),l=l!=null&&l;const g=n&&!l?this.Fa():[],p=this.pa.size===0&&this.current&&!l?1:0,y=p!==this.ga;return this.ga=p,f.length!==0||y?{snapshot:new Ka(this.query,t.wa,c,f,t.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new yv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=Mt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return t.forEach(s=>{this.pa.has(s)||n.push(new A0(s))}),this.pa.forEach(s=>{t.has(s)||n.push(new T0(s))}),n}Oa(t){this.fa=t.gs,this.pa=Mt();const n=this.ba(t.documents);return this.applyChanges(n,!0)}Na(){return Ka.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const km="SyncEngine";class v1{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class E1{constructor(t){this.key=t,this.Ba=!1}}class T1{constructor(t,n,s,l,c,f){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Ps(g=>BE(g),sh),this.qa=new Map,this.Qa=new Set,this.$a=new re(ft.comparator),this.Ua=new Map,this.Ka=new wm,this.Wa={},this.Ga=new Map,this.za=Fa.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function A1(r,t,n=!0){const s=C0(r);let l;const c=s.ka.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Na()):l=await S0(s,t,n,!0),l}async function S1(r,t){const n=C0(r);await S0(n,t,!0,!1)}async function S0(r,t,n,s){const l=await BR(r.localStore,ri(t)),c=l.targetId,f=r.sharedClientState.addLocalQueryTarget(c,n);let g;return s&&(g=await b1(r,t,c,f==="current",l.resumeToken)),r.isPrimaryClient&&n&&g0(r.remoteStore,l),g}async function b1(r,t,n,s,l){r.Ha=(I,x,F)=>async function(et,Z,lt,pt){let tt=Z.view.ba(lt);tt.ls&&(tt=await fv(et.localStore,Z.query,!1).then(({documents:N})=>Z.view.ba(N,tt)));const Et=pt&&pt.targetChanges.get(Z.targetId),ct=pt&&pt.targetMismatches.get(Z.targetId)!=null,bt=Z.view.applyChanges(tt,et.isPrimaryClient,Et,ct);return Av(et,Z.targetId,bt.Ma),bt.snapshot}(r,I,x,F);const c=await fv(r.localStore,t,!0),f=new y1(t,c.gs),g=f.ba(c.documents),p=Ll.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),y=f.applyChanges(g,r.isPrimaryClient,p);Av(r,n,y.Ma);const T=new v1(t,n,f);return r.ka.set(t,T),r.qa.has(n)?r.qa.get(n).push(t):r.qa.set(n,[t]),y.snapshot}async function w1(r,t,n){const s=St(r),l=s.ka.get(t),c=s.qa.get(l.targetId);if(c.length>1)return s.qa.set(l.targetId,c.filter(f=>!sh(f,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await nm(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Dm(s.remoteStore,l.targetId),sm(s,l.targetId)}).catch(Za)):(sm(s,l.targetId),await nm(s.localStore,l.targetId,!0))}async function R1(r,t){const n=St(r),s=n.ka.get(t),l=n.qa.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Dm(n.remoteStore,s.targetId))}async function I1(r,t,n){const s=P1(r);try{const l=await function(f,g){const p=St(f),y=be.now(),T=g.reduce((F,$)=>F.add($.key),Mt());let I,x;return p.persistence.runTransaction("Locally write mutations","readwrite",F=>{let $=qi(),et=Mt();return p.ds.getEntries(F,T).next(Z=>{$=Z,$.forEach((lt,pt)=>{pt.isValidDocument()||(et=et.add(lt))})}).next(()=>p.localDocuments.getOverlayedDocuments(F,$)).next(Z=>{I=Z;const lt=[];for(const pt of g){const tt=Bw(pt,I.get(pt.key).overlayedDocument);tt!=null&&lt.push(new Us(pt.key,tt,NE(tt.value.mapValue),Li.exists(!0)))}return p.mutationQueue.addMutationBatch(F,y,lt,g)}).next(Z=>{x=Z;const lt=Z.applyToLocalDocumentSet(I,et);return p.documentOverlayCache.saveOverlays(F,Z.batchId,lt)})}).then(()=>({batchId:x.batchId,changes:HE(I)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(f,g,p){let y=f.Wa[f.currentUser.toKey()];y||(y=new re(It)),y=y.insert(g,p),f.Wa[f.currentUser.toKey()]=y}(s,l.batchId,n),await Bl(s,l.changes),await fh(s.remoteStore)}catch(l){const c=Pm(l,"Failed to persist write");n.reject(c)}}async function b0(r,t){const n=St(r);try{const s=await xR(n.localStore,t);t.targetChanges.forEach((l,c)=>{const f=n.Ua.get(c);f&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?f.Ba=!0:l.modifiedDocuments.size>0?qt(f.Ba):l.removedDocuments.size>0&&(qt(f.Ba),f.Ba=!1))}),await Bl(n,s,t)}catch(s){await Za(s)}}function Tv(r,t,n){const s=St(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.ka.forEach((c,f)=>{const g=f.view.sa(t);g.snapshot&&l.push(g.snapshot)}),function(f,g){const p=St(f);p.onlineState=g;let y=!1;p.queries.forEach((T,I)=>{for(const x of I.ta)x.sa(g)&&(y=!0)}),y&&Um(p)}(s.eventManager,t),l.length&&s.La.p_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function C1(r,t,n){const s=St(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Ua.get(t),c=l&&l.key;if(c){let f=new re(ft.comparator);f=f.insert(c,Qe.newNoDocument(c,At.min()));const g=Mt().add(c),p=new uh(At.min(),new Map,new re(It),f,g);await b0(s,p),s.$a=s.$a.remove(c),s.Ua.delete(t),xm(s)}else await nm(s.localStore,t,!1).then(()=>sm(s,t,n)).catch(Za)}async function D1(r,t){const n=St(r),s=t.batch.batchId;try{const l=await kR(n.localStore,t);R0(n,s,null),w0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Bl(n,l)}catch(l){await Za(l)}}async function O1(r,t,n){const s=St(r);try{const l=await function(f,g){const p=St(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return p.mutationQueue.lookupMutationBatch(y,g).next(I=>(qt(I!==null),T=I.keys(),p.mutationQueue.removeMutationBatch(y,I))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>p.localDocuments.getDocuments(y,T))})}(s.localStore,t);R0(s,t,n),w0(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Bl(s,l)}catch(l){await Za(l)}}function w0(r,t){(r.Ga.get(t)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(t)}function R0(r,t,n){const s=St(r);let l=s.Wa[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(n?c.reject(n):c.resolve(),l=l.remove(t)),s.Wa[s.currentUser.toKey()]=l}}function sm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.qa.get(t))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(t),r.isPrimaryClient&&r.Ka.br(t).forEach(s=>{r.Ka.containsKey(s)||I0(r,s)})}function I0(r,t){r.Qa.delete(t.path.canonicalString());const n=r.$a.get(t);n!==null&&(Dm(r.remoteStore,n),r.$a=r.$a.remove(t),r.Ua.delete(n),xm(r))}function Av(r,t,n){for(const s of n)s instanceof T0?(r.Ka.addReference(s.key,t),N1(r,s)):s instanceof A0?(st(km,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,t),r.Ka.containsKey(s.key)||I0(r,s.key)):vt()}function N1(r,t){const n=t.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(st(km,"New document in limbo: "+n),r.Qa.add(s),xm(r))}function xm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const t=r.Qa.values().next().value;r.Qa.delete(t);const n=new ft(Jt.fromString(t)),s=r.za.next();r.Ua.set(s,new E1(n)),r.$a=r.$a.insert(n,s),g0(r.remoteStore,new Rr(ri(LE(n.path)),s,"TargetPurposeLimboResolution",nh.ae))}}async function Bl(r,t,n){const s=St(r),l=[],c=[],f=[];s.ka.isEmpty()||(s.ka.forEach((g,p)=>{f.push(s.Ha(p,t,n).then(y=>{var T;if((y||n)&&s.isPrimaryClient){const I=y?!y.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,I?"current":"not-current")}if(y){l.push(y);const I=Im.Yi(p.targetId,y);c.push(I)}}))}),await Promise.all(f),s.La.p_(l),await async function(p,y){const T=St(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>Q.forEach(y,x=>Q.forEach(x.Hi,F=>T.persistence.referenceDelegate.addReference(I,x.targetId,F)).next(()=>Q.forEach(x.Ji,F=>T.persistence.referenceDelegate.removeReference(I,x.targetId,F)))))}catch(I){if(!Wa(I))throw I;st(Cm,"Failed to update sequence numbers: "+I)}for(const I of y){const x=I.targetId;if(!I.fromCache){const F=T.Ts.get(x),$=F.snapshotVersion,et=F.withLastLimboFreeSnapshotVersion($);T.Ts=T.Ts.insert(x,et)}}}(s.localStore,c))}async function V1(r,t){const n=St(r);if(!n.currentUser.isEqual(t)){st(km,"User change. New user:",t.toKey());const s=await h0(n.localStore,t);n.currentUser=t,function(c,f){c.Ga.forEach(g=>{g.forEach(p=>{p.reject(new at(Y.CANCELLED,f))})}),c.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Bl(n,s.Rs)}}function M1(r,t){const n=St(r),s=n.Ua.get(t);if(s&&s.Ba)return Mt().add(s.key);{let l=Mt();const c=n.qa.get(t);if(!c)return l;for(const f of c){const g=n.ka.get(f);l=l.unionWith(g.view.Sa)}return l}}function C0(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=b0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=M1.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=C1.bind(null,t),t.La.p_=g1.bind(null,t.eventManager),t.La.Ja=p1.bind(null,t.eventManager),t}function P1(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=D1.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=O1.bind(null,t),t}class qc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=ch(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,n){return null}nu(t,n){return null}eu(t){return UR(this.persistence,new VR,t.initialUser,this.serializer)}Xa(t){return new c0(Rm.ri,this.serializer)}Za(t){return new qR}async terminate(){var t,n;(t=this.gcScheduler)===null||t===void 0||t.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qc.provider={build:()=>new qc};class U1 extends qc{constructor(t){super(),this.cacheSizeBytes=t}tu(t,n){qt(this.persistence.referenceDelegate instanceof Bc);const s=this.persistence.referenceDelegate.garbageCollector;return new _R(s,t.asyncQueue,n)}Xa(t){const n=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new c0(s=>Bc.ri(s,n),this.serializer)}}class am{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Tv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=V1.bind(null,this.syncEngine),await c1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new f1}()}createDatastore(t){const n=ch(t.databaseInfo.databaseId),s=function(c){return new QR(c)}(t.databaseInfo);return function(c,f,g,p){return new ZR(c,f,g,p)}(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return function(s,l,c,f,g){return new JR(s,l,c,f,g)}(this.localStore,this.datastore,t.asyncQueue,n=>Tv(this.syncEngine,n,0),function(){return gv.D()?new gv:new HR}())}createSyncEngine(t,n){return function(l,c,f,g,p,y,T){const I=new T1(l,c,f,g,p,y);return T&&(I.ja=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await async function(l){const c=St(l);st(Os,"RemoteStore shutting down."),c.W_.add(5),await zl(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}am.provider={build:()=>new am};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):ji("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,n){setTimeout(()=>{this.muted||t(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr="FirestoreClient";class x1{constructor(t,n,s,l,c){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Ke.UNAUTHENTICATED,this.clientId=TE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{st(Lr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(st(Lr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Nr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=Pm(n,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function kd(r,t){r.asyncQueue.verifyOperationInProgress(),st(Lr,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await h0(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=t}async function Sv(r,t){r.asyncQueue.verifyOperationInProgress();const n=await L1(r);st(Lr,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener(s=>_v(t.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>_v(t.remoteStore,l)),r._onlineComponents=t}async function L1(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(Lr,"Using user provided OfflineComponentProvider");try{await kd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(l){return l.name==="FirebaseError"?l.code===Y.FAILED_PRECONDITION||l.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;ja("Error using user provided cache. Falling back to memory cache: "+n),await kd(r,new qc)}}else st(Lr,"Using default OfflineComponentProvider"),await kd(r,new U1(void 0));return r._offlineComponents}async function D0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(Lr,"Using user provided OnlineComponentProvider"),await Sv(r,r._uninitializedComponentsProvider._online)):(st(Lr,"Using default OnlineComponentProvider"),await Sv(r,new am))),r._onlineComponents}function z1(r){return D0(r).then(t=>t.syncEngine)}async function B1(r){const t=await D0(r),n=t.eventManager;return n.onListen=A1.bind(null,t.syncEngine),n.onUnlisten=w1.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=S1.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=R1.bind(null,t.syncEngine),n}function j1(r,t,n={}){const s=new Nr;return r.asyncQueue.enqueueAndForget(async()=>function(c,f,g,p,y){const T=new k1({next:x=>{T.su(),f.enqueueAndForget(()=>m1(c,I)),x.fromCache&&p.source==="server"?y.reject(new at(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(x)},error:x=>y.reject(x)}),I=new _1(g,T,{includeMetadataChanges:!0,Ta:!0});return d1(c,I)}(await B1(r),r.asyncQueue,t,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(r,t,n){if(!n)throw new at(Y.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function q1(r,t,n,s){if(t===!0&&s===!0)throw new at(Y.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function wv(r){if(!ft.isDocumentKey(r))throw new at(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Rv(r){if(ft.isDocumentKey(r))throw new at(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function dh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":vt()}function Hc(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new at(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dh(r);throw new at(Y.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="firestore.googleapis.com",Iv=!0;class Cv{constructor(t){var n,s;if(t.host===void 0){if(t.ssl!==void 0)throw new at(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=V0,this.ssl=Iv}else this.host=t.host,this.ssl=(n=t.ssl)!==null&&n!==void 0?n:Iv;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=u0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<gR)throw new at(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}q1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=O0((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new at(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class mh{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Fb;switch(s.type){case"firstParty":return new Xb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new at(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=bv.get(n);s&&(st("ComponentProvider","Removing Datastore"),bv.delete(n),s.terminate())}(this),Promise.resolve()}}function H1(r,t,n,s={}){var l;const c=(r=Hc(r,mh))._getSettings(),f=Object.assign(Object.assign({},c),{emulatorOptions:r._getEmulatorOptions()}),g=`${t}:${n}`;c.host!==V0&&c.host!==g&&ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:g,ssl:!1,emulatorOptions:s});if(!Is(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,T;if(typeof s.mockUserToken=="string")y=s.mockUserToken,T=Ke.MOCK_USER;else{y=yS(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const I=s.mockUserToken.sub||s.mockUserToken.user_id;if(!I)throw new at(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Ke(I)}r._authCredentials=new Kb(new vE(y,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new xs(this.firestore,t,this._query)}}class Dn{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Dn(this.firestore,t,this._key)}}class Vr extends xs{constructor(t,n,s){super(t,n,LE(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Dn(this.firestore,null,new ft(t))}withConverter(t){return new Vr(this.firestore,t,this._path)}}function Ui(r,t,...n){if(r=Je(r),N0("collection","path",t),r instanceof mh){const s=Jt.fromString(t,...n);return Rv(s),new Vr(r,null,s)}{if(!(r instanceof Dn||r instanceof Vr))throw new at(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(t,...n));return Rv(s),new Vr(r.firestore,null,s)}}function G1(r,t,...n){if(r=Je(r),arguments.length===1&&(t=TE.newId()),N0("doc","path",t),r instanceof mh){const s=Jt.fromString(t,...n);return wv(s),new Dn(r,null,new ft(s))}{if(!(r instanceof Dn||r instanceof Vr))throw new at(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(t,...n));return wv(s),new Dn(r.firestore,r instanceof Vr?r.converter:null,new ft(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="AsyncQueue";class Ov{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new d0(this,"async_queue_retry"),this.Su=()=>{const s=Ud();s&&st(Dv,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=t;const n=Ud();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const n=Ud();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Nr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!Wa(t))throw t;st(Dv,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const n=this.bu.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const l=function(f){let g=f.message||"";return f.stack&&(g=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),g}(s);throw ji("INTERNAL UNHANDLED ERROR: ",l),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(t,n,s){this.Du(),this.wu.indexOf(t)>-1&&(n=0);const l=Mm.createAndSchedule(this,t,n,s,c=>this.Fu(c));return this.fu.push(l),l}Du(){this.gu&&vt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const n of this.fu)if(n.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const n=this.fu.indexOf(t);this.fu.splice(n,1)}}class Lm extends mh{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new Ov,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Ov(t),this._firestoreClient=void 0,await t}}}function F1(r,t){const n=typeof r=="object"?r:cE(),s=typeof r=="string"?r:Uc,l=mm(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=pS("firestore");c&&H1(l,...c)}return l}function M0(r){if(r._terminated)throw new at(Y.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||K1(r),r._firestoreClient}function K1(r){var t,n,s;const l=r._freezeSettings(),c=function(g,p,y,T){return new cw(g,p,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,O0(T.experimentalLongPollingOptions),T.useFetchStreams)}(r._databaseId,((t=r._app)===null||t===void 0?void 0:t.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new x1(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qa(je.fromBase64String(t))}catch(n){throw new at(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Qa(je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new at(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new at(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new at(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return It(this._lat,t._lat)||It(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(t){this._values=(t||[]).map(n=>n)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=/^__.*__$/;class Y1{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new Us(t,this.data,this.fieldMask,n,this.fieldTransforms):new xl(t,this.data,n,this.fieldTransforms)}}function P0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt()}}class Hm{constructor(t,n,s,l,c,f){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(t){return new Hm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.ku({path:s,Qu:!1});return l.$u(t),l}Uu(t){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(t),l=this.ku({path:s,Qu:!1});return l.Bu(),l}Ku(t){return this.ku({path:void 0,Qu:!0})}Wu(t){return Gc(t,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let t=0;t<this.path.length;t++)this.$u(this.path.get(t))}$u(t){if(t.length===0)throw this.Wu("Document fields must not be empty");if(P0(this.Lu)&&Q1.test(t))throw this.Wu('Document fields cannot begin and end with "__"')}}class X1{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||ch(t)}ju(t,n,s,l=!1){return new Hm({Lu:t,methodName:n,zu:s,path:Be.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function U0(r){const t=r._freezeSettings(),n=ch(r._databaseId);return new X1(r._databaseId,!!t.ignoreUndefinedProperties,n)}function $1(r,t,n,s,l,c={}){const f=r.ju(c.merge||c.mergeFields?2:0,t,n,l);L0("Data must be an object, but it was:",f,s);const g=k0(s,f);let p,y;if(c.merge)p=new kn(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){const T=[];for(const I of c.mergeFields){const x=W1(t,I,n);if(!f.contains(x))throw new at(Y.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);tI(T,x)||T.push(x)}p=new kn(T),y=f.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,y=f.fieldTransforms;return new Y1(new Cn(g),p,y)}class Gm extends Bm{_toFieldTransform(t){return new kw(t.path,new Ol)}isEqual(t){return t instanceof Gm}}function Z1(r,t,n,s=!1){return Fm(n,r.ju(s?4:3,t))}function Fm(r,t){if(x0(r=Je(r)))return L0("Unsupported field value:",t,r),k0(r,t);if(r instanceof Bm)return function(s,l){if(!P0(l.Lu))throw l.Wu(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.Qu&&t.Lu!==4)throw t.Wu("Nested arrays are not supported");return function(s,l){const c=[];let f=0;for(const g of s){let p=Fm(g,l.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}}(r,t)}return function(s,l){if((s=Je(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Mw(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=be.fromDate(s);return{timestampValue:zc(l.serializer,c)}}if(s instanceof be){const c=new be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:zc(l.serializer,c)}}if(s instanceof jm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Qa)return{bytesValue:n0(l.serializer,s._byteString)};if(s instanceof Dn){const c=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw l.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:bm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof qm)return function(f,g){return{mapValue:{fields:{[DE]:{stringValue:OE},[kc]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw g.Wu("VectorValues must only contain numeric values.");return Tm(g.serializer,y)})}}}}}}(s,l);throw l.Wu(`Unsupported field value: ${dh(s)}`)}(r,t)}function k0(r,t){const n={};return SE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ms(r,(s,l)=>{const c=Fm(l,t.qu(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function x0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof be||r instanceof jm||r instanceof Qa||r instanceof Dn||r instanceof Bm||r instanceof qm)}function L0(r,t,n){if(!x0(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const s=dh(n);throw s==="an object"?t.Wu(r+" a custom object"):t.Wu(r+" "+s)}}function W1(r,t,n){if((t=Je(t))instanceof zm)return t._internalPath;if(typeof t=="string")return z0(r,t);throw Gc("Field path arguments must be of type string or ",r,!1,void 0,n)}const J1=new RegExp("[~\\*/\\[\\]]");function z0(r,t,n){if(t.search(J1)>=0)throw Gc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new zm(...t.split("."))._internalPath}catch{throw Gc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Gc(r,t,n,s,l){const c=s&&!s.isEmpty(),f=l!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${s}`),f&&(p+=` in document ${l}`),p+=")"),new at(Y.INVALID_ARGUMENT,g+r+p)}function tI(r,t){return r.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(t,n,s,l,c){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new eI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(gh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eI extends B0{data(){return super.data()}}function gh(r,t){return typeof t=="string"?z0(r,t):t instanceof zm?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new at(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Km{}class j0 extends Km{}function q0(r,t,...n){let s=[];t instanceof Km&&s.push(t),s=s.concat(n),function(c){const f=c.filter(p=>p instanceof Qm).length,g=c.filter(p=>p instanceof ph).length;if(f>1||f>0&&g>0)throw new at(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)r=l._apply(r);return r}class ph extends j0{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new ph(t,n,s)}_apply(t){const n=this._parse(t);return H0(t._query,n),new xs(t.firestore,t.converter,$d(t._query,n))}_parse(t){const n=U0(t.firestore);return function(c,f,g,p,y,T,I){let x;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new at(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){Vv(I,T);const $=[];for(const et of I)$.push(Nv(p,c,et));x={arrayValue:{values:$}}}else x=Nv(p,c,I)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||Vv(I,T),x=Z1(g,f,I,T==="in"||T==="not-in");return ye.create(y,T,x)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function iI(r,t,n){const s=t,l=gh("where",r);return ph._create(l,s,n)}class Qm extends Km{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Qm(t,n)}_parse(t){const n=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Ln.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(l,c){let f=l;const g=c.getFlattenedFilters();for(const p of g)H0(f,p),f=$d(f,p)}(t._query,n),new xs(t.firestore,t.converter,$d(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ym extends j0{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Ym(t,n)}_apply(t){const n=function(l,c,f){if(l.startAt!==null)throw new at(Y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new at(Y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Dl(c,f)}(t._query,this._field,this._direction);return new xs(t.firestore,t.converter,function(l,c){const f=l.explicitOrderBy.concat([c]);return new Ja(l.path,l.collectionGroup,f,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(t._query,n))}}function rI(r,t="asc"){const n=t,s=gh("orderBy",r);return Ym._create(s,n)}function Nv(r,t,n){if(typeof(n=Je(n))=="string"){if(n==="")throw new at(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zE(t)&&n.indexOf("/")!==-1)throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(Jt.fromString(n));if(!ft.isDocumentKey(s))throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Qy(r,new ft(s))}if(n instanceof Dn)return Qy(r,n._key);throw new at(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dh(n)}.`)}function Vv(r,t){if(!Array.isArray(r)||r.length===0)throw new at(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function H0(r,t){const n=function(l,c){for(const f of l)for(const g of f.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new at(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new at(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class sI{convertValue(t,n="none"){switch(kr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return fe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Ur(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw vt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return Ms(t,(l,c)=>{s[l]=this.convertValue(c,n)}),s}convertVectorValue(t){var n,s,l;const c=(l=(s=(n=t.fields)===null||n===void 0?void 0:n[kc].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(f=>fe(f.doubleValue));return new qm(c)}convertGeoPoint(t){return new jm(fe(t.latitude),fe(t.longitude))}convertArray(t,n){return(t.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(t,n){switch(n){case"previous":const s=rh(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Rl(t));default:return null}}convertTimestamp(t){const n=Pr(t);return new be(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=Jt.fromString(t);qt(l0(s));const l=new Il(s.get(1),s.get(3)),c=new ft(s.popFirst(5));return l.isEqual(n)||ji(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(r,t,n){let s;return s=r?r.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class oI extends B0{constructor(t,n,s,l,c,f){super(t,n,s,l,f),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Ic(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(gh("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Ic extends oI{data(t={}){return super.data(t)}}class lI{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Ec(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(s=>{t.call(n,new Ic(this._firestore,this._userDataWriter,s.key,s,new Ec(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new at(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(g=>{const p=new Ic(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Ec(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new Ic(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Ec(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,T=-1;return g.type!==0&&(y=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),T=f.indexOf(g.doc.key)),{type:uI(g.type),doc:p,oldIndex:y,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function uI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt()}}class cI extends sI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qa(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Dn(this.firestore,null,n)}}function Al(r){r=Hc(r,xs);const t=Hc(r.firestore,Lm),n=M0(t),s=new cI(t);return nI(r._query),j1(n,r._query).then(l=>new lI(t,s,r,l))}function Fc(r,t){const n=Hc(r.firestore,Lm),s=G1(r),l=aI(r.converter,t);return hI(n,[$1(U0(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,Li.exists(!1))]).then(()=>s)}function hI(r,t){return function(s,l){const c=new Nr;return s.asyncQueue.enqueueAndForget(async()=>I1(await z1(s),l,c)),c.promise}(M0(r),t)}function Kc(){return new Gm("serverTimestamp")}(function(t,n=!0){(function(l){$a=l})(Xa),Ba(new Cs("firestore",(s,{instanceIdentifier:l,options:c})=>{const f=s.getProvider("app").getImmediate(),g=new Lm(new Qb(s.getProvider("auth-internal")),new $b(f,s.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new at(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Il(y.options.projectId,T)}(f,l),f);return c=Object.assign({useFetchStreams:n},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Dr(Uy,ky,t),Dr(Uy,ky,"esm2017")})();function Xm(r,t){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&t.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(r);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(r,s[l])&&(n[s[l]]=r[s[l]]);return n}function G0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fI=G0,F0=new Ul("auth","Firebase",G0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc=new fm("@firebase/auth");function dI(r,...t){Qc.logLevel<=Vt.WARN&&Qc.warn(`Auth (${Xa}): ${r}`,...t)}function Cc(r,...t){Qc.logLevel<=Vt.ERROR&&Qc.error(`Auth (${Xa}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(r,...t){throw $m(r,...t)}function ai(r,...t){return $m(r,...t)}function K0(r,t,n){const s=Object.assign(Object.assign({},fI()),{[t]:n});return new Ul("auth","Firebase",s).create(t,{appName:r.name})}function zi(r){return K0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $m(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return F0.create(r,...t)}function _t(r,t,...n){if(!r)throw $m(t,...n)}function ki(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Cc(t),new Error(t)}function Hi(r,t){r||ki(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function mI(){return Mv()==="http:"||Mv()==="https:"}function Mv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mI()||AS()||"connection"in navigator)?navigator.onLine:!0}function pI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(t,n){this.shortDelay=t,this.longDelay=n,Hi(n>t,"Short delay should be less than long delay!"),this.isMobile=vS()||SS()}get(){return gI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(r,t){Hi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],vI=new jl(3e4,6e4);function zr(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}async function Br(r,t,n,s,l={}){return Y0(r,l,async()=>{let c={},f={};s&&(t==="GET"?f=s:c={body:JSON.stringify(s)});const g=kl(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:t,headers:p},c);return TS()||(y.referrerPolicy="no-referrer"),Q0.fetch()(await X0(r,r.config.apiHost,n,g),y)})}async function Y0(r,t,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},_I),t);try{const l=new TI(r),c=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw Tc(r,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const g=c.ok?f.errorMessage:f.error.message,[p,y]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Tc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Tc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Tc(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw K0(r,T,y);zn(r,T)}}catch(l){if(l instanceof Gi)throw l;zn(r,"network-request-failed",{message:String(l)})}}async function ql(r,t,n,s,l={}){const c=await Br(r,t,n,s,l);return"mfaPendingCredential"in c&&zn(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function X0(r,t,n,s){const l=`${t}${n}?${s}`,c=r,f=c.config.emulator?Zm(r.config,l):`${r.config.apiScheme}://${l}`;return yI.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}function EI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ai(this.auth,"network-request-failed")),vI.get())})}}function Tc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=ai(r,t,s);return l.customData._tokenResponse=n,l}function Pv(r){return r!==void 0&&r.enterprise!==void 0}class AI{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===t)return EI(n.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function SI(r,t){return Br(r,"GET","/v2/recaptchaConfig",zr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(r,t){return Br(r,"POST","/v1/accounts:delete",t)}async function Yc(r,t){return Br(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function wI(r,t=!1){const n=Je(r),s=await n.getIdToken(t),l=Wm(s);_t(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,f=c==null?void 0:c.sign_in_provider;return{claims:l,token:s,authTime:Sl(xd(l.auth_time)),issuedAtTime:Sl(xd(l.iat)),expirationTime:Sl(xd(l.exp)),signInProvider:f||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function xd(r){return Number(r)*1e3}function Wm(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Cc("JWT malformed, contained fewer than 3 sections"),null;try{const l=iE(n);return l?JSON.parse(l):(Cc("Failed to decode base64 JWT payload"),null)}catch(l){return Cc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Uv(r){const t=Wm(r);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Gi&&RI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function RI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sl(this.lastLoginAt),this.creationTime=Sl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xc(r){var t;const n=r.auth,s=await r.getIdToken(),l=await Ml(r,Yc(n,{idToken:s}));_t(l==null?void 0:l.users.length,n,"internal-error");const c=l.users[0];r._notifyReloadListener(c);const f=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?$0(c.providerUserInfo):[],g=DI(r.providerData,f),p=r.isAnonymous,y=!(r.email&&c.passwordHash)&&!(g!=null&&g.length),T=p?y:!1,I={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:g,metadata:new lm(c.createdAt,c.lastLoginAt),isAnonymous:T};Object.assign(r,I)}async function CI(r){const t=Je(r);await Xc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function DI(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function $0(r){return r.map(t=>{var{providerId:n}=t,s=Xm(t,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OI(r,t){const n=await Y0(r,{},async()=>{const s=kl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,f=await X0(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",Q0.fetch()(f,{method:"POST",headers:g,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function NI(r,t){return Br(r,"POST","/v2/accounts:revokeToken",zr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Uv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const n=Uv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:c}=await OI(t,n);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:c}=n,f=new xa;return s&&(_t(typeof s=="string","internal-error",{appName:t}),f.refreshToken=s),l&&(_t(typeof l=="string","internal-error",{appName:t}),f.accessToken=l),c&&(_t(typeof c=="number","internal-error",{appName:t}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new xa,this.toJSON())}_performRefresh(){return ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(r,t){_t(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class xn{constructor(t){var{uid:n,auth:s,stsTokenManager:l}=t,c=Xm(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new II(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new lm(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const n=await Ml(this,this.stsTokenManager.getToken(this.auth,t));return _t(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return wI(this,t)}reload(){return CI(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new xn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Xc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(In(this.auth.app))return Promise.reject(zi(this.auth));const t=await this.getIdToken();return await Ml(this,bI(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var s,l,c,f,g,p,y,T;const I=(s=n.displayName)!==null&&s!==void 0?s:void 0,x=(l=n.email)!==null&&l!==void 0?l:void 0,F=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,$=(f=n.photoURL)!==null&&f!==void 0?f:void 0,et=(g=n.tenantId)!==null&&g!==void 0?g:void 0,Z=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,lt=(y=n.createdAt)!==null&&y!==void 0?y:void 0,pt=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:tt,emailVerified:Et,isAnonymous:ct,providerData:bt,stsTokenManager:N}=n;_t(tt&&N,t,"internal-error");const S=xa.fromJSON(this.name,N);_t(typeof tt=="string",t,"internal-error"),Er(I,t.name),Er(x,t.name),_t(typeof Et=="boolean",t,"internal-error"),_t(typeof ct=="boolean",t,"internal-error"),Er(F,t.name),Er($,t.name),Er(et,t.name),Er(Z,t.name),Er(lt,t.name),Er(pt,t.name);const w=new xn({uid:tt,auth:t,email:x,emailVerified:Et,displayName:I,isAnonymous:ct,photoURL:$,phoneNumber:F,tenantId:et,stsTokenManager:S,createdAt:lt,lastLoginAt:pt});return bt&&Array.isArray(bt)&&(w.providerData=bt.map(O=>Object.assign({},O))),Z&&(w._redirectEventId=Z),w}static async _fromIdTokenResponse(t,n,s=!1){const l=new xa;l.updateFromServerResponse(n);const c=new xn({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Xc(c),c}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];_t(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?$0(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(c!=null&&c.length),g=new xa;g.updateFromIdToken(s);const p=new xn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:f}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new lm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=new Map;function xi(r){Hi(r instanceof Function,"Expected a class definition");let t=kv.get(r);return t?(Hi(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,kv.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Z0.type="NONE";const xv=Z0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dc(r,t,n){return`firebase:${r}:${t}:${n}`}class La{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Dc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Dc("persistence",l.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Yc(this.auth,{idToken:t}).catch(()=>{});return n?xn._fromGetAccountInfoResponse(this.auth,n,t):null}return xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new La(xi(xv),t,s);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||xi(xv);const f=Dc(s,t.config.apiKey,t.name);let g=null;for(const y of n)try{const T=await y._get(f);if(T){let I;if(typeof T=="string"){const x=await Yc(t,{idToken:T}).catch(()=>{});if(!x)break;I=await xn._fromGetAccountInfoResponse(t,x,T)}else I=xn._fromJSON(t,T);y!==c&&(g=I),c=y;break}}catch{}const p=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new La(c,t,s):(c=p[0],g&&await c._set(f,g.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(f)}catch{}})),new La(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(eT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(W0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(iT(t))return"Blackberry";if(rT(t))return"Webos";if(J0(t))return"Safari";if((t.includes("chrome/")||tT(t))&&!t.includes("edge/"))return"Chrome";if(nT(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function W0(r=Ye()){return/firefox\//i.test(r)}function J0(r=Ye()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function tT(r=Ye()){return/crios\//i.test(r)}function eT(r=Ye()){return/iemobile/i.test(r)}function nT(r=Ye()){return/android/i.test(r)}function iT(r=Ye()){return/blackberry/i.test(r)}function rT(r=Ye()){return/webos/i.test(r)}function Jm(r=Ye()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function VI(r=Ye()){var t;return Jm(r)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function MI(){return bS()&&document.documentMode===10}function sT(r=Ye()){return Jm(r)||nT(r)||rT(r)||iT(r)||/windows phone/i.test(r)||eT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(r,t=[]){let n;switch(r){case"Browser":n=Lv(Ye());break;case"Worker":n=`${Lv(Ye())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=c=>new Promise((f,g)=>{try{const p=t(c);f(p)}catch(p){g(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UI(r,t={}){return Br(r,"GET","/v2/passwordPolicy",zr(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI=6;class xI{constructor(t){var n,s,l,c;const f=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:kI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,s,l,c,f,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,p),this.validatePasswordCharacterOptions(t,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zv(this),this.idTokenSubscription=new zv(this),this.beforeStateQueue=new PI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=F0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=xi(n)),this._initializationPromise=this.queue(async()=>{var s,l,c;if(!this._deleted&&(this.persistenceManager=await La.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Yc(this,{idToken:t}),s=await xn._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var n;if(In(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===g)&&(p!=null&&p.user)&&(l=p.user,c=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Xc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=pI()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(In(this.app))return Promise.reject(zi(this));const n=t?Je(t):null;return n&&_t(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return In(this.app)?Promise.reject(zi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return In(this.app)?Promise.reject(zi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await UI(this),n=new xI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ul("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await NI(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&xi(t)||this._popupRedirectResolver;_t(n,this,"argument-error"),this.redirectPersistenceManager=await La.create(this,[xi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(g,this,"internal-error"),g.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,l);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=aT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var t;if(In(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&dI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ls(r){return Je(r)}class zv{constructor(t){this.auth=t,this.observer=null,this.addObserver=VS(n=>this.observer=n)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _h={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zI(r){_h=r}function oT(r){return _h.loadJS(r)}function BI(){return _h.recaptchaEnterpriseScript}function jI(){return _h.gapiScript}function qI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class HI{constructor(){this.enterprise=new GI}ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}class GI{ready(t){t()}execute(t,n){return Promise.resolve("token")}render(t,n){return""}}const FI="recaptcha-enterprise",lT="NO_RECAPTCHA";class KI{constructor(t){this.type=FI,this.auth=Ls(t)}async verify(t="verify",n=!1){async function s(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,g)=>{SI(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const y=new AI(p);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,f(y.siteKey)}}).catch(p=>{g(p)})})}function l(c,f,g){const p=window.grecaptcha;Pv(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:t}).then(y=>{f(y)}).catch(()=>{f(lT)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HI().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{s(this.auth).then(g=>{if(!n&&Pv(window.grecaptcha))l(g,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=BI();p.length!==0&&(p+=g),oT(p).then(()=>{l(g,c,f)}).catch(y=>{f(y)})}}).catch(g=>{f(g)})})}}async function Bv(r,t,n,s=!1,l=!1){const c=new KI(r);let f;if(l)f=lT;else try{f=await c.verify(n)}catch{f=await c.verify(n,!0)}const g=Object.assign({},t);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,y=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return s?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function um(r,t,n,s,l){var c;if(!((c=r._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await Bv(r,t,n,n==="getOobCode");return s(r,f)}else return s(r,t).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await Bv(r,t,n,n==="getOobCode");return s(r,g)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(r,t){const n=mm(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),c=n.getOptions();if(Is(c,t??{}))return l;zn(l,"already-initialized")}return n.initialize({options:t})}function YI(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(xi);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function XI(r,t,n){const s=Ls(r);_t(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=uT(t),{host:f,port:g}=$I(t),p=g===null?"":`:${g}`,y={url:`${c}//${f}${p}/`},T=Object.freeze({host:f,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){_t(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_t(Is(y,s.config.emulator)&&Is(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,ZI()}function uT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function $I(r){const t=uT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:jv(s.substr(c.length+1))}}else{const[c,f]=s.split(":");return{host:c,port:jv(f)}}}function jv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function ZI(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ki("not implemented")}_getIdTokenResponse(t){return ki("not implemented")}_linkToIdToken(t,n){return ki("not implemented")}_getReauthenticationResolver(t){return ki("not implemented")}}async function WI(r,t){return Br(r,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JI(r,t){return ql(r,"POST","/v1/accounts:signInWithPassword",zr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(r,t){return ql(r,"POST","/v1/accounts:signInWithEmailLink",zr(r,t))}async function e2(r,t){return ql(r,"POST","/v1/accounts:signInWithEmailLink",zr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl extends tg{constructor(t,n,s,l=null){super("password",s),this._email=t,this._password=n,this._tenantId=l}static _fromEmailAndPassword(t,n){return new Pl(t,n,"password")}static _fromEmailAndCode(t,n,s=null){return new Pl(t,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return um(t,n,"signInWithPassword",JI);case"emailLink":return t2(t,{email:this._email,oobCode:this._password});default:zn(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return um(t,s,"signUpPassword",WI);case"emailLink":return e2(t,{idToken:n,email:this._email,oobCode:this._password});default:zn(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function za(r,t){return ql(r,"POST","/v1/accounts:signInWithIdp",zr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2="http://localhost";class Ns extends tg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Ns(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=n,c=Xm(n,["providerId","signInMethod"]);if(!s||!l)return null;const f=new Ns(s,l);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return za(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,za(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,za(t,n)}buildRequest(){const t={requestUri:n2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=kl(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function r2(r){const t=dl(ml(r)).link,n=t?dl(ml(t)).deep_link_id:null,s=dl(ml(r)).deep_link_id;return(s?dl(ml(s)).link:null)||s||n||t||r}class eg{constructor(t){var n,s,l,c,f,g;const p=dl(ml(t)),y=(n=p.apiKey)!==null&&n!==void 0?n:null,T=(s=p.oobCode)!==null&&s!==void 0?s:null,I=i2((l=p.mode)!==null&&l!==void 0?l:null);_t(y&&T&&I,"argument-error"),this.apiKey=y,this.operation=I,this.code=T,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(g=p.tenantId)!==null&&g!==void 0?g:null}static parseLink(t){const n=r2(t);try{return new eg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.providerId=eo.PROVIDER_ID}static credential(t,n){return Pl._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const s=eg.parseLink(n);return _t(s,"argument-error"),Pl._fromEmailAndCode(t,s.code,s.tenantId)}}eo.PROVIDER_ID="password";eo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";eo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends cT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends Hl{constructor(){super("facebook.com")}static credential(t){return Ns._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Tr.credential(t.oauthAccessToken)}catch{return null}}}Tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Tr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends Hl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Ns._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return Ar.credentialFromTaggedObject(t)}static credentialFromError(t){return Ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return Ar.credential(n,s)}catch{return null}}}Ar.GOOGLE_SIGN_IN_METHOD="google.com";Ar.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends Hl{constructor(){super("github.com")}static credential(t){return Ns._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Sr.credentialFromTaggedObject(t)}static credentialFromError(t){return Sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Sr.credential(t.oauthAccessToken)}catch{return null}}}Sr.GITHUB_SIGN_IN_METHOD="github.com";Sr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends Hl{constructor(){super("twitter.com")}static credential(t,n){return Ns._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return br.credentialFromTaggedObject(t)}static credentialFromError(t){return br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return br.credential(n,s)}catch{return null}}}br.TWITTER_SIGN_IN_METHOD="twitter.com";br.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s2(r,t){return ql(r,"POST","/v1/accounts:signUp",zr(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const c=await xn._fromIdTokenResponse(t,s,l),f=qv(s);return new Vs({user:c,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=qv(s);return new Vs({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function qv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends Gi{constructor(t,n,s,l){var c;super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,$c.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new $c(t,n,s,l)}}function hT(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?$c._fromErrorAndOperation(r,c,t,s):c})}async function a2(r,t,n=!1){const s=await Ml(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Vs._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o2(r,t,n=!1){const{auth:s}=r;if(In(s.app))return Promise.reject(zi(s));const l="reauthenticate";try{const c=await Ml(r,hT(s,l,t,r),n);_t(c.idToken,s,"internal-error");const f=Wm(c.idToken);_t(f,s,"internal-error");const{sub:g}=f;return _t(r.uid===g,s,"user-mismatch"),Vs._forOperation(r,l,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&zn(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fT(r,t,n=!1){if(In(r.app))return Promise.reject(zi(r));const s="signIn",l=await hT(r,s,t),c=await Vs._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(c.user),c}async function l2(r,t){return fT(Ls(r),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dT(r){const t=Ls(r);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function u2(r,t,n){if(In(r.app))return Promise.reject(zi(r));const s=Ls(r),f=await um(s,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",s2).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&dT(r),p}),g=await Vs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(g.user),g}function c2(r,t,n){return In(r.app)?Promise.reject(zi(r)):l2(Je(r),eo.credential(t,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&dT(r),s})}function h2(r,t,n,s){return Je(r).onIdTokenChanged(t,n,s)}function f2(r,t,n){return Je(r).beforeAuthStateChanged(t,n)}function d2(r,t,n,s){return Je(r).onAuthStateChanged(t,n,s)}function m2(r){return Je(r).signOut()}const Zc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zc,"1"),this.storage.removeItem(Zc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=1e3,p2=10;class gT extends mT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},c=this.storage.getItem(s);MI()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,p2):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},g2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}gT.type="LOCAL";const _2=gT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT extends mT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}pT.type="SESSION";const _T=pT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new yh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:c}=n.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(f).map(async y=>y(n.origin,c)),p=await y2(g);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,f;return new Promise((g,p)=>{const y=ng("",20);l.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(I){const x=I;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(x.data.response);break;default:clearTimeout(T),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(){return window}function E2(r){oi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(){return typeof oi().WorkerGlobalScope<"u"&&typeof oi().importScripts=="function"}async function T2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function A2(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function S2(){return yT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="firebaseLocalStorageDb",b2=1,Wc="firebaseLocalStorage",ET="fbase_key";class Gl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vh(r,t){return r.transaction([Wc],t?"readwrite":"readonly").objectStore(Wc)}function w2(){const r=indexedDB.deleteDatabase(vT);return new Gl(r).toPromise()}function cm(){const r=indexedDB.open(vT,b2);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Wc,{keyPath:ET})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Wc)?t(s):(s.close(),await w2(),t(await cm()))})})}async function Hv(r,t,n){const s=vh(r,!0).put({[ET]:t,value:n});return new Gl(s).toPromise()}async function R2(r,t){const n=vh(r,!1).get(t),s=await new Gl(n).toPromise();return s===void 0?null:s.value}function Gv(r,t){const n=vh(r,!0).delete(t);return new Gl(n).toPromise()}const I2=800,C2=3;class TT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cm(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>C2)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yh._getInstance(S2()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await T2(),!this.activeServiceWorker)return;this.sender=new v2(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||A2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await cm();return await Hv(t,Zc,"1"),await Gv(t,Zc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Hv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>R2(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Gv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=vh(l,!1).getAll();return new Gl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),I2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TT.type="LOCAL";const D2=TT;new jl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(r,t){return t?xi(t):(_t(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig extends tg{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return za(t,this._buildIdpRequest())}_linkToIdToken(t,n){return za(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return za(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function N2(r){return fT(r.auth,new ig(r),r.bypassAuthState)}function V2(r){const{auth:t,user:n}=r;return _t(n,t,"internal-error"),o2(n,new ig(r),r.bypassAuthState)}async function M2(r){const{auth:t,user:n}=r;return _t(n,t,"internal-error"),a2(n,new ig(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(t,n,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:c,error:f,type:g}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return N2;case"linkViaPopup":case"linkViaRedirect":return M2;case"reauthViaPopup":case"reauthViaRedirect":return V2;default:zn(this.auth,"internal-error")}}resolve(t){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=new jl(2e3,1e4);class Ua extends AT{constructor(t,n,s,l,c){super(t,n,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Ua.currentPopupAction&&Ua.currentPopupAction.cancel(),Ua.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){Hi(this.filter.length===1,"Popup operations only handle one event");const t=ng();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ua.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,P2.get())};t()}}Ua.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="pendingRedirect",Oc=new Map;class k2 extends AT{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Oc.get(this.auth._key());if(!t){try{const s=await x2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Oc.set(this.auth._key(),t)}return this.bypassAuthState||Oc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function x2(r,t){const n=B2(t),s=z2(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function L2(r,t){Oc.set(r._key(),t)}function z2(r){return xi(r._redirectPersistence)}function B2(r){return Dc(U2,r.config.apiKey,r.name)}async function j2(r,t,n=!1){if(In(r.app))return Promise.reject(zi(r));const s=Ls(r),l=O2(s,t),f=await new k2(s,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2=10*60*1e3;class H2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!G2(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!ST(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(ai(this.auth,l))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=q2&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fv(t))}saveEventToCache(t){this.cachedEventUids.add(Fv(t)),this.lastProcessedEventTime=Date.now()}}function Fv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function ST({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function G2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ST(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F2(r,t={}){return Br(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q2=/^https?/;async function Y2(r){if(r.config.emulator)return;const{authorizedDomains:t}=await F2(r);for(const n of t)try{if(X2(n))return}catch{}zn(r,"unauthorized-domain")}function X2(r){const t=om(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!Q2.test(n))return!1;if(K2.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=new jl(3e4,6e4);function Kv(){const r=oi().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function Z2(r){return new Promise((t,n)=>{var s,l,c;function f(){Kv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Kv(),n(ai(r,"network-request-failed"))},timeout:$2.get()})}if(!((l=(s=oi().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((c=oi().gapi)===null||c===void 0)&&c.load)f();else{const g=qI("iframefcb");return oi()[g]=()=>{gapi.load?f():n(ai(r,"network-request-failed"))},oT(`${jI()}?onload=${g}`).catch(p=>n(p))}}).catch(t=>{throw Nc=null,t})}let Nc=null;function W2(r){return Nc=Nc||Z2(r),Nc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=new jl(5e3,15e3),tC="__/auth/iframe",eC="emulator/auth/iframe",nC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},iC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rC(r){const t=r.config;_t(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Zm(t,eC):`https://${r.config.authDomain}/${tC}`,s={apiKey:t.apiKey,appName:r.name,v:Xa},l=iC.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${n}?${kl(s).slice(1)}`}async function sC(r){const t=await W2(r),n=oi().gapi;return _t(n,r,"internal-error"),t.open({where:document.body,url:rC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nC,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const f=ai(r,"network-request-failed"),g=oi().setTimeout(()=>{c(f)},J2.get());function p(){oi().clearTimeout(g),l(s)}s.ping(p).then(p,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},oC=500,lC=600,uC="_blank",cC="http://localhost";class Qv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hC(r,t,n,s=oC,l=lC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const p=Object.assign(Object.assign({},aC),{width:s.toString(),height:l.toString(),top:c,left:f}),y=Ye().toLowerCase();n&&(g=tT(y)?uC:n),W0(y)&&(t=t||cC,p.scrollbars="yes");const T=Object.entries(p).reduce((x,[F,$])=>`${x}${F}=${$},`,"");if(VI(y)&&g!=="_self")return fC(t||"",g),new Qv(null);const I=window.open(t||"",g,T);_t(I,r,"popup-blocked");try{I.focus()}catch{}return new Qv(I)}function fC(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC="__/auth/handler",mC="emulator/auth/handler",gC=encodeURIComponent("fac");async function Yv(r,t,n,s,l,c){_t(r.config.authDomain,r,"auth-domain-config-required"),_t(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Xa,eventId:l};if(t instanceof cT){t.setDefaultLanguage(r.languageCode),f.providerId=t.providerId||"",NS(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,I]of Object.entries({}))f[T]=I}if(t instanceof Hl){const T=t.getScopes().filter(I=>I!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const g=f;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const p=await r._getAppCheckToken(),y=p?`#${gC}=${encodeURIComponent(p)}`:"";return`${pC(r)}?${kl(g).slice(1)}${y}`}function pC({config:r}){return r.emulator?Zm(r,mC):`https://${r.authDomain}/${dC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld="webStorageSupport";class _C{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_T,this._completeRedirectFn=j2,this._overrideRedirectResult=L2}async _openPopup(t,n,s,l){var c;Hi((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const f=await Yv(t,n,s,om(),l);return hC(t,f,ng())}async _openRedirect(t,n,s,l){await this._originValidation(t);const c=await Yv(t,n,s,om(),l);return E2(c),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:c}=this.eventManagers[n];return l?Promise.resolve(l):(Hi(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await sC(t),s=new H2(t);return n.register("authEvent",l=>(_t(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Ld,{type:Ld},l=>{var c;const f=(c=l==null?void 0:l[0])===null||c===void 0?void 0:c[Ld];f!==void 0&&n(!!f),zn(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Y2(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return sT()||J0()||Jm()}}const yC=_C;var Xv="@firebase/auth",$v="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TC(r){Ba(new Cs("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=s.options;_t(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aT(r)},y=new LI(s,l,c,p);return YI(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Ba(new Cs("auth-internal",t=>{const n=Ls(t.getProvider("auth").getImmediate());return(s=>new vC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dr(Xv,$v,EC(r)),Dr(Xv,$v,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=5*60,SC=aE("authIdTokenMaxAge")||AC;let Zv=null;const bC=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>SC)return;const l=n==null?void 0:n.token;Zv!==l&&(Zv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function wC(r=cE()){const t=mm(r,"auth");if(t.isInitialized())return t.getImmediate();const n=QI(r,{popupRedirectResolver:yC,persistence:[D2,_2,_T]}),s=aE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const f=bC(c.toString());f2(n,f,()=>f(n.currentUser)),h2(n,g=>f(g))}}const l=rE("auth");return l&&XI(n,`http://${l}`),n}function RC(){var r,t;return(t=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&t!==void 0?t:document}zI({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=ai("internal-error");c.customData=l,n(c)},s.type="text/javascript",s.charset="UTF-8",RC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TC("Browser");const IC={apiKey:"AIzaSyD2q7PxQoZykMIih6-8fCeNhxBjPxVpBpc",authDomain:"linkedgoals-d7053.firebaseapp.com",projectId:"linkedgoals-d7053",storageBucket:"linkedgoals-d7053.firebasestorage.app",messagingSenderId:"753801883214",appId:"1:753801883214:web:cf46567024a37452a65d1f"},bT=uE(IC),Ya=wC(bT),wr=F1(bT);function CC({onAuth:r}){const[t,n]=ie.useState(""),[s,l]=ie.useState(""),[c,f]=ie.useState(!1),[g,p]=ie.useState(""),y=async()=>{try{let T;c?T=await u2(Ya,t,s):T=await c2(Ya,t,s),r(T.user)}catch(T){p(T.message)}};return rt.jsxs("div",{style:{maxWidth:"400px",margin:"2rem auto",textAlign:"center"},children:[rt.jsx("h2",{children:c?"Register":"Login"}),rt.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:T=>n(T.target.value),style:{padding:"0.5rem",marginBottom:"1rem",width:"100%"}}),rt.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:T=>l(T.target.value),style:{padding:"0.5rem",marginBottom:"1rem",width:"100%"}}),rt.jsx("button",{onClick:y,style:{padding:"0.5rem 1rem",marginBottom:"1rem"},children:c?"Create Account":"Log In"}),rt.jsx("div",{children:rt.jsx("button",{onClick:()=>f(!c),style:{fontSize:"0.9rem"},children:c?"Already have an account? Log in":"New? Create an account"})}),g&&rt.jsx("p",{style:{color:"red",marginTop:"1rem"},children:g})]})}async function DC(r,t){var l;const n=Ui(wr,"users",r,"checkins"),s=await Fc(n,{circle:t.circle,message:t.message,goalId:((l=t.goal)==null?void 0:l.name)||null,createdAt:Kc()});if(t.goal){const c=Ui(s,"goal");await Fc(c,{...t.goal,createdAt:Kc()})}}console.log(" Using the NEW CheckinForm with dropdowns!");const Wv=[{name:"Career",icon:""},{name:"Leadership",icon:""},{name:"Productivity",icon:""}];function OC({goals:r,onCheckinSaved:t}){const[n,s]=ie.useState(Wv[0].name),[l,c]=ie.useState(""),[f,g]=ie.useState(""),[p,y]=ie.useState(""),[T,I]=ie.useState(""),[x,F]=ie.useState(!1),[$,et]=ie.useState(null),Z=async lt=>{lt.preventDefault(),et("saving");const pt=Ya.currentUser;if(!pt)return et("error"),console.error("User not signed in.");const tt=r.find(ct=>ct.id===f),Et={circle:n,message:l,goalId:(tt==null?void 0:tt.id)||null,goal:tt?{name:tt.name,description:p,dueDate:T||void 0,completed:x}:void 0};try{await DC(pt.uid,Et),et("success"),c(""),g(""),y(""),I(""),F(!1),t&&t()}catch(ct){console.error("Error saving check-in:",ct),et("error")}};return rt.jsxs("form",{onSubmit:Z,className:"space-y-4 p-4 max-w-md mx-auto",children:[rt.jsx("h2",{className:"text-xl font-semibold",children:"Daily Check-In"}),rt.jsx("select",{value:n,onChange:lt=>s(lt.target.value),className:"w-full p-2 border rounded",children:Wv.map(({name:lt,icon:pt})=>rt.jsxs("option",{value:lt,children:[pt," ",lt]},lt))}),rt.jsx("textarea",{value:l,onChange:lt=>c(lt.target.value),placeholder:"What's on your mind today?",rows:4,className:"w-full p-2 border rounded",required:!0}),rt.jsxs("div",{className:"bg-gray-50 p-3 rounded border",children:[rt.jsx("h3",{className:"font-medium",children:"Link to a Goal (optional)"}),rt.jsxs("select",{value:f,onChange:lt=>g(lt.target.value),className:"w-full p-2 border rounded mt-2",children:[rt.jsx("option",{value:"",children:"None"}),r.map(lt=>rt.jsxs("option",{value:lt.id,children:[" ",lt.name]},lt.id))]}),rt.jsx("textarea",{placeholder:"Describe your progress or criteria",value:p,onChange:lt=>y(lt.target.value),rows:2,className:"w-full p-2 border rounded mt-2"}),rt.jsx("input",{type:"date",value:T,onChange:lt=>I(lt.target.value),className:"w-full p-2 border rounded mt-2"}),rt.jsxs("label",{className:"flex items-center mt-2",children:[rt.jsx("input",{type:"checkbox",checked:x,onChange:lt=>F(lt.target.checked),className:"mr-2"}),"Mark as completed"]})]}),rt.jsx("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition",children:$==="saving"?"Saving...":"Submit Check-In"}),$==="success"&&rt.jsx("p",{className:"text-green-600",children:"Check-in saved!"}),$==="error"&&rt.jsx("p",{className:"text-red-600",children:"Failed to save check-in."})]})}function NC({userId:r}){const[t,n]=ie.useState({});return ie.useEffect(()=>{(async()=>{const l=Ya.currentUser;if(!l)return;const c=await Al(Ui(wr,`users/${l.uid}/goals`)),f={};for(const g of c.docs){const p=g.id,y=Ui(wr,`users/${l.uid}/checkins`),T=q0(y,iI("goalId","==",p)),I=await Al(T);f[p]=I.size}n(f)})()},[]),rt.jsxs("div",{className:"p-4",children:[rt.jsx("h3",{className:"text-lg font-semibold",children:"Goal Progress"}),rt.jsx("ul",{className:"list-disc pl-6",children:Object.entries(t).map(([s,l])=>rt.jsxs("li",{children:["Goal ID: ",s,"  Check-ins: ",l]},s))})]})}var wT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Jv=Rs.createContext&&Rs.createContext(wT),VC=["attr","size","title"];function MC(r,t){if(r==null)return{};var n=PC(r,t),s,l;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(r);for(l=0;l<c.length;l++)s=c[l],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(n[s]=r[s])}return n}function PC(r,t){if(r==null)return{};var n={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}function Jc(){return Jc=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},Jc.apply(this,arguments)}function tE(r,t){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);t&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable})),n.push.apply(n,s)}return n}function th(r){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tE(Object(n),!0).forEach(function(s){UC(r,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):tE(Object(n)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))})}return r}function UC(r,t,n){return t=kC(t),t in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n,r}function kC(r){var t=xC(r,"string");return typeof t=="symbol"?t:t+""}function xC(r,t){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function RT(r){return r&&r.map((t,n)=>Rs.createElement(t.tag,th({key:n},t.attr),RT(t.child)))}function Eh(r){return t=>Rs.createElement(LC,Jc({attr:th({},r.attr)},t),RT(r.child))}function LC(r){var t=n=>{var{attr:s,size:l,title:c}=r,f=MC(r,VC),g=l||n.size||"1em",p;return n.className&&(p=n.className),r.className&&(p=(p?p+" ":"")+r.className),Rs.createElement("svg",Jc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:p,style:th(th({color:r.color||n.color},n.style),r.style),height:g,width:g,xmlns:"http://www.w3.org/2000/svg"}),c&&Rs.createElement("title",null,c),r.children)};return Jv!==void 0?Rs.createElement(Jv.Consumer,null,n=>t(n)):t(wT)}function zC(r){return Eh({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm0 432c-101.69 0-184-82.29-184-184 0-101.69 82.29-184 184-184 101.69 0 184 82.29 184 184 0 101.69-82.29 184-184 184zm0-312c-70.69 0-128 57.31-128 128s57.31 128 128 128 128-57.31 128-128-57.31-128-128-128zm0 192c-35.29 0-64-28.71-64-64s28.71-64 64-64 64 28.71 64 64-28.71 64-64 64z"},child:[]}]})(r)}function BC(r){return Eh({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(r)}function jC(r){return Eh({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(r)}function qC(r){return Eh({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(r)}function HC(){const[r,t]=ie.useState(null),[n,s]=ie.useState(""),[l,c]=ie.useState([]),[f,g]=ie.useState([]),[p,y]=ie.useState("dashboard"),[T,I]=ie.useState(""),[x,F]=ie.useState([]);ie.useEffect(()=>{const tt=d2(Ya,Et=>{t(Et),Et&&($(Et.uid),et(Et.uid),Z(Et.uid))});return()=>tt()},[]);const $=async tt=>{const ct=(await Al(Ui(wr,`users/${tt}/goals`))).docs.map(bt=>({id:bt.id,name:bt.data().text}));c(ct)},et=async tt=>{const ct=(await Al(q0(Ui(wr,`users/${tt}/checkins`),rI("createdAt","desc")))).docs.map(bt=>({id:bt.id,...bt.data()}));g(ct)},Z=async tt=>{const ct=(await Al(Ui(wr,`users/${tt}/invites`))).docs.map(bt=>bt.data().email);F(ct)},lt=async()=>{n.trim()&&r&&(await Fc(Ui(wr,`users/${r.uid}/goals`),{text:n,createdAt:Kc()}),s(""),$(r.uid))},pt=async()=>{!T.includes("@")||!r||(await Fc(Ui(wr,`users/${r.uid}/invites`),{email:T,createdAt:Kc()}),I(""),Z(r.uid))};return r?rt.jsxs("div",{className:"container",children:[rt.jsxs("header",{children:[rt.jsxs("h1",{children:["Welcome, ",r.email]}),rt.jsx("button",{className:"logout",onClick:()=>m2(Ya),children:"Sign Out"})]}),rt.jsxs("div",{className:"tabs",children:[rt.jsxs("button",{className:p==="dashboard"?"active":"",onClick:()=>y("dashboard"),children:[" ",rt.jsx(jC,{})," Dashboard"," "]}),rt.jsxs("button",{className:p==="goals"?"active":"",onClick:()=>y("goals"),children:[" ",rt.jsx(zC,{})," Goals"," "]}),rt.jsxs("button",{className:p==="checkins"?"active":"",onClick:()=>y("checkins"),children:[" ",rt.jsx(BC,{})," Check-Ins"," "]}),rt.jsxs("button",{className:p==="circles"?"active":"",onClick:()=>y("circles"),children:[" ",rt.jsx(qC,{})," Circles"," "]})]}),p==="dashboard"&&rt.jsxs("section",{children:[rt.jsx("h2",{children:"Dashboard"}),rt.jsx(NC,{userId:r.uid})]}),p==="goals"&&rt.jsxs("section",{children:[rt.jsx("h2",{children:"Goals"}),rt.jsx("input",{value:n,onChange:tt=>s(tt.target.value),placeholder:"Add a new goal"}),rt.jsx("button",{onClick:lt,children:"Add Goal"}),rt.jsx("ul",{children:l.map((tt,Et)=>rt.jsx("li",{children:tt.name},tt.id))})]}),p==="checkins"&&rt.jsxs("section",{children:[rt.jsx(OC,{goals:l,onCheckinSaved:()=>et(r.uid)}),rt.jsx("ul",{className:"space-y-4 mt-6",children:f.map(tt=>rt.jsxs("li",{className:"border p-3 rounded bg-gray-50",children:[rt.jsxs("p",{className:"text-sm text-gray-600",children:[" ",tt.circle]}),rt.jsx("p",{className:"font-medium",children:tt.message}),tt.goal&&rt.jsxs("div",{className:"mt-2 p-2 border-l-4 border-blue-300 bg-blue-50",children:[rt.jsxs("p",{className:"font-semibold",children:[" Goal: ",tt.goal.name]}),tt.goal.description&&rt.jsx("p",{className:"text-sm",children:tt.goal.description}),tt.goal.dueDate&&rt.jsxs("p",{className:"text-xs text-gray-500",children:["Due: ",tt.goal.dueDate]}),tt.goal.completed&&rt.jsx("p",{className:"text-green-600 text-sm mt-1",children:" Completed"})]})]},tt.id))})]}),p==="circles"&&rt.jsxs("section",{children:[rt.jsx("h2",{children:"Your Accountability Circle"}),rt.jsx("input",{type:"email",placeholder:"Enter email to invite",value:T,onChange:tt=>I(tt.target.value)}),rt.jsx("button",{onClick:pt,children:"Send Invite"}),x.length===0?rt.jsx("p",{style:{marginTop:"1rem"},children:"You havent invited anyone yet."}):rt.jsx("ul",{style:{marginTop:"1rem"},children:x.map((tt,Et)=>rt.jsxs("li",{children:[" ",tt," (invited)"]},Et))})]})]}):rt.jsx(CC,{onAuth:t})}oS.createRoot(document.getElementById("root")).render(rt.jsx(ie.StrictMode,{children:rt.jsx(HC,{})}));
